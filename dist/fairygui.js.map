{"version":3,"file":"fairygui.js","sources":["../src/FieldTypes.ts","../src/display/BlendMode.ts","../src/event/Event.ts","../src/tween/EaseType.ts","../src/gears/GearBase.ts","../src/gears/GearAnimation.ts","../src/gears/GearColor.ts","../src/gears/GearDisplay.ts","../src/gears/GearDisplay2.ts","../src/gears/GearFontSize.ts","../src/gears/GearIcon.ts","../src/utils/Pool.ts","../src/tween/EaseManager.ts","../src/tween/TweenValue.ts","../src/tween/GTweener.ts","../src/tween/TweenManager.ts","../src/tween/GTween.ts","../src/gears/GearLook.ts","../src/gears/GearSize.ts","../src/gears/GearText.ts","../src/gears/GearXY.ts","../src/RelationItem.ts","../src/Relations.ts","../src/UIConfig.ts","../src/GObject.ts","../src/GGroup.ts","../src/GGraph.ts","../src/display/Image.ts","../src/GImage.ts","../src/display/MovieClip.ts","../src/GMovieClip.ts","../src/UIContentScaler.ts","../src/PackageItem.ts","../src/TranslationHelper.ts","../src/utils/ByteBuffer.ts","../src/event/HitTest.ts","../src/UIPackage.ts","../src/utils/ToolSet.ts","../src/utils/UBBParser.ts","../src/GTextField.ts","../src/GRichTextField.ts","../src/event/InputProcessor.ts","../src/action/ControllerAction.ts","../src/action/PlayTransitionAction.ts","../src/action/ChangePageAction.ts","../src/Controller.ts","../src/Margin.ts","../src/ScrollPane.ts","../src/tween/GPathPoint.ts","../src/tween/GPath.ts","../src/Transition.ts","../src/GComponent.ts","../src/Window.ts","../src/GRoot.ts","../src/GTextInput.ts","../src/GObjectPool.ts","../src/GLoader.ts","../src/GLoader3D.ts","../src/GLabel.ts","../src/GButton.ts","../src/GList.ts","../src/GComboBox.ts","../src/GSlider.ts","../src/GProgressBar.ts","../src/GScrollBar.ts","../src/GTreeNode.ts","../src/GTree.ts","../src/PopupMenu.ts","../src/UIObjectFactory.ts","../src/DragDropManager.ts","../src/AsyncOperation.ts"],"sourcesContent":["\nexport enum ButtonMode {\n    Common,\n    Check,\n    Radio\n}\nexport enum AutoSizeType {\n    None,\n    Both,\n    Height,\n    Shrink\n}\nexport enum AlignType {\n    Left,\n    Center,\n    Right\n}\nexport enum VertAlignType {\n    Top,\n    Middle,\n    Bottom\n}\nexport enum LoaderFillType {\n    None,\n    Scale,\n    ScaleMatchHeight,\n    ScaleMatchWidth,\n    ScaleFree,\n    ScaleNoBorder\n}\nexport enum ListLayoutType {\n    SingleColumn,\n    SingleRow,\n    FlowHorizontal,\n    FlowVertical,\n    Pagination\n}\nexport enum ListSelectionMode {\n    Single,\n    Multiple,\n    Multiple_SingleClick,\n    None\n}\nexport enum OverflowType {\n    Visible,\n    Hidden,\n    Scroll\n}\nexport enum PackageItemType {\n    Image,\n    MovieClip,\n    Sound,\n    Component,\n    Atlas,\n    Font,\n    Swf,\n    Misc,\n    Unknown,\n    Spine,\n    DragonBones\n}\nexport enum ObjectType {\n    Image,\n    MovieClip,\n    Swf,\n    Graph,\n    Loader,\n    Group,\n    Text,\n    RichText,\n    InputText,\n    Component,\n    List,\n    Label,\n    Button,\n    ComboBox,\n    ProgressBar,\n    Slider,\n    ScrollBar,\n    Tree,\n    Loader3D\n}\nexport enum ProgressTitleType {\n    Percent,\n    ValueAndMax,\n    Value,\n    Max\n}\nexport enum ScrollBarDisplayType {\n    Default,\n    Visible,\n    Auto,\n    Hidden\n}\nexport enum ScrollType {\n    Horizontal,\n    Vertical,\n    Both\n}\nexport enum FlipType {\n    None,\n    Horizontal,\n    Vertical,\n    Both\n}\nexport enum ChildrenRenderOrder {\n    Ascent,\n    Descent,\n    Arch\n}\nexport enum GroupLayoutType {\n    None,\n    Horizontal,\n    Vertical\n}\nexport enum PopupDirection {\n    Auto,\n    Up,\n    Down\n}\nexport enum RelationType {\n    Left_Left = 0,\n    Left_Center = 1,\n    Left_Right = 2,\n    Center_Center = 3,\n    Right_Left = 4,\n    Right_Center = 5,\n    Right_Right = 6,\n\n    Top_Top = 7,\n    Top_Middle = 8,\n    Top_Bottom = 9,\n    Middle_Middle = 10,\n    Bottom_Top = 11,\n    Bottom_Middle = 12,\n    Bottom_Bottom = 13,\n\n    Width = 14,\n    Height = 15,\n\n    LeftExt_Left = 16,\n    LeftExt_Right = 17,\n    RightExt_Left = 18,\n    RightExt_Right = 19,\n    TopExt_Top = 20,\n    TopExt_Bottom = 21,\n    BottomExt_Top = 22,\n    BottomExt_Bottom = 23,\n\n    Size = 24\n}\n\nexport enum FillMethod {\n    None,\n    Horizontal,\n    Vertical,\n    Radial90,\n    Radial180,\n    Radial360,\n}\n\nexport enum FillOrigin {\n    Top,\n    Bottom,\n    Left,\n    Right\n}\n\nexport enum ObjectPropID {\n    Text,\n    Icon,\n    Color,\n    OutlineColor,\n    Playing,\n    Frame,\n    DeltaTime,\n    TimeScale,\n    FontSize,\n    Selected\n}","import { gfx, Node, RenderComponent } from \"cc\";\r\n\r\nexport enum BlendMode {\r\n    Normal,\r\n    None,\r\n    Add,\r\n    Multiply,\r\n    Screen,\r\n    Erase,\r\n    Mask,\r\n    Below,\r\n    Off,\r\n    Custom1,\r\n    Custom2,\r\n    Custom3\r\n}\r\n\r\nexport class BlendModeUtils {\r\n    public static apply(node: Node, blendMode: BlendMode) {\r\n        let f = factors[<number>blendMode];\r\n        let renderers = node.getComponentsInChildren(RenderComponent);\r\n        renderers.forEach(element => {\r\n            (<any>element).srcBlendFactor = f[0];\r\n            (<any>element).dstBlendFactor = f[1];\r\n        });\r\n    }\r\n\r\n    public static override(blendMode: BlendMode, srcFactor: number, dstFactor: number) {\r\n        factors[<number>blendMode][0] = srcFactor;\r\n        factors[<number>blendMode][1] = dstFactor;\r\n    }\r\n}\r\n\r\nconst factors = [\r\n    [gfx.BlendFactor.SRC_ALPHA, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //normal\r\n    [gfx.BlendFactor.ONE, gfx.BlendFactor.ONE], //none\r\n    [gfx.BlendFactor.SRC_ALPHA, gfx.BlendFactor.ONE], //add\r\n    [gfx.BlendFactor.DST_COLOR, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //mul\r\n    [gfx.BlendFactor.ONE, gfx.BlendFactor.ONE_MINUS_SRC_COLOR], //screen\r\n    [gfx.BlendFactor.ZERO, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //erase\r\n    [gfx.BlendFactor.ZERO, gfx.BlendFactor.SRC_ALPHA], //mask\r\n    [gfx.BlendFactor.ONE_MINUS_DST_ALPHA, gfx.BlendFactor.DST_ALPHA], //below\r\n    [gfx.BlendFactor.ONE, gfx.BlendFactor.ZERO], //off\r\n    [gfx.BlendFactor.SRC_ALPHA, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //custom1\r\n    [gfx.BlendFactor.SRC_ALPHA, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //custom2\r\n    [gfx.BlendFactor.SRC_ALPHA, gfx.BlendFactor.ONE_MINUS_SRC_ALPHA], //custom2\r\n];\r\n","import { Event as CCEvent, Node, Touch, Vec2 } from 'cc';\r\nimport { GObject } from '../GObject';\r\nimport { InputProcessor } from './InputProcessor';\r\n\r\nexport class Event extends CCEvent {\r\n    public static TOUCH_BEGIN: string = \"fui_touch_begin\";\r\n    public static TOUCH_MOVE: string = \"fui_touch_move\";\r\n    public static TOUCH_END: string = \"fui_touch_end\";\r\n    public static CLICK: string = \"fui_click\";\r\n    public static ROLL_OVER: string = \"fui_roll_over\";\r\n    public static ROLL_OUT: string = \"fui_roll_out\";\r\n    public static MOUSE_WHEEL: string = \"fui_mouse_wheel\"\r\n\r\n    public static DISPLAY: string = \"fui_display\";\r\n    public static UNDISPLAY: string = \"fui_undisplay\";\r\n    public static GEAR_STOP: string = \"fui_gear_stop\";\r\n    public static LINK: string = \"fui_text_link\";\r\n    public static Submit: string = \"editing-return\";\r\n    public static TEXT_CHANGE: string = \"text-changed\";\r\n\r\n    public static STATUS_CHANGED: string = \"fui_status_changed\";\r\n    public static XY_CHANGED: string = \"fui_xy_changed\";\r\n    public static SIZE_CHANGED: string = \"fui_size_changed\";\r\n    public static SIZE_DELAY_CHANGE: string = \"fui_size_delay_change\";\r\n\r\n    public static DRAG_START: string = \"fui_drag_start\";\r\n    public static DRAG_MOVE: string = \"fui_drag_move\";\r\n    public static DRAG_END: string = \"fui_drag_end\";\r\n    public static DROP: string = \"fui_drop\";\r\n\r\n    public static SCROLL: string = \"fui_scroll\";\r\n    public static SCROLL_END: string = \"fui_scroll_end\";\r\n    public static PULL_DOWN_RELEASE: string = \"fui_pull_down_release\";\r\n    public static PULL_UP_RELEASE: string = \"fui_pull_up_release\";\r\n\r\n    public static CLICK_ITEM: string = \"fui_click_item\";\r\n\r\n    public initiator: GObject;\r\n    public pos: Vec2 = new Vec2();\r\n    public touch: Touch;\r\n    public touchId: number = 0;\r\n    public clickCount: number = 0;\r\n    public button: number = 0;\r\n    public keyModifiers: number = 0;\r\n    public mouseWheelDelta: number = 0;\r\n    public _processor: InputProcessor;\r\n\r\n    constructor(type: string, bubbles: boolean) {\r\n        super(type, bubbles);\r\n    }\r\n\r\n    public get sender(): GObject | null {\r\n        return GObject.cast(<Node>this.currentTarget);\r\n    }\r\n\r\n    public get isShiftDown(): boolean {\r\n        return false;\r\n    }\r\n\r\n    public get isCtrlDown(): boolean {\r\n        return false;\r\n    }\r\n\r\n    public captureTouch() {\r\n        let obj = GObject.cast(<Node>this.currentTarget);\r\n        if (obj)\r\n            this._processor.addTouchMonitor(this.touchId, obj);\r\n    }\r\n}\r\n\r\nvar eventPool: Array<Event> = new Array<Event>();\r\n\r\nexport function borrowEvent(type: string, bubbles?: boolean): Event {\r\n    let evt: Event;\r\n    if (eventPool.length) {\r\n        evt = eventPool.pop();\r\n        evt.type = type;\r\n        evt.bubbles = bubbles;\r\n    }\r\n    else {\r\n        evt = new Event(type, bubbles);\r\n    }\r\n    return evt;\r\n}\r\n\r\nexport function returnEvent(evt: Event) {\r\n    evt.initiator = null;\r\n    evt.touch = null;\r\n    evt.unuse();\r\n\r\n    eventPool.push(evt);\r\n}","\r\nexport enum EaseType {\r\n    Linear = 0,\r\n    SineIn = 1,\r\n    SineOut = 2,\r\n    SineInOut = 3,\r\n    QuadIn = 4,\r\n    QuadOut = 5,\r\n    QuadInOut = 6,\r\n    CubicIn = 7,\r\n    CubicOut = 8,\r\n    CubicInOut = 9,\r\n    QuartIn = 10,\r\n    QuartOut = 11,\r\n    QuartInOut = 12,\r\n    QuintIn = 13,\r\n    QuintOut = 14,\r\n    QuintInOut = 15,\r\n    ExpoIn = 16,\r\n    ExpoOut = 17,\r\n    ExpoInOut = 18,\r\n    CircIn = 19,\r\n    CircOut = 20,\r\n    CircInOut = 21,\r\n    ElasticIn = 22,\r\n    ElasticOut = 23,\r\n    ElasticInOut = 24,\r\n    BackIn = 25,\r\n    BackOut = 26,\r\n    BackInOut = 27,\r\n    BounceIn = 28,\r\n    BounceOut = 29,\r\n    BounceInOut = 30,\r\n    Custom = 31,\r\n}\r\n\r\n","import { Controller } from \"../Controller\";\r\nimport { constructingDepth, GObject } from \"../GObject\";\r\nimport { EaseType } from \"../tween/EaseType\";\r\nimport { GTweener } from \"../tween/GTweener\";\r\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\r\n\r\nexport class GearBase {\r\n    public static disableAllTweenEffect?: boolean;\r\n\r\n    public _owner: GObject;\r\n    protected _controller: Controller;\r\n    protected _tweenConfig: GearTweenConfig;\r\n\r\n    public dispose(): void {\r\n        if (this._tweenConfig && this._tweenConfig._tweener) {\r\n            this._tweenConfig._tweener.kill();\r\n            this._tweenConfig._tweener = null;\r\n        }\r\n    }\r\n\r\n    public get controller(): Controller {\r\n        return this._controller;\r\n    }\r\n\r\n    public set controller(val: Controller) {\r\n        if (val != this._controller) {\r\n            this._controller = val;\r\n            if (this._controller)\r\n                this.init();\r\n        }\r\n    }\r\n\r\n    public get tweenConfig(): GearTweenConfig {\r\n        if (!this._tweenConfig)\r\n            this._tweenConfig = new GearTweenConfig();\r\n        return this._tweenConfig;\r\n    }\r\n\r\n    protected get allowTween(): boolean {\r\n        return this._tweenConfig && this._tweenConfig.tween && constructingDepth.n == 0 && !GearBase.disableAllTweenEffect;\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        this._controller = this._owner.parent.getControllerAt(buffer.readShort());\r\n        this.init();\r\n\r\n        var i: number;\r\n        var page: string;\r\n        var cnt: number = buffer.readShort();\r\n\r\n        if (\"pages\" in this) {\r\n            (<any>this).pages = buffer.readSArray(cnt);\r\n        }\r\n        else {\r\n            for (i = 0; i < cnt; i++) {\r\n                page = buffer.readS();\r\n                if (page == null)\r\n                    continue;\r\n\r\n                this.addStatus(page, buffer);\r\n            }\r\n\r\n            if (buffer.readBool())\r\n                this.addStatus(null, buffer);\r\n        }\r\n\r\n        if (buffer.readBool()) {\r\n            this._tweenConfig = new GearTweenConfig();\r\n            this._tweenConfig.easeType = buffer.readByte();\r\n            this._tweenConfig.duration = buffer.readFloat();\r\n            this._tweenConfig.delay = buffer.readFloat();\r\n        }\r\n\r\n        if (buffer.version >= 2) {\r\n            if (\"positionsInPercent\" in this) {\r\n                if (buffer.readBool()) {\r\n                    (<any>this).positionsInPercent = true;\r\n                    for (i = 0; i < cnt; i++) {\r\n                        page = buffer.readS();\r\n                        if (page == null)\r\n                            continue;\r\n\r\n                        (<any>this).addExtStatus(page, buffer);\r\n                    }\r\n\r\n                    if (buffer.readBool())\r\n                        (<any>this).addExtStatus(null, buffer);\r\n                }\r\n            }\r\n            else if (\"condition\" in this)\r\n                (<any>this).condition = buffer.readByte();\r\n        }\r\n    }\r\n\r\n    public updateFromRelations(dx: number, dy: number): void {\r\n\r\n    }\r\n\r\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\r\n\r\n    }\r\n\r\n    protected init(): void {\r\n\r\n    }\r\n\r\n    public apply(): void {\r\n    }\r\n\r\n    public updateState(): void {\r\n    }\r\n}\r\n\r\nexport class GearTweenConfig {\r\n    public tween: boolean;\r\n    public easeType: number;\r\n    public duration: number;\r\n    public delay: number;\r\n\r\n    public _displayLockToken: number;\r\n    public _tweener: GTweener;\r\n\r\n    constructor() {\r\n        this.tween = true;\r\n        this.easeType = EaseType.QuadOut;\r\n        this.duration = 0.3;\r\n        this.delay = 0;\r\n    }\r\n}\r\n\r\nexport interface IGearXY {\r\n\r\n}","import { GearBase } from \"./GearBase\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { ObjectPropID } from \"../FieldTypes\";\n\nexport class GearAnimation extends GearBase {\n    private _storage: { [index: string]: GearAnimationValue };\n    private _default: GearAnimationValue;\n\n    protected init(): void {\n        this._default = {\n            playing: this._owner.getProp(ObjectPropID.Playing),\n            frame: this._owner.getProp(ObjectPropID.Frame)\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearAnimationValue;\n        if (!pageId)\n            gv = this._default;\n        else {\n            gv = {};\n            this._storage[pageId] = gv;\n        }\n        gv.playing = buffer.readBool();\n        gv.frame = buffer.readInt();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var gv: GearAnimationValue = this._storage[this._controller.selectedPageId] || this._default;\n        this._owner.setProp(ObjectPropID.Playing, gv.playing);\n        this._owner.setProp(ObjectPropID.Frame, gv.frame);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        var gv: GearAnimationValue = this._storage[this._controller.selectedPageId];\n        if (!gv) {\n            gv = {};\n            this._storage[this._controller.selectedPageId] = gv;\n        }\n\n        gv.playing = this._owner.getProp(ObjectPropID.Playing);\n        gv.frame = this._owner.getProp(ObjectPropID.Frame);\n    }\n}\n\ninterface GearAnimationValue {\n    playing?: boolean;\n    frame?: number;\n}\n\n","import { Color } from \"cc\";\nimport { ObjectPropID } from \"../FieldTypes\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearColor extends GearBase {\n    private _storage: { [index: string]: GearColorValue };\n    private _default: GearColorValue;\n\n    protected init(): void {\n        this._default = {\n            color: this._owner.getProp(ObjectPropID.Color),\n            strokeColor: this._owner.getProp(ObjectPropID.OutlineColor)\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearColorValue;\n        if (!pageId)\n            gv = this._default;\n        else {\n            gv = {};\n            this._storage[pageId] = gv;\n        }\n\n        gv.color = buffer.readColor();\n        gv.strokeColor = buffer.readColor();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var gv: GearColorValue = this._storage[this._controller.selectedPageId] || this._default;\n        this._owner.setProp(ObjectPropID.Color, gv.color);\n        this._owner.setProp(ObjectPropID.OutlineColor, gv.strokeColor);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        var gv: GearColorValue = this._storage[this._controller.selectedPageId];\n        if (!gv) {\n            gv = {};\n            this._storage[this._controller.selectedPageId] = gv;\n        }\n\n        gv.color = this._owner.getProp(ObjectPropID.Color);\n        gv.strokeColor = this._owner.getProp(ObjectPropID.OutlineColor);\n    }\n}\n\ninterface GearColorValue {\n    color?: Color;\n    strokeColor?: Color;\n}\n","import { GearBase } from \"./GearBase\";\n\nexport class GearDisplay extends GearBase {\n    public pages: string[] = null;\n\n    private _visible: number = 0;\n    private _displayLockToken: number = 1;\n\n    protected init(): void {\n        this.pages = null;\n    }\n\n    public addLock(): number {\n        this._visible++;\n        return this._displayLockToken;\n    }\n\n    public releaseLock(token: number): void {\n        if (token == this._displayLockToken)\n            this._visible--;\n    }\n\n    public get connected(): boolean {\n        return this._controller == null || this._visible > 0;\n    }\n\n    public apply(): void {\n        this._displayLockToken++;\n        if (this._displayLockToken <= 0)\n            this._displayLockToken = 1;\n\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n}\n","import { GearBase } from \"./GearBase\";\n\nexport class GearDisplay2 extends GearBase {\n    public pages: string[] = null;\n    public condition: number = 0;\n\n    private _visible: number = 0;\n\n    protected init(): void {\n        this.pages = null;\n    }\n\n    public apply(): void {\n        if (this.pages == null || this.pages.length == 0\n            || this.pages.indexOf(this._controller.selectedPageId) != -1)\n            this._visible = 1;\n        else\n            this._visible = 0;\n    }\n\n    public evaluate(connected: boolean): boolean {\n        var v: boolean = this._controller == null || this._visible > 0;\n        if (this.condition == 0)\n            v = v && connected;\n        else\n            v = v || connected;\n        return v;\n    }\n}\n","import { ObjectPropID } from \"../FieldTypes\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearFontSize extends GearBase {\n    private _storage: { [index: string]: number };\n    private _default: number = 0;\n\n    protected init(): void {\n        this._default = this._owner.getProp(ObjectPropID.FontSize);\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (!pageId)\n            this._default = buffer.readInt();\n        else\n            this._storage[pageId] = buffer.readInt();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.setProp(ObjectPropID.FontSize, data);\n        else\n            this._owner.setProp(ObjectPropID.FontSize, this._default);\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.getProp(ObjectPropID.FontSize);\n    }\n}\n","import { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearIcon extends GearBase {\n    private _storage: { [index: string]: string };\n    private _default: string;\n\n    protected init(): void {\n        this._default = this._owner.icon;\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (!pageId)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.icon = data;\n        else\n            this._owner.icon = this._default;\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.icon;\n    }\n}\n","export class Pool<T extends Object>\n{\n    pool: Array<T> = [];\n    _init?: (arg0: T, ...argArray: any[]) => void;\n    _reset?: (arg0: T) => void;\n    _ct: new () => T;\n\n    public constructor(type: new () => T, init?: (arg0: T) => void, reset?: (arg0: T) => void) {\n        this._init = init;\n        this._reset = reset;\n        this._ct = type;\n    }\n\n    public borrow(...argArray: any[]): T {\n        let ret: T;\n        if (this.pool.length > 0)\n            ret = this.pool.pop();\n        else\n            ret = new this._ct();\n\n        if (this._init)\n            this._init(ret, ...argArray);\n\n        return ret;\n    }\n\n    public returns(element: T | Array<T>) {\n        if (Array.isArray(element)) {\n            let count = element.length;\n            for (let i = 0; i < count; i++) {\n                let element2 = element[i];\n                if (this._reset)\n                    this._reset(element2);\n                this.pool.push(element2);\n            }\n            element.length = 0;\n        }\n        else {\n            if (this._reset)\n                this._reset(element);\n            this.pool.push(element);\n        }\n    }\n}","// Author: Daniele Giardini - http://www.demigiant.com\r\n// Created: 2014/07/19 14:11\r\n// \r\n// License Copyright (c) Daniele Giardini.\r\n// This work is subject to the terms at http://dotween.demigiant.com/license.php\r\n// \r\n// =============================================================\r\n// Contains Daniele Giardini's C# port of the easing equations created by Robert Penner\r\n// (all easing equations except for Flash, InFlash, OutFlash, InOutFlash,\r\n// which use some parts of Robert Penner's equations but were created by Daniele Giardini)\r\n// http://robertpenner.com/easing, see license below:\r\n// =============================================================\r\n//\r\n// TERMS OF USE - EASING EQUATIONS\r\n//\r\n// Open source under the BSD License.\r\n//\r\n// Copyright ? 2001 Robert Penner\r\n// All rights reserved.\r\n//\r\n// Redistribution and use in source and binary forms, with or without modification,\r\n// are permitted provided that the following conditions are met:\r\n//\r\n// - Redistributions of source code must retain the above copyright notice,\r\n// this list of conditions and the following disclaimer.\r\n// - Redistributions in binary form must reproduce the above copyright notice,\r\n// this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\n// - Neither the name of the author nor the names of contributors may be used to endorse\r\n// or promote products derived} from this software without specific prior written permission.\r\n// - THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n// THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n// IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\r\n// STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\r\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\r\nimport { EaseType } from \"./EaseType\";\r\n\r\nconst _PiOver2: number = Math.PI * 0.5;\r\nconst _TwoPi: number = Math.PI * 2;\r\n\r\nexport function evaluateEase(easeType: number, time: number, duration: number, overshootOrAmplitude: number, period: number): number {\r\n    switch (easeType) {\r\n        case EaseType.Linear:\r\n            return time / duration;\r\n        case EaseType.SineIn:\r\n            return -Math.cos(time / duration * _PiOver2) + 1;\r\n        case EaseType.SineOut:\r\n            return Math.sin(time / duration * _PiOver2);\r\n        case EaseType.SineInOut:\r\n            return -0.5 * (Math.cos(Math.PI * time / duration) - 1);\r\n        case EaseType.QuadIn:\r\n            return (time /= duration) * time;\r\n        case EaseType.QuadOut:\r\n            return -(time /= duration) * (time - 2);\r\n        case EaseType.QuadInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time;\r\n            return -0.5 * ((--time) * (time - 2) - 1);\r\n        case EaseType.CubicIn:\r\n            return (time /= duration) * time * time;\r\n        case EaseType.CubicOut:\r\n            return ((time = time / duration - 1) * time * time + 1);\r\n        case EaseType.CubicInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time;\r\n            return 0.5 * ((time -= 2) * time * time + 2);\r\n        case EaseType.QuartIn:\r\n            return (time /= duration) * time * time * time;\r\n        case EaseType.QuartOut:\r\n            return -((time = time / duration - 1) * time * time * time - 1);\r\n        case EaseType.QuartInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time * time;\r\n            return -0.5 * ((time -= 2) * time * time * time - 2);\r\n        case EaseType.QuintIn:\r\n            return (time /= duration) * time * time * time * time;\r\n        case EaseType.QuintOut:\r\n            return ((time = time / duration - 1) * time * time * time * time + 1);\r\n        case EaseType.QuintInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * time * time * time * time * time;\r\n            return 0.5 * ((time -= 2) * time * time * time * time + 2);\r\n        case EaseType.ExpoIn:\r\n            return (time == 0) ? 0 : Math.pow(2, 10 * (time / duration - 1));\r\n        case EaseType.ExpoOut:\r\n            if (time == duration) return 1;\r\n            return (-Math.pow(2, -10 * time / duration) + 1);\r\n        case EaseType.ExpoInOut:\r\n            if (time == 0) return 0;\r\n            if (time == duration) return 1;\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * Math.pow(2, 10 * (time - 1));\r\n            return 0.5 * (-Math.pow(2, -10 * --time) + 2);\r\n        case EaseType.CircIn:\r\n            return -(Math.sqrt(1 - (time /= duration) * time) - 1);\r\n        case EaseType.CircOut:\r\n            return Math.sqrt(1 - (time = time / duration - 1) * time);\r\n        case EaseType.CircInOut:\r\n            if ((time /= duration * 0.5) < 1) return -0.5 * (Math.sqrt(1 - time * time) - 1);\r\n            return 0.5 * (Math.sqrt(1 - (time -= 2) * time) + 1);\r\n        case EaseType.ElasticIn:\r\n            var s0: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration) == 1) return 1;\r\n            if (period == 0) period = duration * 0.3;\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s0 = period / 4;\r\n            }\r\n            else s0 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            return -(overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s0) * _TwoPi / period));\r\n        case EaseType.ElasticOut:\r\n            var s1: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration) == 1) return 1;\r\n            if (period == 0) period = duration * 0.3;\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s1 = period / 4;\r\n            }\r\n            else s1 = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            return (overshootOrAmplitude * Math.pow(2, -10 * time) * Math.sin((time * duration - s1) * _TwoPi / period) + 1);\r\n        case EaseType.ElasticInOut:\r\n            var s: number;\r\n            if (time == 0) return 0;\r\n            if ((time /= duration * 0.5) == 2) return 1;\r\n            if (period == 0) period = duration * (0.3 * 1.5);\r\n            if (overshootOrAmplitude < 1) {\r\n                overshootOrAmplitude = 1;\r\n                s = period / 4;\r\n            }\r\n            else s = period / _TwoPi * Math.asin(1 / overshootOrAmplitude);\r\n            if (time < 1) return -0.5 * (overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period));\r\n            return overshootOrAmplitude * Math.pow(2, -10 * (time -= 1)) * Math.sin((time * duration - s) * _TwoPi / period) * 0.5 + 1;\r\n        case EaseType.BackIn:\r\n            return (time /= duration) * time * ((overshootOrAmplitude + 1) * time - overshootOrAmplitude);\r\n        case EaseType.BackOut:\r\n            return ((time = time / duration - 1) * time * ((overshootOrAmplitude + 1) * time + overshootOrAmplitude) + 1);\r\n        case EaseType.BackInOut:\r\n            if ((time /= duration * 0.5) < 1) return 0.5 * (time * time * (((overshootOrAmplitude *= (1.525)) + 1) * time - overshootOrAmplitude));\r\n            return 0.5 * ((time -= 2) * time * (((overshootOrAmplitude *= (1.525)) + 1) * time + overshootOrAmplitude) + 2);\r\n        case EaseType.BounceIn:\r\n            return bounce_easeIn(time, duration);\r\n        case EaseType.BounceOut:\r\n            return bounce_easeOut(time, duration);\r\n        case EaseType.BounceInOut:\r\n            return bounce_easeInOut(time, duration);\r\n\r\n        default:\r\n            return -(time /= duration) * (time - 2);\r\n    }\r\n}\r\n\r\n\r\nfunction bounce_easeIn(time: number, duration: number): number {\r\n    return 1 - bounce_easeOut(duration - time, duration);\r\n}\r\n\r\nfunction bounce_easeOut(time: number, duration: number): number {\r\n    if ((time /= duration) < (1 / 2.75)) {\r\n        return (7.5625 * time * time);\r\n    }\r\n    if (time < (2 / 2.75)) {\r\n        return (7.5625 * (time -= (1.5 / 2.75)) * time + 0.75);\r\n    }\r\n    if (time < (2.5 / 2.75)) {\r\n        return (7.5625 * (time -= (2.25 / 2.75)) * time + 0.9375);\r\n    }\r\n    return (7.5625 * (time -= (2.625 / 2.75)) * time + 0.984375);\r\n}\r\n\r\nfunction bounce_easeInOut(time: number, duration: number): number {\r\n    if (time < duration * 0.5) {\r\n        return bounce_easeIn(time * 2, duration) * 0.5;\r\n    }\r\n    return bounce_easeOut(time * 2 - duration, duration) * 0.5 + 0.5;\r\n}\r\n\r\n\r\n","\r\nexport class TweenValue {\r\n    public x: number;\r\n    public y: number;\r\n    public z: number;\r\n    public w: number;\r\n\r\n    public constructor() {\r\n        this.x = this.y = this.z = this.w = 0;\r\n    }\r\n\r\n    public get color(): number {\r\n        return (this.w << 24) + (this.x << 16) + (this.y << 8) + this.z;\r\n    }\r\n\r\n    public set color(value: number) {\r\n        this.x = (value & 0xFF0000) >> 16;\r\n        this.y = (value & 0x00FF00) >> 8;\r\n        this.z = (value & 0x0000FF);\r\n        this.w = (value & 0xFF000000) >> 24;\r\n    }\r\n\r\n    public getField(index: number): number {\r\n        switch (index) {\r\n            case 0:\r\n                return this.x;\r\n            case 1:\r\n                return this.y;\r\n            case 2:\r\n                return this.z;\r\n            case 3:\r\n                return this.w;\r\n            default:\r\n                throw new Error(\"Index out of bounds: \" + index);\r\n        }\r\n    }\r\n\r\n    public setField(index: number, value: number): void {\r\n        switch (index) {\r\n            case 0:\r\n                this.x = value;\r\n                break;\r\n            case 1:\r\n                this.y = value;\r\n                break;\r\n            case 2:\r\n                this.z = value;\r\n                break;\r\n            case 3:\r\n                this.w = value;\r\n                break;\r\n            default:\r\n                throw new Error(\"Index out of bounds: \" + index);\r\n        }\r\n    }\r\n\r\n    public setZero(): void {\r\n        this.x = this.y = this.z = this.w = 0;\r\n    }\r\n}","import { EaseType } from \"./EaseType\";\r\nimport { GPath } from \"./GPath\";\r\nimport { evaluateEase } from \"./EaseManager\";\r\nimport { Vec2 } from \"cc\";\r\nimport { TweenValue } from \"./TweenValue\";\r\n\r\nvar s_vec2: Vec2 = new Vec2();\r\n\r\nexport class GTweener {\r\n    public _target: any;\r\n    public _propType: any;\r\n    public _killed: boolean;\r\n    public _paused: boolean;\r\n\r\n    private _delay: number = 0;\r\n    private _duration: number = 0;\r\n    private _breakpoint: number = 0;\r\n    private _easeType: number = 0;\r\n    private _easeOvershootOrAmplitude: number = 0;\r\n    private _easePeriod: number = 0;\r\n    private _repeat: number = 0;\r\n    private _yoyo: boolean = false;\r\n    private _timeScale: number = 1;\r\n    private _snapping: boolean = false;\r\n    private _userData: any;\r\n    private _path: GPath | null;\r\n\r\n    private _onUpdate: Function | null;\r\n    private _onStart: Function | null;\r\n    private _onComplete: Function | null;\r\n    private _onUpdateCaller: any | null;\r\n    private _onStartCaller: any | null;\r\n    private _onCompleteCaller: any | null;\r\n\r\n    private _startValue: TweenValue;\r\n    private _endValue: TweenValue;\r\n    private _value: TweenValue;\r\n    private _deltaValue: TweenValue;\r\n    private _valueSize: number;\r\n\r\n    private _started: boolean;\r\n    private _ended: number;\r\n    private _elapsedTime: number;\r\n    private _normalizedTime: number;\r\n\r\n    public constructor() {\r\n        this._startValue = new TweenValue();\r\n        this._endValue = new TweenValue();\r\n        this._value = new TweenValue();\r\n        this._deltaValue = new TweenValue();\r\n\r\n        this._reset();\r\n    }\r\n\r\n    public setDelay(value: number): GTweener {\r\n        this._delay = value;\r\n        return this;\r\n    }\r\n\r\n    public get delay(): number {\r\n        return this._delay;\r\n    }\r\n\r\n    public setDuration(value: number): GTweener {\r\n        this._duration = value;\r\n        return this;\r\n    }\r\n\r\n    public get duration(): number {\r\n        return this._duration;\r\n    }\r\n\r\n    public setBreakpoint(value: number): GTweener {\r\n        this._breakpoint = value;\r\n        return this;\r\n    }\r\n\r\n    public setEase(value: number): GTweener {\r\n        this._easeType = value;\r\n        return this;\r\n    }\r\n\r\n    public setEasePeriod(value: number): GTweener {\r\n        this._easePeriod = value;\r\n        return this;\r\n    }\r\n\r\n    public setEaseOvershootOrAmplitude(value: number): GTweener {\r\n        this._easeOvershootOrAmplitude = value;\r\n        return this;\r\n    }\r\n\r\n    public setRepeat(repeat: number, yoyo?: boolean): GTweener {\r\n        this._repeat = repeat;\r\n        this._yoyo = yoyo;\r\n        return this;\r\n    }\r\n\r\n    public get repeat(): number {\r\n        return this._repeat;\r\n    }\r\n\r\n    public setTimeScale(value: number): GTweener {\r\n        this._timeScale = value;\r\n        return this;\r\n    }\r\n\r\n    public setSnapping(value: boolean): GTweener {\r\n        this._snapping = value;\r\n        return this;\r\n    }\r\n\r\n    public setTarget(value: any, propType?: any): GTweener {\r\n        this._target = value;\r\n        this._propType = propType;\r\n        return this;\r\n    }\r\n\r\n    public get target(): any {\r\n        return this._target;\r\n    }\r\n\r\n    public setPath(value: GPath): GTweener {\r\n        this._path = value;\r\n        return this;\r\n    }\r\n\r\n    public setUserData(value: any): GTweener {\r\n        this._userData = value;\r\n        return this;\r\n    }\r\n\r\n    public get userData(): any {\r\n        return this._userData;\r\n    }\r\n\r\n    public onUpdate(callback: Function, target?: any): GTweener {\r\n        this._onUpdate = callback;\r\n        this._onUpdateCaller = target;\r\n        return this;\r\n    }\r\n\r\n    public onStart(callback: Function, target?: any): GTweener {\r\n        this._onStart = callback;\r\n        this._onStartCaller = target;\r\n        return this;\r\n    }\r\n\r\n    public onComplete(callback: Function, target?: any): GTweener {\r\n        this._onComplete = callback;\r\n        this._onCompleteCaller = target;\r\n        return this;\r\n    }\r\n\r\n    public get startValue(): TweenValue {\r\n        return this._startValue;\r\n    }\r\n\r\n    public get endValue(): TweenValue {\r\n        return this._endValue;\r\n    }\r\n\r\n    public get value(): TweenValue {\r\n        return this._value;\r\n    }\r\n\r\n    public get deltaValue(): TweenValue {\r\n        return this._deltaValue;\r\n    }\r\n\r\n    public get normalizedTime(): number {\r\n        return this._normalizedTime;\r\n    }\r\n\r\n    public get completed(): boolean {\r\n        return this._ended != 0;\r\n    }\r\n\r\n    public get allCompleted(): boolean {\r\n        return this._ended == 1;\r\n    }\r\n\r\n    public setPaused(paused: boolean): GTweener {\r\n        this._paused = paused;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * seek position of the tween, in seconds.\r\n     */\r\n    public seek(time: number): void {\r\n        if (this._killed)\r\n            return;\r\n\r\n        this._elapsedTime = time;\r\n        if (this._elapsedTime < this._delay) {\r\n            if (this._started)\r\n                this._elapsedTime = this._delay;\r\n            else\r\n                return;\r\n        }\r\n\r\n        this.update();\r\n    }\r\n\r\n    public kill(complete?: boolean): void {\r\n        if (this._killed)\r\n            return;\r\n\r\n        if (complete) {\r\n            if (this._ended == 0) {\r\n                if (this._breakpoint >= 0)\r\n                    this._elapsedTime = this._delay + this._breakpoint;\r\n                else if (this._repeat >= 0)\r\n                    this._elapsedTime = this._delay + this._duration * (this._repeat + 1);\r\n                else\r\n                    this._elapsedTime = this._delay + this._duration * 2;\r\n                this.update();\r\n            }\r\n\r\n            this.callCompleteCallback();\r\n        }\r\n\r\n        this._killed = true;\r\n    }\r\n\r\n    public _to(start: number, end: number, duration: number): GTweener {\r\n        this._valueSize = 1;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._value.x = start;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to2(start: number, start2: number, end: number, end2: number, duration: number): GTweener {\r\n        this._valueSize = 2;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to3(start: number, start2: number, start3: number,\r\n        end: number, end2: number, end3: number, duration: number): GTweener {\r\n        this._valueSize = 3;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._startValue.z = start3;\r\n        this._endValue.z = end3;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._value.z = start3;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _to4(start: number, start2: number, start3: number, start4: number,\r\n        end: number, end2: number, end3: number, end4: number, duration: number): GTweener {\r\n        this._valueSize = 4;\r\n        this._startValue.x = start;\r\n        this._endValue.x = end;\r\n        this._startValue.y = start2;\r\n        this._endValue.y = end2;\r\n        this._startValue.z = start3;\r\n        this._endValue.z = end3;\r\n        this._startValue.w = start4;\r\n        this._endValue.w = end4;\r\n        this._value.x = start;\r\n        this._value.y = start2;\r\n        this._value.z = start3;\r\n        this._value.w = start4;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _toColor(start: number, end: number, duration: number): GTweener {\r\n        this._valueSize = 4;\r\n        this._startValue.color = start;\r\n        this._endValue.color = end;\r\n        this._value.color = start;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _shake(startX: number, startY: number, amplitude: number, duration: number): GTweener {\r\n        this._valueSize = 5;\r\n        this._startValue.x = startX;\r\n        this._startValue.y = startY;\r\n        this._startValue.w = amplitude;\r\n        this._duration = duration;\r\n        return this;\r\n    }\r\n\r\n    public _init(): void {\r\n        this._delay = 0;\r\n        this._duration = 0;\r\n        this._breakpoint = -1;\r\n        this._easeType = EaseType.QuadOut;\r\n        this._timeScale = 1;\r\n        this._easePeriod = 0;\r\n        this._easeOvershootOrAmplitude = 1.70158;\r\n        this._snapping = false;\r\n        this._repeat = 0;\r\n        this._yoyo = false;\r\n        this._valueSize = 0;\r\n        this._started = false;\r\n        this._paused = false;\r\n        this._killed = false;\r\n        this._elapsedTime = 0;\r\n        this._normalizedTime = 0;\r\n        this._ended = 0;\r\n    }\r\n\r\n    public _reset(): void {\r\n        this._target = null;\r\n        this._propType = null;\r\n        this._userData = null;\r\n        this._path = null;\r\n        this._onStart = this._onUpdate = this._onComplete = null;\r\n        this._onStartCaller = this._onUpdateCaller = this._onCompleteCaller = null;\r\n    }\r\n\r\n    public _update(dt: number): void {\r\n        if (this._timeScale != 1)\r\n            dt *= this._timeScale;\r\n        if (dt == 0)\r\n            return;\r\n\r\n        if (this._ended != 0) //Maybe completed by seek\r\n        {\r\n            this.callCompleteCallback();\r\n            this._killed = true;\r\n            return;\r\n        }\r\n\r\n        this._elapsedTime += dt;\r\n        this.update();\r\n\r\n        if (this._ended != 0) {\r\n            if (!this._killed) {\r\n                this.callCompleteCallback();\r\n                this._killed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    private update(): void {\r\n        this._ended = 0;\r\n\r\n        if (this._valueSize == 0) //DelayedCall\r\n        {\r\n            if (this._elapsedTime >= this._delay + this._duration)\r\n                this._ended = 1;\r\n\r\n            return;\r\n        }\r\n\r\n        if (!this._started) {\r\n            if (this._elapsedTime < this._delay)\r\n                return;\r\n\r\n            this._started = true;\r\n            this.callStartCallback();\r\n            if (this._killed)\r\n                return;\r\n        }\r\n\r\n        var reversed: boolean = false;\r\n        var tt: number = this._elapsedTime - this._delay;\r\n        if (this._breakpoint >= 0 && tt >= this._breakpoint) {\r\n            tt = this._breakpoint;\r\n            this._ended = 2;\r\n        }\r\n\r\n        if (this._repeat != 0) {\r\n            var round: number = Math.floor(tt / this._duration);\r\n            tt -= this._duration * round;\r\n            if (this._yoyo)\r\n                reversed = round % 2 == 1;\r\n\r\n            if (this._repeat > 0 && this._repeat - round < 0) {\r\n                if (this._yoyo)\r\n                    reversed = this._repeat % 2 == 1;\r\n                tt = this._duration;\r\n                this._ended = 1;\r\n            }\r\n        }\r\n        else if (tt >= this._duration) {\r\n            tt = this._duration;\r\n            this._ended = 1;\r\n        }\r\n\r\n        this._normalizedTime = evaluateEase(this._easeType, reversed ? (this._duration - tt) : tt, this._duration,\r\n            this._easeOvershootOrAmplitude, this._easePeriod);\r\n\r\n        this._value.setZero();\r\n        this._deltaValue.setZero();\r\n\r\n        if (this._valueSize == 5) {\r\n            if (this._ended == 0) {\r\n                var r: number = this._startValue.w * (1 - this._normalizedTime);\r\n                var rx: number = r * (Math.random() > 0.5 ? 1 : -1);\r\n                var ry: number = r * (Math.random() > 0.5 ? 1 : -1);\r\n\r\n                this._deltaValue.x = rx;\r\n                this._deltaValue.y = ry;\r\n                this._value.x = this._startValue.x + rx;\r\n                this._value.y = this._startValue.y + ry;\r\n            }\r\n            else {\r\n                this._value.x = this._startValue.x;\r\n                this._value.y = this._startValue.y;\r\n            }\r\n        }\r\n        else if (this._path) {\r\n            let pt = this._path.getPointAt(this._normalizedTime, s_vec2);\r\n            if (this._snapping) {\r\n                pt.x = Math.round(pt.x);\r\n                pt.y = Math.round(pt.y);\r\n            }\r\n            this._deltaValue.x = pt.x - this._value.x;\r\n            this._deltaValue.y = pt.y - this._value.y;\r\n            this._value.x = pt.x;\r\n            this._value.y = pt.y;\r\n        }\r\n        else {\r\n            for (var i: number = 0; i < this._valueSize; i++) {\r\n                var n1: number = this._startValue.getField(i);\r\n                var n2: number = this._endValue.getField(i);\r\n                var f: number = n1 + (n2 - n1) * this._normalizedTime;\r\n                if (this._snapping)\r\n                    f = Math.round(f);\r\n                this._deltaValue.setField(i, f - this._value.getField(i));\r\n                this._value.setField(i, f);\r\n            }\r\n        }\r\n\r\n        if (this._target && this._propType) {\r\n            if (this._propType instanceof Function) {\r\n                switch (this._valueSize) {\r\n                    case 1:\r\n                        this._propType.call(this._target, this._value.x);\r\n                        break;\r\n                    case 2:\r\n                        this._propType.call(this._target, this._value.x, this._value.y);\r\n                        break;\r\n                    case 3:\r\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z);\r\n                        break;\r\n                    case 4:\r\n                        this._propType.call(this._target, this._value.x, this._value.y, this._value.z, this._value.w);\r\n                        break;\r\n                    case 5:\r\n                        this._propType.call(this._target, this._value.color);\r\n                        break;\r\n                    case 6:\r\n                        this._propType.call(this._target, this._value.x, this._value.y);\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                if (this._valueSize == 5)\r\n                    this._target[this._propType] = this._value.color;\r\n                else\r\n                    this._target[this._propType] = this._value.x;\r\n            }\r\n        }\r\n\r\n        this.callUpdateCallback();\r\n    }\r\n\r\n    private callStartCallback(): void {\r\n        if (this._onStart) {\r\n            try {\r\n                this._onStart.call(this._onStartCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"error in start callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n\r\n    private callUpdateCallback(): void {\r\n        if (this._onUpdate) {\r\n            try {\r\n                this._onUpdate.call(this._onUpdateCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"error in update callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n\r\n    private callCompleteCallback(): void {\r\n        if (this._onComplete) {\r\n            try {\r\n                this._onComplete.call(this._onCompleteCaller, this);\r\n            }\r\n            catch (err) {\r\n                console.log(\"error in complete callback > \" + err);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","import { director, game, Node } from \"cc\";\r\nimport { GObject } from \"../GObject\";\r\nimport { Pool } from \"../utils/Pool\";\r\nimport { GTweener } from \"./GTweener\";\r\n\r\nexport class TweenManager {\r\n    public static createTween(): GTweener {\r\n        if (!_root) {\r\n            _root = new Node(\"[TweenManager]\");\r\n            game.addPersistRootNode(_root);\r\n            director.getScheduler().schedule(TweenManager.update, _root, 0, 0, 0, false);\r\n        }\r\n\r\n        var tweener: GTweener = _tweenerPool.borrow();\r\n        _activeTweens[_totalActiveTweens++] = tweener;\r\n\r\n        return tweener;\r\n    }\r\n\r\n    public static isTweening(target: any, propType?: any): boolean {\r\n        if (target == null)\r\n            return false;\r\n\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < _totalActiveTweens; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public static killTweens(target: any, completed?: boolean, propType?: any): boolean {\r\n        if (target == null)\r\n            return false;\r\n\r\n        var flag: boolean = false;\r\n        var cnt: number = _totalActiveTweens;\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType)) {\r\n                tweener.kill(completed);\r\n                flag = true;\r\n            }\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    public static getTween(target: any, propType?: any): GTweener {\r\n        if (target == null)\r\n            return null;\r\n\r\n        var cnt: number = _totalActiveTweens;\r\n        var anyType: boolean = !propType;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var tweener: GTweener = _activeTweens[i];\r\n            if (tweener && tweener.target == target && !tweener._killed\r\n                && (anyType || tweener._propType == propType)) {\r\n                return tweener;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private static update(dt: number): boolean {\r\n        let tweens: Array<GTweener> = _activeTweens;\r\n        var cnt: number = _totalActiveTweens;\r\n        var freePosStart: number = -1;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var tweener: GTweener = tweens[i];\r\n            if (tweener == null) {\r\n                if (freePosStart == -1)\r\n                    freePosStart = i;\r\n            }\r\n            else if (tweener._killed) {\r\n                tweener._reset();\r\n                _tweenerPool.returns(tweener);\r\n                tweens[i] = null;\r\n\r\n                if (freePosStart == -1)\r\n                    freePosStart = i;\r\n            }\r\n            else {\r\n                if (tweener._target && ('isDisposed' in tweener._target) && tweener._target.isDisposed)\r\n                    tweener._killed = true;\r\n                else if (!tweener._paused)\r\n                    tweener._update(dt);\r\n\r\n                if (freePosStart != -1) {\r\n                    tweens[freePosStart] = tweener;\r\n                    tweens[i] = null;\r\n                    freePosStart++;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (freePosStart >= 0) {\r\n            if (_totalActiveTweens != cnt) //new tweens added\r\n            {\r\n                var j: number = cnt;\r\n                cnt = _totalActiveTweens - cnt;\r\n                for (i = 0; i < cnt; i++)\r\n                    tweens[freePosStart++] = tweens[j++];\r\n            }\r\n            _totalActiveTweens = freePosStart;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nvar _activeTweens: GTweener[] = new Array();\r\nvar _tweenerPool: Pool<GTweener> = new Pool<GTweener>(GTweener, e => e._init(), e => e._reset());\r\nvar _totalActiveTweens: number = 0;\r\nvar _inited: boolean = false;\r\nvar _root: Node;","import { GTweener } from \"./GTweener\";\r\nimport { TweenManager } from \"./TweenManager\";\r\n\r\nexport class GTween {\r\n    public static catchCallbackExceptions: boolean = true;\r\n\r\n    public static to(start: number, end: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to(start, end, duration);\r\n    }\r\n\r\n    public static to2(start: number, start2: number, end: number, end2: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to2(start, start2, end, end2, duration);\r\n    }\r\n\r\n    public static to3(start: number, start2: number, start3: number,\r\n        end: number, end2: number, end3: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to3(start, start2, start3, end, end2, end3, duration);\r\n    }\r\n\r\n    public static to4(start: number, start2: number, start3: number, start4: number,\r\n        end: number, end2: number, end3: number, end4: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._to4(start, start2, start3, start4, end, end2, end3, end4, duration);\r\n    }\r\n\r\n    public static toColor(start: number, end: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._toColor(start, end, duration);\r\n    }\r\n\r\n    public static delayedCall(delay: number): GTweener {\r\n        return TweenManager.createTween().setDelay(delay);\r\n    }\r\n\r\n    public static shake(startX: number, startY: number, amplitude: number, duration: number): GTweener {\r\n        return TweenManager.createTween()._shake(startX, startY, amplitude, duration);\r\n    }\r\n\r\n    public static isTweening(target: any, propType?: any): Boolean {\r\n        return TweenManager.isTweening(target, propType);\r\n    }\r\n\r\n    public static kill(target: any, complete?: boolean, propType?: any): void {\r\n        TweenManager.killTweens(target, complete, propType);\r\n    }\r\n\r\n    public static getTween(target: any, propType?: any): GTweener {\r\n        return TweenManager.getTween(target, propType);\r\n    }\r\n}","import { GTween } from \"../tween/GTween\";\nimport { GTweener } from \"../tween/GTweener\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearLook extends GearBase {\n    private _storage: { [index: string]: GearLookValue };\n    private _default: GearLookValue;\n\n    protected init(): void {\n        this._default = {\n            alpha: this._owner.alpha,\n            rotation: this._owner.rotation,\n            grayed: this._owner.grayed,\n            touchable: this._owner.touchable\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearLookValue;\n        if (!pageId)\n            gv = this._default;\n        else {\n            gv = {};\n            this._storage[pageId] = gv;\n        }\n\n        gv.alpha = buffer.readFloat();\n        gv.rotation = buffer.readFloat();\n        gv.grayed = buffer.readBool();\n        gv.touchable = buffer.readBool();\n    }\n\n    public apply(): void {\n        var gv: GearLookValue = this._storage[this._controller.selectedPageId] || this._default;\n\n        if (this.allowTween) {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.touchable = gv.touchable;\n            this._owner._gearLocked = false;\n\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.alpha || this._tweenConfig._tweener.endValue.y != gv.rotation) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var a: boolean = gv.alpha != this._owner.alpha;\n            var b: boolean = gv.rotation != this._owner.rotation;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to2(this._owner.alpha, this._owner.rotation, gv.alpha, gv.rotation, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.grayed = gv.grayed;\n            this._owner.alpha = gv.alpha;\n            this._owner.rotation = gv.rotation;\n            this._owner.touchable = gv.touchable;\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        var flag: number = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.alpha = tweener.value.x;\n        if ((flag & 2) != 0)\n            this._owner.rotation = tweener.value.y;\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var gv: GearLookValue = this._storage[this._controller.selectedPageId];\n        if (!gv) {\n            gv = {};\n            this._storage[this._controller.selectedPageId] = gv;\n        }\n\n        gv.alpha = this._owner.alpha;\n        gv.rotation = this._owner.rotation;\n        gv.grayed = this._owner.grayed;\n        gv.touchable = this._owner.touchable;\n    }\n}\n\ninterface GearLookValue {\n    alpha?: number;\n    rotation?: number;\n    grayed?: boolean;\n    touchable?: boolean;\n}\n","import { GTween } from \"../tween/GTween\";\nimport { GTweener } from \"../tween/GTweener\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearSize extends GearBase {\n    private _storage: { [index: string]: GearSizeValue };\n    private _default: GearSizeValue;\n\n    protected init(): void {\n        this._default = {\n            width: this._owner.width,\n            height: this._owner.height,\n            scaleX: this._owner.scaleX,\n            scaleY: this._owner.scaleY\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearSizeValue;\n        if (!pageId)\n            gv = this._default;\n        else {\n            gv = {};\n            this._storage[pageId] = gv;\n        }\n\n        gv.width = buffer.readInt();\n        gv.height = buffer.readInt();\n        gv.scaleX = buffer.readFloat();\n        gv.scaleY = buffer.readFloat();\n    }\n\n    public apply(): void {\n        var gv: GearSizeValue = this._storage[this._controller.selectedPageId] || this._default;\n\n        if (this.allowTween) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != gv.width || this._tweenConfig._tweener.endValue.y != gv.height\n                    || this._tweenConfig._tweener.endValue.z != gv.scaleX || this._tweenConfig._tweener.endValue.w != gv.scaleY) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var a: boolean = gv.width != this._owner.width || gv.height != this._owner.height;\n            var b: boolean = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\n            if (a || b) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to4(this._owner.width, this._owner.height, this._owner.scaleX, this._owner.scaleY, gv.width, gv.height, gv.scaleX, gv.scaleY, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setSize(gv.width, gv.height, this._owner.checkGearController(1, this._controller));\n            this._owner.setScale(gv.scaleX, gv.scaleY);\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        var flag: number = tweener.userData;\n        this._owner._gearLocked = true;\n        if ((flag & 1) != 0)\n            this._owner.setSize(tweener.value.x, tweener.value.y, this._owner.checkGearController(1, this._controller));\n        if ((flag & 2) != 0)\n            this._owner.setScale(tweener.value.z, tweener.value.w);\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var gv: GearSizeValue = this._storage[this._controller.selectedPageId];\n        if (!gv) {\n            gv = {};\n            this._storage[this._controller.selectedPageId] = gv;\n        }\n\n        gv.width = this._owner.width;\n        gv.height = this._owner.height;\n        gv.scaleX = this._owner.scaleX;\n        gv.scaleY = this._owner.scaleY;\n    }\n\n    public updateFromRelations(dx: number, dy: number): void {\n        if (this._controller == null || this._storage == null)\n            return;\n\n        for (var key in this._storage) {\n            var gv: GearSizeValue = this._storage[key];\n            gv.width += dx;\n            gv.height += dy;\n        }\n        this._default.width += dx;\n        this._default.height += dy;\n\n        this.updateState();\n    }\n}\n\ninterface GearSizeValue {\n    width?: number;\n    height?: number;\n    scaleX?: number;\n    scaleY?: number;\n}\n\n","import { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearText extends GearBase {\n    private _storage: { [index: string]: string };\n    private _default: string;\n\n    protected init(): void {\n        this._default = this._owner.text;\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        if (pageId == null)\n            this._default = buffer.readS();\n        else\n            this._storage[pageId] = buffer.readS();\n    }\n\n    public apply(): void {\n        this._owner._gearLocked = true;\n\n        var data: any = this._storage[this._controller.selectedPageId];\n        if (data !== undefined)\n            this._owner.text = data;\n        else\n            this._owner.text = this._default;\n\n        this._owner._gearLocked = false;\n    }\n\n    public updateState(): void {\n        this._storage[this._controller.selectedPageId] = this._owner.text;\n    }\n}\n","import { GTween } from \"../tween/GTween\";\nimport { GTweener } from \"../tween/GTweener\";\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\nimport { GearBase } from \"./GearBase\";\n\nexport class GearXY extends GearBase {\n    public positionsInPercent: boolean;\n\n    private _storage: { [index: string]: GearXYValue };\n    private _default: GearXYValue;\n\n    protected init(): void {\n        this._default = {\n            x: this._owner.x,\n            y: this._owner.y,\n            px: this._owner.x / this._owner.parent.width,\n            py: this._owner.y / this._owner.parent.height\n        };\n        this._storage = {};\n    }\n\n    protected addStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearXYValue;\n        if (!pageId)\n            gv = this._default;\n        else {\n            gv = {};\n            this._storage[pageId] = gv;\n        }\n        gv.x = buffer.readInt();\n        gv.y = buffer.readInt();\n    }\n\n    public addExtStatus(pageId: string, buffer: ByteBuffer): void {\n        var gv: GearXYValue;\n        if (!pageId)\n            gv = this._default;\n        else\n            gv = this._storage[pageId];\n        gv.px = buffer.readFloat();\n        gv.py = buffer.readFloat();\n    }\n\n    public apply(): void {\n        var pt: GearXYValue = this._storage[this._controller.selectedPageId] || this._default;\n        var ex: number;\n        var ey: number;\n\n        if (this.positionsInPercent && this._owner.parent) {\n            ex = pt.px * this._owner.parent.width;\n            ey = pt.py * this._owner.parent.height;\n        }\n        else {\n            ex = pt.x;\n            ey = pt.y;\n        }\n\n        if (this.allowTween) {\n            if (this._tweenConfig._tweener) {\n                if (this._tweenConfig._tweener.endValue.x != ex || this._tweenConfig._tweener.endValue.y != ey) {\n                    this._tweenConfig._tweener.kill(true);\n                    this._tweenConfig._tweener = null;\n                }\n                else\n                    return;\n            }\n\n            var ox: number = this._owner.x;\n            var oy: number = this._owner.y;\n\n            if (ox != ex || oy != ey) {\n                if (this._owner.checkGearController(0, this._controller))\n                    this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n\n                this._tweenConfig._tweener = GTween.to2(ox, oy, ex, ey, this._tweenConfig.duration)\n                    .setDelay(this._tweenConfig.delay)\n                    .setEase(this._tweenConfig.easeType)\n                    .setTarget(this)\n                    .onUpdate(this.__tweenUpdate, this)\n                    .onComplete(this.__tweenComplete, this);\n            }\n        }\n        else {\n            this._owner._gearLocked = true;\n            this._owner.setPosition(ex, ey);\n            this._owner._gearLocked = false;\n        }\n    }\n\n    private __tweenUpdate(tweener: GTweener): void {\n        this._owner._gearLocked = true;\n        this._owner.setPosition(tweener.value.x, tweener.value.y);\n        this._owner._gearLocked = false;\n    }\n\n    private __tweenComplete(): void {\n        if (this._tweenConfig._displayLockToken != 0) {\n            this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n            this._tweenConfig._displayLockToken = 0;\n        }\n        this._tweenConfig._tweener = null;\n    }\n\n    public updateState(): void {\n        var pt: GearXYValue = this._storage[this._controller.selectedPageId];\n        if (!pt) {\n            pt = {};\n            this._storage[this._controller.selectedPageId] = pt;\n        }\n\n        pt.x = this._owner.x;\n        pt.y = this._owner.y;\n        pt.px = this._owner.x / this._owner.parent.width;\n        pt.py = this._owner.y / this._owner.parent.height;\n    }\n\n    public updateFromRelations(dx: number, dy: number): void {\n        if (this._controller == null || this._storage == null || this.positionsInPercent)\n            return;\n\n        for (var key in this._storage) {\n            var pt: GearXYValue = this._storage[key];\n            pt.x += dx;\n            pt.y += dy;\n        }\n        this._default.x += dx;\n        this._default.y += dy;\n\n        this.updateState();\n    }\n}\n\ninterface GearXYValue {\n    x?: number,\n    y?: number,\n    px?: number;\n    py?: number\n}","import { Event as FUIEvent } from \"./event/Event\";\r\nimport { RelationType } from \"./FieldTypes\";\r\nimport { GObject } from \"./GObject\";\r\n\r\nexport class RelationItem {\r\n    private _owner: GObject;\r\n    private _target: GObject;\r\n    private _defs: Array<RelationDef>;\r\n    private _targetX: number;\r\n    private _targetY: number;\r\n    private _targetWidth: number;\r\n    private _targetHeight: number;\r\n\r\n    public constructor(owner: GObject) {\r\n        this._owner = owner;\r\n        this._defs = new Array<RelationDef>();\r\n    }\r\n\r\n    public get owner(): GObject {\r\n        return this._owner;\r\n    }\r\n\r\n    public set target(value: GObject) {\r\n        if (this._target != value) {\r\n            if (this._target)\r\n                this.releaseRefTarget(this._target);\r\n            this._target = value;\r\n            if (this._target)\r\n                this.addRefTarget(this._target);\r\n        }\r\n    }\r\n\r\n    public get target(): GObject {\r\n        return this._target;\r\n    }\r\n\r\n    public add(relationType: number, usePercent?: boolean): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.add(RelationType.Width, usePercent);\r\n            this.add(RelationType.Height, usePercent);\r\n            return;\r\n        }\r\n\r\n        var length: number = this._defs.length;\r\n        for (var i: number = 0; i < length; i++) {\r\n            var def: RelationDef = this._defs[i];\r\n            if (def.type == relationType)\r\n                return;\r\n        }\r\n\r\n        this.internalAdd(relationType, usePercent);\r\n    }\r\n\r\n    public internalAdd(relationType: number, usePercent?: boolean): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.internalAdd(RelationType.Width, usePercent);\r\n            this.internalAdd(RelationType.Height, usePercent);\r\n            return;\r\n        }\r\n\r\n        var info: RelationDef = new RelationDef();\r\n        info.percent = usePercent;\r\n        info.type = relationType;\r\n        info.axis = (relationType <= RelationType.Right_Right || relationType == RelationType.Width || relationType >= RelationType.LeftExt_Left && relationType <= RelationType.RightExt_Right) ? 0 : 1;\r\n        this._defs.push(info);\r\n    }\r\n\r\n    public remove(relationType: number): void {\r\n        if (relationType == RelationType.Size) {\r\n            this.remove(RelationType.Width);\r\n            this.remove(RelationType.Height);\r\n            return;\r\n        }\r\n\r\n        var dc: number = this._defs.length;\r\n        for (var k: number = 0; k < dc; k++) {\r\n            if (this._defs[k].type == relationType) {\r\n                this._defs.splice(k, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public copyFrom(source: RelationItem): void {\r\n        this.target = source.target;\r\n\r\n        this._defs.length = 0;\r\n        var length: number = source._defs.length;\r\n        for (var i: number = 0; i < length; i++) {\r\n            var info: RelationDef = source._defs[i];\r\n            var info2: RelationDef = new RelationDef();\r\n            info2.copyFrom(info);\r\n            this._defs.push(info2);\r\n        }\r\n    }\r\n\r\n    public dispose(): void {\r\n        if (this._target) {\r\n            this.releaseRefTarget(this._target);\r\n            this._target = null;\r\n        }\r\n    }\r\n\r\n    public get isEmpty(): boolean {\r\n        return this._defs.length == 0;\r\n    }\r\n\r\n    public applyOnSelfResized(dWidth: number, dHeight: number, applyPivot: boolean): void {\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n\r\n        var length: number = this._defs.length;\r\n        for (var i: number = 0; i < length; i++) {\r\n            var info: RelationDef = this._defs[i];\r\n            switch (info.type) {\r\n                case RelationType.Center_Center:\r\n                    this._owner.x -= (0.5 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\r\n                    break;\r\n                case RelationType.Right_Center:\r\n                case RelationType.Right_Left:\r\n                case RelationType.Right_Right:\r\n                    this._owner.x -= (1 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\r\n                    break;\r\n\r\n                case RelationType.Middle_Middle:\r\n                    this._owner.y -= (0.5 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\r\n                    break;\r\n                case RelationType.Bottom_Middle:\r\n                case RelationType.Bottom_Top:\r\n                case RelationType.Bottom_Bottom:\r\n                    this._owner.y -= (1 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent) {\r\n                var len: number = this._owner.parent._transitions.length;\r\n                if (len > 0) {\r\n                    for (var i: number = 0; i < len; ++i) {\r\n                        this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyOnXYChanged(info: RelationDef, dx: number, dy: number): void {\r\n        var tmp: number;\r\n\r\n        switch (info.type) {\r\n            case RelationType.Left_Left:\r\n            case RelationType.Left_Center:\r\n            case RelationType.Left_Right:\r\n            case RelationType.Center_Center:\r\n            case RelationType.Right_Left:\r\n            case RelationType.Right_Center:\r\n            case RelationType.Right_Right:\r\n                this._owner.x += dx;\r\n                break;\r\n\r\n            case RelationType.Top_Top:\r\n            case RelationType.Top_Middle:\r\n            case RelationType.Top_Bottom:\r\n            case RelationType.Middle_Middle:\r\n            case RelationType.Bottom_Top:\r\n            case RelationType.Bottom_Middle:\r\n            case RelationType.Bottom_Bottom:\r\n                this._owner.y += dy;\r\n                break;\r\n\r\n            case RelationType.Width:\r\n            case RelationType.Height:\r\n                break;\r\n\r\n            case RelationType.LeftExt_Left:\r\n            case RelationType.LeftExt_Right:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.xMin;\r\n                    this._owner.width = this._owner._rawWidth - dx;\r\n                    this._owner.xMin = tmp + dx;\r\n                }\r\n                else\r\n                    this._owner.width = this._owner._rawWidth - dx;\r\n                break;\r\n\r\n            case RelationType.RightExt_Left:\r\n            case RelationType.RightExt_Right:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.xMin;\r\n                    this._owner.width = this._owner._rawWidth + dx;\r\n                    this._owner.xMin = tmp;\r\n                }\r\n                else\r\n                    this._owner.width = this._owner._rawWidth + dx;\r\n                break;\r\n\r\n            case RelationType.TopExt_Top:\r\n            case RelationType.TopExt_Bottom:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.yMin;\r\n                    this._owner.height = this._owner._rawHeight - dy;\r\n                    this._owner.yMin = tmp + dy;\r\n                }\r\n                else\r\n                    this._owner.height = this._owner._rawHeight - dy;\r\n                break;\r\n\r\n            case RelationType.BottomExt_Top:\r\n            case RelationType.BottomExt_Bottom:\r\n                if (this._owner != this._target.parent) {\r\n                    tmp = this._owner.yMin;\r\n                    this._owner.height = this._owner._rawHeight + dy;\r\n                    this._owner.yMin = tmp;\r\n                }\r\n                else\r\n                    this._owner.height = this._owner._rawHeight + dy;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private applyOnSizeChanged(info: RelationDef): void {\r\n        var pos: number = 0, pivot: number = 0, delta: number = 0;\r\n        var v: number, tmp: number;\r\n\r\n        if (info.axis == 0) {\r\n            if (this._target != this._owner.parent) {\r\n                pos = this._target.x;\r\n                if (this._target.pivotAsAnchor)\r\n                    pivot = this._target.pivotX;\r\n            }\r\n\r\n            if (info.percent) {\r\n                if (this._targetWidth != 0)\r\n                    delta = this._target._width / this._targetWidth;\r\n            }\r\n            else\r\n                delta = this._target._width - this._targetWidth;\r\n        }\r\n        else {\r\n            if (this._target != this._owner.parent) {\r\n                pos = this._target.y;\r\n                if (this._target.pivotAsAnchor)\r\n                    pivot = this._target.pivotY;\r\n            }\r\n\r\n            if (info.percent) {\r\n                if (this._targetHeight != 0)\r\n                    delta = this._target._height / this._targetHeight;\r\n            }\r\n            else\r\n                delta = this._target._height - this._targetHeight;\r\n        }\r\n\r\n        switch (info.type) {\r\n            case RelationType.Left_Left:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else if (pivot != 0)\r\n                    this._owner.x += delta * (-pivot);\r\n                break;\r\n            case RelationType.Left_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Left_Right:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\r\n                else\r\n                    this._owner.x += delta * (1 - pivot);\r\n                break;\r\n            case RelationType.Center_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth * 0.5 - pos) * delta - this._owner._rawWidth * 0.5;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Right_Left:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else if (pivot != 0)\r\n                    this._owner.x += delta * (-pivot);\r\n                break;\r\n            case RelationType.Right_Center:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else\r\n                    this._owner.x += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Right_Right:\r\n                if (info.percent)\r\n                    this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\r\n                else\r\n                    this._owner.x += delta * (1 - pivot);\r\n                break;\r\n\r\n            case RelationType.Top_Top:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else if (pivot != 0)\r\n                    this._owner.y += delta * (-pivot);\r\n                break;\r\n            case RelationType.Top_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Top_Bottom:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\r\n                else\r\n                    this._owner.y += delta * (1 - pivot);\r\n                break;\r\n            case RelationType.Middle_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight * 0.5 - pos) * delta - this._owner._rawHeight * 0.5;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Bottom_Top:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else if (pivot != 0)\r\n                    this._owner.y += delta * (-pivot);\r\n                break;\r\n            case RelationType.Bottom_Middle:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else\r\n                    this._owner.y += delta * (0.5 - pivot);\r\n                break;\r\n            case RelationType.Bottom_Bottom:\r\n                if (info.percent)\r\n                    this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\r\n                else\r\n                    this._owner.y += delta * (1 - pivot);\r\n                break;\r\n\r\n            case RelationType.Width:\r\n                if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                    v = this._owner.sourceWidth - this._target.initWidth;\r\n                else\r\n                    v = this._owner._rawWidth - this._targetWidth;\r\n                if (info.percent)\r\n                    v = v * delta;\r\n                if (this._target == this._owner.parent) {\r\n                    if (this._owner.pivotAsAnchor) {\r\n                        tmp = this._owner.xMin;\r\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                    else\r\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n                }\r\n                else\r\n                    this._owner.width = this._target._width + v;\r\n                break;\r\n            case RelationType.Height:\r\n                if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                    v = this._owner.sourceHeight - this._target.initHeight;\r\n                else\r\n                    v = this._owner._rawHeight - this._targetHeight;\r\n                if (info.percent)\r\n                    v = v * delta;\r\n                if (this._target == this._owner.parent) {\r\n                    if (this._owner.pivotAsAnchor) {\r\n                        tmp = this._owner.yMin;\r\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                    else\r\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n                }\r\n                else\r\n                    this._owner.height = this._target._height + v;\r\n                break;\r\n\r\n            case RelationType.LeftExt_Left:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.width = this._owner._rawWidth - v;\r\n                this._owner.xMin = tmp + v;\r\n                break;\r\n            case RelationType.LeftExt_Right:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (1 - pivot);\r\n                this._owner.width = this._owner._rawWidth - v;\r\n                this._owner.xMin = tmp + v;\r\n                break;\r\n            case RelationType.RightExt_Left:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.width = this._owner._rawWidth + v;\r\n                this._owner.xMin = tmp;\r\n                break;\r\n            case RelationType.RightExt_Right:\r\n                tmp = this._owner.xMin;\r\n                if (info.percent) {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.width = pos + this._target._width - this._target._width * pivot +\r\n                                (this._owner.sourceWidth - pos - this._target.initWidth + this._target.initWidth * pivot) * delta;\r\n                        else\r\n                            this._owner.width = pos + (this._owner._rawWidth - pos) * delta;\r\n                    }\r\n                    else {\r\n                        v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\r\n                        this._owner.width = this._owner._rawWidth + v;\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.width = this._owner.sourceWidth + (this._target._width - this._target.initWidth) * (1 - pivot);\r\n                        else\r\n                            this._owner.width = this._owner._rawWidth + delta * (1 - pivot);\r\n                    }\r\n                    else {\r\n                        v = delta * (1 - pivot);\r\n                        this._owner.width = this._owner._rawWidth + v;\r\n                        this._owner.xMin = tmp;\r\n                    }\r\n                }\r\n                break;\r\n            case RelationType.TopExt_Top:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.height = this._owner._rawHeight - v;\r\n                this._owner.yMin = tmp + v;\r\n                break;\r\n            case RelationType.TopExt_Bottom:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp - pos) * delta - tmp;\r\n                else\r\n                    v = delta * (1 - pivot);\r\n                this._owner.height = this._owner._rawHeight - v;\r\n                this._owner.yMin = tmp + v;\r\n                break;\r\n            case RelationType.BottomExt_Top:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent)\r\n                    v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\r\n                else\r\n                    v = delta * (-pivot);\r\n                this._owner.height = this._owner._rawHeight + v;\r\n                this._owner.yMin = tmp;\r\n                break;\r\n            case RelationType.BottomExt_Bottom:\r\n                tmp = this._owner.yMin;\r\n                if (info.percent) {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.height = pos + this._target._height - this._target._height * pivot +\r\n                                (this._owner.sourceHeight - pos - this._target.initHeight + this._target.initHeight * pivot) * delta;\r\n                        else\r\n                            this._owner.height = pos + (this._owner._rawHeight - pos) * delta;\r\n                    }\r\n                    else {\r\n                        v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\r\n                        this._owner.height = this._owner._rawHeight + v;\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._owner == this._target.parent) {\r\n                        if (this._owner._underConstruct)\r\n                            this._owner.height = this._owner.sourceHeight + (this._target._height - this._target.initHeight) * (1 - pivot);\r\n                        else\r\n                            this._owner.height = this._owner._rawHeight + delta * (1 - pivot);\r\n                    }\r\n                    else {\r\n                        v = delta * (1 - pivot);\r\n                        this._owner.height = this._owner._rawHeight + v;\r\n                        this._owner.yMin = tmp;\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private addRefTarget(target: GObject): void {\r\n        if (target != this._owner.parent)\r\n            target.on(FUIEvent.XY_CHANGED, this.__targetXYChanged, this);\r\n        target.on(FUIEvent.SIZE_CHANGED, this.__targetSizeChanged, this);\r\n        target.on(FUIEvent.SIZE_DELAY_CHANGE, this.__targetSizeWillChange, this);\r\n\r\n        this._targetX = this._target.x;\r\n        this._targetY = this._target.y;\r\n        this._targetWidth = this._target._width;\r\n        this._targetHeight = this._target._height;\r\n    }\r\n\r\n    private releaseRefTarget(target: GObject): void {\r\n        if (!target.node)\r\n            return;\r\n        target.off(FUIEvent.XY_CHANGED, this.__targetXYChanged, this);\r\n        target.off(FUIEvent.SIZE_CHANGED, this.__targetSizeChanged, this);\r\n        target.off(FUIEvent.SIZE_DELAY_CHANGE, this.__targetSizeWillChange, this);\r\n    }\r\n\r\n    private __targetXYChanged(evt: Event): void {\r\n        if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\r\n            this._targetX = this._target.x;\r\n            this._targetY = this._target.y;\r\n            return;\r\n        }\r\n\r\n        this._owner.relations.handling = this._target;\r\n\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n        var dx: number = this._target.x - this._targetX;\r\n        var dy: number = this._target.y - this._targetY;\r\n        var length: number = this._defs.length;\r\n        for (var i: number = 0; i < length; i++) {\r\n            var info: RelationDef = this._defs[i];\r\n            this.applyOnXYChanged(info, dx, dy);\r\n        }\r\n        this._targetX = this._target.x;\r\n        this._targetY = this._target.y;\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent) {\r\n                var len: number = this._owner.parent._transitions.length;\r\n                if (len > 0) {\r\n                    for (var i: number = 0; i < len; ++i) {\r\n                        this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._owner.relations.handling = null;\r\n    }\r\n\r\n    private __targetSizeChanged(evt: Event): void {\r\n        if (this._owner.relations.handling != null)\r\n            return;\r\n\r\n        this._owner.relations.handling = this._target;\r\n\r\n        var ox: number = this._owner.x;\r\n        var oy: number = this._owner.y;\r\n        var ow: number = this._owner._rawWidth;\r\n        var oh: number = this._owner._rawHeight;\r\n        var length: number = this._defs.length;\r\n        for (var i: number = 0; i < length; i++) {\r\n            var info: RelationDef = this._defs[i];\r\n            this.applyOnSizeChanged(info);\r\n        }\r\n        this._targetWidth = this._target._width;\r\n        this._targetHeight = this._target._height;\r\n\r\n        if (ox != this._owner.x || oy != this._owner.y) {\r\n            ox = this._owner.x - ox;\r\n            oy = this._owner.y - oy;\r\n\r\n            this._owner.updateGearFromRelations(1, ox, oy);\r\n\r\n            if (this._owner.parent) {\r\n                var len: number = this._owner.parent._transitions.length;\r\n                if (len > 0) {\r\n                    for (var i: number = 0; i < len; ++i) {\r\n                        this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\r\n            ow = this._owner._rawWidth - ow;\r\n            oh = this._owner._rawHeight - oh;\r\n\r\n            this._owner.updateGearFromRelations(2, ow, oh);\r\n        }\r\n\r\n        this._owner.relations.handling = null;\r\n    }\r\n\r\n    private __targetSizeWillChange(evt: Event): void {\r\n        this._owner.relations.sizeDirty = true;\r\n    }\r\n}\r\n\r\nexport class RelationDef {\r\n    public percent: boolean = false;\r\n    public type: number = 0;\r\n    public axis: number = 0;\r\n\r\n    public constructor() {\r\n    }\r\n\r\n    public copyFrom(source: RelationDef): void {\r\n        this.percent = source.percent;\r\n        this.type = source.type;\r\n        this.axis = source.axis;\r\n    }\r\n}","import { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { RelationItem } from \"./RelationItem\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class Relations {\n    private _owner: GObject;\n    private _items: Array<RelationItem>;\n\n    public handling: GObject | null;\n    public sizeDirty: boolean = false;\n\n    public constructor(owner: GObject) {\n        this._owner = owner;\n        this._items = new Array<RelationItem>();\n    }\n\n    public add(target: GObject, relationType: number, usePercent?: boolean): void {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.add(relationType, usePercent);\n                return;\n            }\n        }\n        var newItem: RelationItem = new RelationItem(this._owner);\n        newItem.target = target;\n        newItem.add(relationType, usePercent);\n        this._items.push(newItem);\n    }\n\n    public remove(target: GObject, relationType?: number): void {\n        relationType = relationType || 0;\n        var cnt: number = this._items.length;\n        var i: number = 0;\n        while (i < cnt) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.remove(relationType);\n                if (item.isEmpty) {\n                    item.dispose();\n                    this._items.splice(i, 1);\n                    cnt--;\n                }\n                else\n                    i++;\n            }\n            else\n                i++;\n        }\n    }\n\n    public contains(target: GObject): boolean {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target)\n                return true;\n        }\n        return false;\n    }\n\n    public clearFor(target: GObject): void {\n        var cnt: number = this._items.length;\n        var i: number = 0;\n        while (i < cnt) {\n            var item: RelationItem = this._items[i];\n            if (item.target == target) {\n                item.dispose();\n                this._items.splice(i, 1);\n                cnt--;\n            }\n            else\n                i++;\n        }\n    }\n\n    public clearAll(): void {\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.dispose();\n        }\n        this._items.length = 0;\n    }\n\n    public copyFrom(source: Relations): void {\n        this.clearAll();\n\n        var arr: Array<RelationItem> = source._items;\n        var length: number = arr.length;\n        for (var i: number = 0; i < length; i++) {\n            var ri: RelationItem = arr[i];\n            var item: RelationItem = new RelationItem(this._owner);\n            item.copyFrom(ri);\n            this._items.push(item);\n        }\n    }\n\n    public dispose(): void {\n        this.clearAll();\n    }\n\n    public onOwnerSizeChanged(dWidth: number, dHeight: number, applyPivot: boolean): void {\n        if (this._items.length == 0)\n            return;\n\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.applyOnSelfResized(dWidth, dHeight, applyPivot);\n        }\n    }\n\n    public ensureRelationsSizeCorrect(): void {\n        if (this._items.length == 0)\n            return;\n\n        this.sizeDirty = false;\n        var length: number = this._items.length;\n        for (var i: number = 0; i < length; i++) {\n            var item: RelationItem = this._items[i];\n            item.target.ensureSizeCorrect();\n        }\n    }\n\n    public get empty(): boolean {\n        return this._items.length == 0;\n    }\n\n    public setup(buffer: ByteBuffer, parentToChild: boolean): void {\n        var cnt: number = buffer.readByte();\n        var target: GObject;\n        for (var i: number = 0; i < cnt; i++) {\n            var targetIndex: number = buffer.readShort();\n            if (targetIndex == -1)\n                target = this._owner.parent;\n            else if (parentToChild)\n                target = (<GComponent>this._owner).getChildAt(targetIndex);\n            else\n                target = this._owner.parent.getChildAt(targetIndex);\n\n            var newItem: RelationItem = new RelationItem(this._owner);\n            newItem.target = target;\n            this._items.push(newItem);\n\n            var cnt2: number = buffer.readByte();\n            for (var j: number = 0; j < cnt2; j++) {\n                var rt: number = buffer.readByte();\n                var usePercent: boolean = buffer.readBool();\n                newItem.internalAdd(rt, usePercent);\n            }\n        }\n    }\n}","import { AssetManager, Color, Font, Layers, loader, resources } from \"cc\";\nimport { ScrollBarDisplayType } from \"./FieldTypes\";\n\nexport class UIConfig {\n    public constructor() {\n    }\n\n    //Default font name\n    public static defaultFont: string = \"Arial\";\n\n    //Resource using in Window.ShowModalWait for locking the window.\n    public static windowModalWaiting: string;\n    //Resource using in GRoot.ShowModalWait for locking the screen.\n    public static globalModalWaiting: string;\n\n    //When a modal window is in front, the background becomes dark.\n    public static modalLayerColor: Color = new Color(0x33, 0x33, 0x33, 0x33);\n\n    //Default button click sound\n    public static buttonSound: string;\n    public static buttonSoundVolumeScale: number = 1;\n\n    public static horizontalScrollBar: string;\n    public static verticalScrollBar: string;\n\n    //Scrolling step in pixels\n    public static defaultScrollStep: number = 25;\n    //Deceleration ratio of scrollpane when its in touch dragging.\n    public static defaultScrollDecelerationRate: number = 0.967;\n    //Default scrollbar display mode. Recommened visible for Desktop and Auto for mobile.\n    public static defaultScrollBarDisplay: number = ScrollBarDisplayType.Visible;\n    //Allow dragging the content to scroll. Recommeded true for mobile.\n    public static defaultScrollTouchEffect: boolean = true;\n    //The \"rebound\" effect in the scolling container. Recommeded true for mobile.\n    public static defaultScrollBounceEffect: boolean = true;\n\n    //Resources for PopupMenu.\n    public static popupMenu: string;\n    //Resources for seperator of PopupMenu.\n    public static popupMenu_seperator: string;\n    //In case of failure of loading content for GLoader, use this sign to indicate an error.\n    public static loaderErrorSign: string;\n    //Resources for tooltips.\n    public static tooltipsWin: string;\n\n    //Max items displayed in combobox without scrolling.\n    public static defaultComboBoxVisibleItemCount: number = 10;\n\n    // Pixel offsets of finger to trigger scrolling.\n    public static touchScrollSensitivity: number = 20;\n\n    // Pixel offsets of finger to trigger dragging.\n    public static touchDragSensitivity: number = 10;\n\n    // Pixel offsets of mouse pointer to trigger dragging.\n    public static clickDragSensitivity: number = 2;\n\n    // When click the window, brings to front automatically.\n    public static bringWindowToFrontOnClick: boolean = true;\n\n    public static frameTimeForAsyncUIConstruction: number = 0.002;\n\n    public static linkUnderline: boolean = true;\n\n    /** !#en\n    Default group name of UI node.<br/>\n    !#zh\n    UI节点默认的分组。<br/>*/\n    public static defaultUILayer: number = Layers.Enum.UI_2D;\n}\n\nlet _fontRegistry: { [index: string]: Font } = {};\nexport function registerFont(name: string, font: Font | string, loader?: AssetManager.Bundle): void {\n    if (font instanceof Font)\n        _fontRegistry[name] = font;\n    else {\n        (loader || resources).load(name, Font, (err: Error | null, asset: Font) => {\n            _fontRegistry[name] = asset;\n        });\n    }\n};\n\nexport function getFontByName(name: string): Font {\n    return _fontRegistry[name];\n}","import { Vec2, Rect, Component, director, Node, UITransform, UIOpacity, Vec3, Constructor } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { BlendMode, BlendModeUtils } from \"./display/BlendMode\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { RelationType, ObjectPropID } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GearAnimation } from \"./gears/GearAnimation\";\nimport { GearBase } from \"./gears/GearBase\";\nimport { GearColor } from \"./gears/GearColor\";\nimport { GearDisplay } from \"./gears/GearDisplay\";\nimport { GearDisplay2 } from \"./gears/GearDisplay2\";\nimport { GearFontSize } from \"./gears/GearFontSize\";\nimport { GearIcon } from \"./gears/GearIcon\";\nimport { GearLook } from \"./gears/GearLook\";\nimport { GearSize } from \"./gears/GearSize\";\nimport { GearText } from \"./gears/GearText\";\nimport { GearXY } from \"./gears/GearXY\";\nimport { GGroup } from \"./GGroup\";\nimport { GTreeNode } from \"./GTreeNode\";\nimport { PackageItem } from \"./PackageItem\";\nimport { Relations } from \"./Relations\";\nimport { UIConfig } from \"./UIConfig\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GObject {\n    public data?: any;\n    public packageItem?: PackageItem;\n    public static draggingObject: GObject | null;\n\n    protected _x: number = 0;\n    protected _y: number = 0;\n    protected _alpha: number = 1;\n    protected _visible: boolean = true;\n    protected _touchable: boolean = true;\n    protected _grayed?: boolean;\n    protected _draggable?: boolean;\n    protected _skewX: number = 0;\n    protected _skewY: number = 0;\n    protected _pivotAsAnchor?: boolean;\n    protected _sortingOrder: number = 0;\n    protected _internalVisible: boolean = true;\n    protected _handlingController?: boolean;\n    protected _tooltips?: string;\n    protected _blendMode: BlendMode;\n    protected _pixelSnapping?: boolean;\n    protected _dragTesting?: boolean;\n    protected _dragStartPos?: Vec2;\n\n    protected _relations: Relations;\n    protected _group: GGroup | null;\n    protected _gears: GearBase[];\n    protected _node: Node;\n    protected _dragBounds?: Rect;\n\n    public sourceWidth: number = 0;\n    public sourceHeight: number = 0;\n    public initWidth: number = 0;\n    public initHeight: number = 0;\n    public minWidth: number = 0;\n    public minHeight: number = 0;\n    public maxWidth: number = 0;\n    public maxHeight: number = 0;\n\n    public _parent: GComponent | null;\n    public _width: number = 0;\n    public _height: number = 0;\n    public _rawWidth: number = 0;\n    public _rawHeight: number = 0;\n    public _id: string;\n    public _name: string;\n    public _underConstruct: boolean = false;\n    public _gearLocked?: boolean;\n    public _sizePercentInGroup: number = 0;\n    public _touchDisabled?: boolean;\n    public _partner: GObjectPartner;\n    public _treeNode?: GTreeNode;\n    public _uiTrans: UITransform;\n    public _uiOpacity: UIOpacity;\n\n    private _hitTestPt?: Vec2;\n\n    public constructor() {\n        this._node = new Node();\n        this._uiTrans = this._node.addComponent(UITransform);\n        this._uiOpacity = this._node.addComponent(UIOpacity);\n        (<any>this._node)[\"$gobj\"] = this;\n        this._node.layer = UIConfig.defaultUILayer;\n        this._uiTrans.setAnchorPoint(0, 1);\n        this._node.on(Node.EventType.ANCHOR_CHANGED, this.handleAnchorChanged, this);\n\n        this._id = this._node.uuid;\n        this._name = \"\";\n\n        this._relations = new Relations(this);\n        this._gears = new Array<GearBase>(10);\n        this._blendMode = BlendMode.Normal;\n\n        this._partner = this._node.addComponent(GObjectPartner);\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get name(): string | null {\n        return this._name;\n    }\n\n    public set name(value: string | null) {\n        this._name = value;\n    }\n\n    public get x(): number {\n        return this._x;\n    }\n\n    public set x(value: number) {\n        this.setPosition(value, this._y);\n    }\n\n    public get y(): number {\n        return this._y;\n    }\n\n    public set y(value: number) {\n        this.setPosition(this._x, value);\n    }\n\n    public setPosition(xv: number, yv: number): void {\n        if (this._x != xv || this._y != yv) {\n            var dx: number = xv - this._x;\n            var dy: number = yv - this._y;\n            this._x = xv;\n            this._y = yv;\n\n            this.handlePositionChanged();\n            if (this instanceof GGroup)\n                this.moveChildren(dx, dy);\n\n            this.updateGear(1);\n\n            if (this._parent && !(\"setVirtual\" in this._parent)/*not list*/) {\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag(true);\n                this._node.emit(FUIEvent.XY_CHANGED, this);\n            }\n\n            if (GObject.draggingObject == this && !s_dragging)\n                this.localToGlobalRect(0, 0, this._width, this._height, sGlobalRect);\n        }\n    }\n\n    public get xMin(): number {\n        return this._pivotAsAnchor ? (this._x - this._width * this._uiTrans.anchorX) : this._x;\n    }\n\n    public set xMin(value: number) {\n        if (this._pivotAsAnchor)\n            this.setPosition(value + this._width * this._uiTrans.anchorX, this._y);\n        else\n            this.setPosition(value, this._y);\n    }\n\n    public get yMin(): number {\n        return this._pivotAsAnchor ? (this._y - this._height * (1 - this._uiTrans.anchorY)) : this._y;\n    }\n\n    public set yMin(value: number) {\n        if (this._pivotAsAnchor)\n            this.setPosition(this._x, value + this._height * (1 - this._uiTrans.anchorY));\n        else\n            this.setPosition(this._x, value);\n    }\n\n    public get pixelSnapping(): boolean {\n        return this._pixelSnapping;\n    }\n\n    public set pixelSnapping(value: boolean) {\n        if (this._pixelSnapping != value) {\n            this._pixelSnapping = value;\n            this.handlePositionChanged();\n        }\n    }\n\n    public center(restraint?: boolean): void {\n        var r: GComponent;\n        if (this._parent)\n            r = this.parent;\n        else\n            r = Decls.GRoot.inst;\n\n        this.setPosition((r.width - this._width) / 2, (r.height - this._height) / 2);\n        if (restraint) {\n            this.addRelation(r, RelationType.Center_Center);\n            this.addRelation(r, RelationType.Middle_Middle);\n        }\n    }\n\n    public get width(): number {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._width;\n    }\n\n    public set width(value: number) {\n        this.setSize(value, this._rawHeight);\n    }\n\n    public get height(): number {\n        this.ensureSizeCorrect();\n        if (this._relations.sizeDirty)\n            this._relations.ensureRelationsSizeCorrect();\n        return this._height;\n    }\n\n    public set height(value: number) {\n        this.setSize(this._rawWidth, value);\n    }\n\n    public setSize(wv: number, hv: number, ignorePivot?: boolean): void {\n        if (this._rawWidth != wv || this._rawHeight != hv) {\n            this._rawWidth = wv;\n            this._rawHeight = hv;\n            if (wv < this.minWidth)\n                wv = this.minWidth;\n            if (hv < this.minHeight)\n                hv = this.minHeight;\n            if (this.maxWidth > 0 && wv > this.maxWidth)\n                wv = this.maxWidth;\n            if (this.maxHeight > 0 && hv > this.maxHeight)\n                hv = this.maxHeight;\n            var dWidth: number = wv - this._width;\n            var dHeight: number = hv - this._height;\n            this._width = wv;\n            this._height = hv;\n\n            this.handleSizeChanged();\n            if ((this._uiTrans.anchorX != 0 || this._uiTrans.anchorY != 1) && !this._pivotAsAnchor && !ignorePivot)\n                this.setPosition(this.x - this._uiTrans.anchorX * dWidth, this.y - (1 - this._uiTrans.anchorY) * dHeight);\n            else\n                this.handlePositionChanged();\n\n            if (this instanceof GGroup)\n                this.resizeChildren(dWidth, dHeight);\n\n            this.updateGear(2);\n\n            if (this._parent) {\n                this._relations.onOwnerSizeChanged(dWidth, dHeight, this._pivotAsAnchor || !ignorePivot);\n                this._parent.setBoundsChangedFlag();\n                if (this._group)\n                    this._group.setBoundsChangedFlag();\n            }\n\n            this._node.emit(FUIEvent.SIZE_CHANGED, this);\n        }\n    }\n\n    public makeFullScreen(): void {\n        this.setSize(Decls.GRoot.inst.width, Decls.GRoot.inst.height);\n    }\n\n    public ensureSizeCorrect(): void {\n    }\n\n    public get actualWidth(): number {\n        return this.width * Math.abs(this._node.scale.x);\n    }\n\n    public get actualHeight(): number {\n        return this.height * Math.abs(this._node.scale.y);\n    }\n\n    public get scaleX(): number {\n        return this._node.scale.x;\n    }\n\n    public set scaleX(value: number) {\n        this.setScale(value, this._node.scale.y);\n    }\n\n    public get scaleY(): number {\n        return this._node.scale.y;\n    }\n\n    public set scaleY(value: number) {\n        this.setScale(this._node.scale.x, value);\n    }\n\n    public setScale(sx: number, sy: number) {\n        if (this._node.scale.x != sx || this._node.scale.y != sy) {\n            this._node.setScale(sx, sy);\n\n            this.updateGear(2);\n        }\n    }\n\n    public get skewX(): number {\n        return this._skewX;\n    }\n\n    public get pivotX(): number {\n        return this._uiTrans.anchorX;\n    }\n\n    public set pivotX(value: number) {\n        this._uiTrans.anchorX = value;\n    }\n\n    public get pivotY(): number {\n        return 1 - this._uiTrans.anchorY;\n    }\n\n    public set pivotY(value: number) {\n        this._uiTrans.anchorY = 1 - value;\n    }\n\n    public setPivot(xv: number, yv: number, asAnchor?: boolean): void {\n        if (this._uiTrans.anchorX != xv || this._uiTrans.anchorY != 1 - yv) {\n            this._pivotAsAnchor = asAnchor;\n            this._uiTrans.setAnchorPoint(xv, 1 - yv);\n        }\n        else if (this._pivotAsAnchor != asAnchor) {\n            this._pivotAsAnchor = asAnchor;\n            this.handlePositionChanged();\n        }\n    }\n\n    public get pivotAsAnchor(): boolean {\n        return this._pivotAsAnchor;\n    }\n\n    public get touchable(): boolean {\n        return this._touchable;\n    }\n\n    public set touchable(value: boolean) {\n        if (this._touchable != value) {\n            this._touchable = value;\n            this.updateGear(3);\n        }\n    }\n\n    public get grayed(): boolean {\n        return this._grayed;\n    }\n\n    public set grayed(value: boolean) {\n        if (this._grayed != value) {\n            this._grayed = value;\n            this.handleGrayedChanged();\n            this.updateGear(3);\n        }\n    }\n\n    public get enabled(): boolean {\n        return !this._grayed && this._touchable;\n    }\n\n    public set enabled(value: boolean) {\n        this.grayed = !value;\n        this.touchable = value;\n    }\n\n    public get rotation(): number {\n        return -this._node.angle;\n    }\n\n    public set rotation(value: number) {\n        value = -value;\n        if (this._node.angle != value) {\n            this._node.angle = value;\n            this.updateGear(3);\n        }\n    }\n\n    public get alpha(): number {\n        return this._alpha;\n    }\n\n    public set alpha(value: number) {\n        if (this._alpha != value) {\n            this._alpha = value;\n\n            this._uiOpacity.opacity = this._alpha;\n\n            if (this instanceof GGroup)\n                this.handleAlphaChanged();\n\n            this.updateGear(3);\n        }\n    }\n\n    public get visible(): boolean {\n        return this._visible;\n    }\n\n    public set visible(value: boolean) {\n        if (this._visible != value) {\n            this._visible = value;\n\n            this.handleVisibleChanged();\n\n            if (this._group && this._group.excludeInvisibles)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n\n    public get _finalVisible(): boolean {\n        return this._visible && this._internalVisible && (!this._group || this._group._finalVisible);\n    }\n\n    public get internalVisible3(): boolean {\n        return this._visible && this._internalVisible;\n    }\n\n    public get sortingOrder(): number {\n        return this._sortingOrder;\n    }\n\n    public set sortingOrder(value: number) {\n        if (value < 0)\n            value = 0;\n        if (this._sortingOrder != value) {\n            var old: number = this._sortingOrder;\n            this._sortingOrder = value;\n            if (this._parent)\n                this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\n        }\n    }\n\n    public requestFocus(): void {\n    }\n\n    public get tooltips(): string | null {\n        return this._tooltips;\n    }\n\n    public set tooltips(value: string | null) {\n        if (this._tooltips) {\n            this._node.off(FUIEvent.ROLL_OVER, this.onRollOver, this);\n            this._node.off(FUIEvent.ROLL_OUT, this.onRollOut, this);\n        }\n\n        this._tooltips = value;\n\n        if (this._tooltips) {\n            this._node.on(FUIEvent.ROLL_OVER, this.onRollOver, this);\n            this._node.on(FUIEvent.ROLL_OUT, this.onRollOut, this);\n        }\n    }\n\n    public get blendMode(): BlendMode {\n        return this._blendMode;\n    }\n\n    public set blendMode(value: BlendMode) {\n        if (this._blendMode != value) {\n            this._blendMode = value;\n            BlendModeUtils.apply(this._node, value);\n        }\n    }\n\n    public get onStage(): boolean {\n        return this._node && this._node.activeInHierarchy;\n    }\n\n    public get resourceURL(): string | null {\n        if (this.packageItem)\n            return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\n        else\n            return null;\n    }\n\n    public set group(value: GGroup) {\n        if (this._group != value) {\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n            this._group = value;\n            if (this._group)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n\n    public get group(): GGroup {\n        return this._group;\n    }\n\n    public getGear(index: number): GearBase {\n        var gear: GearBase = this._gears[index];\n        if (!gear)\n            this._gears[index] = gear = createGear(this, index);\n        return gear;\n    }\n\n    protected updateGear(index: number): void {\n        if (this._underConstruct || this._gearLocked)\n            return;\n\n        var gear: GearBase = this._gears[index];\n        if (gear && gear.controller)\n            gear.updateState();\n    }\n\n    public checkGearController(index: number, c: Controller): boolean {\n        return this._gears[index] && this._gears[index].controller == c;\n    }\n\n    public updateGearFromRelations(index: number, dx: number, dy: number): void {\n        if (this._gears[index])\n            this._gears[index].updateFromRelations(dx, dy);\n    }\n\n    public addDisplayLock(): number {\n        var gearDisplay: GearDisplay = <GearDisplay>this._gears[0];\n        if (gearDisplay && gearDisplay.controller) {\n            var ret: number = gearDisplay.addLock();\n            this.checkGearDisplay();\n\n            return ret;\n        }\n        else\n            return 0;\n    }\n\n    public releaseDisplayLock(token: number): void {\n        var gearDisplay: GearDisplay = <GearDisplay>this._gears[0];\n        if (gearDisplay && gearDisplay.controller) {\n            gearDisplay.releaseLock(token);\n            this.checkGearDisplay();\n        }\n    }\n\n    private checkGearDisplay(): void {\n        if (this._handlingController)\n            return;\n\n        var connected: boolean = this._gears[0] == null || (<GearDisplay>this._gears[0]).connected;\n        if (this._gears[8])\n            connected = (<GearDisplay2>this._gears[8]).evaluate(connected);\n\n        if (connected != this._internalVisible) {\n            this._internalVisible = connected;\n            this.handleVisibleChanged();\n\n            if (this._group && this._group.excludeInvisibles)\n                this._group.setBoundsChangedFlag();\n        }\n    }\n\n    public get gearXY(): GearXY {\n        return <GearXY>this.getGear(1);\n    }\n\n    public get gearSize(): GearSize {\n        return <GearSize>this.getGear(2);\n    }\n\n    public get gearLook(): GearLook {\n        return <GearLook>this.getGear(3);\n    }\n\n    public get relations(): Relations {\n        return this._relations;\n    }\n\n    public addRelation(target: GObject, relationType: number, usePercent?: boolean): void {\n        this._relations.add(target, relationType, usePercent);\n    }\n\n    public removeRelation(target: GObject, relationType: number): void {\n        this._relations.remove(target, relationType);\n    }\n\n    public get node(): Node {\n        return this._node;\n    }\n\n    public get parent(): GComponent {\n        return this._parent;\n    }\n\n    public removeFromParent(): void {\n        if (this._parent)\n            this._parent.removeChild(this);\n    }\n\n    public findParent(): GObject {\n        if (this._parent)\n            return this._parent;\n\n        //可能有些不直接在children里，但node挂着的\n        let pn: Node = this._node.parent;\n        while (pn) {\n            let gobj = (<any>pn)[\"$gobj\"];\n            if (gobj)\n                return gobj;\n\n            pn = pn.parent;\n        }\n\n        return null;\n    }\n\n    public get asCom(): GComponent {\n        return <GComponent><any>this;\n    }\n\n    public static cast(obj: Node): GObject {\n        return (<any>obj)[\"$gobj\"];\n    }\n\n    public get text(): string | null {\n        return null;\n    }\n\n    public set text(value: string | null) {\n    }\n\n    public get icon(): string | null {\n        return null;\n    }\n\n    public set icon(value: string | null) {\n    }\n\n    public get treeNode(): GTreeNode {\n        return this._treeNode;\n    }\n\n    public get isDisposed(): boolean {\n        return this._node == null;\n    }\n\n    public dispose(): void {\n        let n = this._node;\n        if (!n)\n            return;\n\n        this.removeFromParent();\n        this._relations.dispose();\n\n        this._node = null;\n        n.destroy();\n\n        for (var i: number = 0; i < 10; i++) {\n            var gear: GearBase = this._gears[i];\n            if (gear)\n                gear.dispose();\n        }\n    }\n\n    protected onEnable() {\n    }\n\n    protected onDisable() {\n    }\n\n    protected onUpdate() {\n    }\n\n    protected onDestroy() {\n    }\n\n    public onClick(listener: Function, target?: any): void {\n        this._node.on(FUIEvent.CLICK, listener, target);\n    }\n\n    public onceClick(listener: Function, target?: any): void {\n        this._node.once(FUIEvent.CLICK, listener, target);\n    }\n\n    public offClick(listener: Function, target?: any): void {\n        this._node.off(FUIEvent.CLICK, listener, target);\n    }\n\n    public clearClick(): void {\n        this._node.off(FUIEvent.CLICK);\n    }\n\n    public hasClickListener(): boolean {\n        return this._node.hasEventListener(FUIEvent.CLICK);\n    }\n\n    public on(type: string, listener: Function, target?: any): void {\n        if (type == FUIEvent.DISPLAY || type == FUIEvent.UNDISPLAY)\n            this._partner._emitDisplayEvents = true;\n\n        this._node.on(type, listener, target);\n    }\n\n    public once(type: string, listener: Function, target?: any): void {\n        if (type == FUIEvent.DISPLAY || type == FUIEvent.UNDISPLAY)\n            this._partner._emitDisplayEvents = true;\n\n        this._node.once(type, listener, target);\n    }\n\n    public off(type: string, listener?: Function, target?: any): void {\n        this._node.off(type, listener, target);\n    }\n\n    public get draggable(): boolean {\n        return this._draggable;\n    }\n\n    public set draggable(value: boolean) {\n        if (this._draggable != value) {\n            this._draggable = value;\n            this.initDrag();\n        }\n    }\n\n    public get dragBounds(): Rect {\n        return this._dragBounds;\n    }\n\n    public set dragBounds(value: Rect) {\n        this._dragBounds = value;\n    }\n\n    public startDrag(touchId?: number): void {\n        if (!this._node.activeInHierarchy)\n            return;\n\n        this.dragBegin(touchId);\n    }\n\n    public stopDrag(): void {\n        this.dragEnd();\n    }\n\n    public get dragging(): boolean {\n        return GObject.draggingObject == this;\n    }\n\n    public localToGlobal(ax?: number, ay?: number, result?: Vec2): Vec2 {\n        ax = ax || 0;\n        ay = ay || 0;\n        s_vec3.x = ax;\n        s_vec3.y = -ay;\n        if (!this._pivotAsAnchor) {\n            s_vec3.x -= this._uiTrans.anchorX * this._width;\n            s_vec3.y += (1 - this._uiTrans.anchorY) * this._height;\n        }\n        this._uiTrans.convertToWorldSpaceAR(s_vec3, s_vec3);\n        s_vec3.y = Decls.GRoot.inst.height - s_vec3.y;\n\n        result = result || new Vec2();\n        result.x = s_vec3.x;\n        result.y = s_vec3.y;\n        return result;\n    }\n\n    public globalToLocal(ax?: number, ay?: number, result?: Vec2): Vec2 {\n        ax = ax || 0;\n        ay = ay || 0;\n        s_vec3.x = ax;\n        s_vec3.y = Decls.GRoot.inst.height - ay;\n        this._uiTrans.convertToNodeSpaceAR(s_vec3, s_vec3);\n        if (!this._pivotAsAnchor) {\n            s_vec3.x += this._uiTrans.anchorX * this._width;\n            s_vec3.y -= (1 - this._uiTrans.anchorY) * this._height;\n        }\n\n        result = result || new Vec2();\n        result.x = s_vec3.x;\n        result.y = -s_vec3.y;\n        return result;\n    }\n\n    public localToGlobalRect(ax?: number, ay?: number, aw?: number, ah?: number, result?: Rect): Rect {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Rect();\n        var pt: Vec2 = this.localToGlobal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.localToGlobal(ax + aw, ay + ah, pt);\n        result.xMax = pt.x;\n        result.yMax = pt.y;\n        return result;\n    }\n\n    public globalToLocalRect(ax?: number, ay?: number, aw?: number, ah?: number, result?: Rect): Rect {\n        ax = ax || 0;\n        ay = ay || 0;\n        aw = aw || 0;\n        ah = ah || 0;\n        result = result || new Rect();\n        var pt: Vec2 = this.globalToLocal(ax, ay);\n        result.x = pt.x;\n        result.y = pt.y;\n        pt = this.globalToLocal(ax + aw, ay + ah, pt);\n        result.xMax = pt.x;\n        result.yMax = pt.y;\n        return result;\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        this._handlingController = true;\n        for (var i: number = 0; i < 10; i++) {\n            var gear: GearBase = this._gears[i];\n            if (gear && gear.controller == c)\n                gear.apply();\n        }\n        this._handlingController = false;\n\n        this.checkGearDisplay();\n    }\n\n    protected handleAnchorChanged(): void {\n        this.handlePositionChanged();\n    }\n\n    public handlePositionChanged(): void {\n        var xv: number = this._x;\n        var yv: number = -this._y;\n        if (!this._pivotAsAnchor) {\n            xv += this._uiTrans.anchorX * this._width;\n            yv -= (1 - this._uiTrans.anchorY) * this._height;\n        }\n        if (this._pixelSnapping) {\n            xv = Math.round(xv);\n            yv = Math.round(yv);\n        }\n        this._node.setPosition(xv, yv);\n    }\n\n    protected handleSizeChanged(): void {\n        this._uiTrans.setContentSize(this._width, this._height);\n    }\n\n    protected handleGrayedChanged(): void {\n        //nothing is base\n    }\n\n    public handleVisibleChanged(): void {\n        this._node.active = this._finalVisible;\n\n        if (this instanceof GGroup)\n            this.handleVisibleChanged();\n\n        if (this._parent)\n            this._parent.setBoundsChangedFlag();\n    }\n\n    public hitTest(globalPt: Vec2, forTouch?: boolean): GObject {\n        if (forTouch == null) forTouch = true;\n        if (forTouch && (this._touchDisabled || !this._touchable || !this._node.activeInHierarchy))\n            return null;\n\n        if (!this._hitTestPt)\n            this._hitTestPt = new Vec2();\n        this.globalToLocal(globalPt.x, globalPt.y, this._hitTestPt);\n        if (this._pivotAsAnchor) {\n            this._hitTestPt.x += this._uiTrans.anchorX * this._width;\n            this._hitTestPt.y += (1 - this._uiTrans.anchorY) * this._height;\n        }\n        return this._hitTest(this._hitTestPt, globalPt);\n    }\n\n    protected _hitTest(pt: Vec2, globalPt: Vec2): GObject {\n        if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n            return this;\n        else\n            return null;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Text:\n                return this.text;\n            case ObjectPropID.Icon:\n                return this.icon;\n            case ObjectPropID.Color:\n                return null;\n            case ObjectPropID.OutlineColor:\n                return null;\n            case ObjectPropID.Playing:\n                return false;\n            case ObjectPropID.Frame:\n                return 0;\n            case ObjectPropID.DeltaTime:\n                return 0;\n            case ObjectPropID.TimeScale:\n                return 1;\n            case ObjectPropID.FontSize:\n                return 0;\n            case ObjectPropID.Selected:\n                return false;\n            default:\n                return undefined;\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Text:\n                this.text = value;\n                break;\n\n            case ObjectPropID.Icon:\n                this.icon = value;\n                break;\n        }\n    }\n\n    public constructFromResource(): void {\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        buffer.seek(beginPos, 0);\n        buffer.skip(5);\n\n        var f1: number;\n        var f2: number;\n\n        this._id = buffer.readS();\n        this._name = buffer.readS();\n        f1 = buffer.readInt();\n        f2 = buffer.readInt();\n        this.setPosition(f1, f2);\n\n        if (buffer.readBool()) {\n            this.initWidth = buffer.readInt();\n            this.initHeight = buffer.readInt();\n            this.setSize(this.initWidth, this.initHeight, true);\n        }\n\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            this.setScale(f1, f2);\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            //this.setSkew(f1, f2);\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            this.setPivot(f1, f2, buffer.readBool());\n        }\n\n        f1 = buffer.readFloat();\n        if (f1 != 1)\n            this.alpha = f1;\n\n        f1 = buffer.readFloat();\n        if (f1 != 0)\n            this.rotation = f1;\n\n        if (!buffer.readBool())\n            this.visible = false;\n        if (!buffer.readBool())\n            this.touchable = false;\n        if (buffer.readBool())\n            this.grayed = true;\n        this.blendMode = buffer.readByte();\n\n        var filter: number = buffer.readByte();\n        if (filter == 1) {\n            //TODO: filter support\n        }\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.data = str;\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        buffer.seek(beginPos, 1);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.tooltips = str;\n\n        var groupId: number = buffer.readShort();\n        if (groupId >= 0)\n            this.group = <GGroup>this.parent.getChildAt(groupId);\n\n        buffer.seek(beginPos, 2);\n\n        var cnt: number = buffer.readShort();\n        for (var i: number = 0; i < cnt; i++) {\n            var nextPos: number = buffer.readShort();\n            nextPos += buffer.position;\n\n            var gear: GearBase = this.getGear(buffer.readByte());\n            gear.setup(buffer);\n\n            buffer.position = nextPos;\n        }\n    }\n\n    //toolTips support\n    private onRollOver(): void {\n        Decls.GRoot.inst.showTooltips(this.tooltips);\n    };\n    private onRollOut(): void {\n        Decls.GRoot.inst.hideTooltips();\n    };\n\n    //drag support\n    //-------------------------------------------------------------------\n    private initDrag(): void {\n        if (this._draggable) {\n            this.on(FUIEvent.TOUCH_BEGIN, this.onTouchBegin_0, this);\n            this.on(FUIEvent.TOUCH_MOVE, this.onTouchMove_0, this);\n            this.on(FUIEvent.TOUCH_END, this.onTouchEnd_0, this);\n        }\n        else {\n            this.off(FUIEvent.TOUCH_BEGIN, this.onTouchBegin_0, this);\n            this.off(FUIEvent.TOUCH_MOVE, this.onTouchMove_0, this);\n            this.off(FUIEvent.TOUCH_END, this.onTouchEnd_0, this);\n        }\n    }\n\n    private dragBegin(touchId: number): void {\n        if (GObject.draggingObject) {\n            let tmp: GObject = GObject.draggingObject;\n            tmp.stopDrag();\n            GObject.draggingObject = null;\n\n            tmp._node.emit(FUIEvent.DRAG_END);\n        }\n\n        if (touchId == undefined)\n            touchId = Decls.GRoot.inst.inputProcessor.getAllTouches()[0];\n\n        sGlobalDragStart.set(Decls.GRoot.inst.getTouchPosition(touchId));\n        this.localToGlobalRect(0, 0, this._width, this._height, sGlobalRect);\n\n        GObject.draggingObject = this;\n        this._dragTesting = false;\n        Decls.GRoot.inst.inputProcessor.addTouchMonitor(touchId, this);\n\n        this.on(FUIEvent.TOUCH_MOVE, this.onTouchMove_0, this);\n        this.on(FUIEvent.TOUCH_END, this.onTouchEnd_0, this);\n    }\n\n    private dragEnd(): void {\n        if (GObject.draggingObject == this) {\n            this._dragTesting = false;\n            GObject.draggingObject = null;\n        }\n    }\n\n    private onTouchBegin_0(evt: FUIEvent): void {\n        if (this._dragStartPos == null)\n            this._dragStartPos = new Vec2();\n\n        this._dragStartPos.set(evt.pos);\n        this._dragTesting = true;\n        evt.captureTouch();\n    }\n\n    private onTouchMove_0(evt: FUIEvent): void {\n        if (GObject.draggingObject != this && this._draggable && this._dragTesting) {\n            var sensitivity: number = UIConfig.touchDragSensitivity;\n            if (this._dragStartPos\n                && Math.abs(this._dragStartPos.x - evt.pos.x) < sensitivity\n                && Math.abs(this._dragStartPos.y - evt.pos.y) < sensitivity)\n                return;\n\n            this._dragTesting = false;\n\n            s_dragQuery = true;\n            this._node.emit(FUIEvent.DRAG_START, evt);\n            if (s_dragQuery)\n                this.dragBegin(evt.touchId);\n        }\n\n        if (GObject.draggingObject == this) {\n\n            var xx: number = evt.pos.x - sGlobalDragStart.x + sGlobalRect.x;\n            var yy: number = evt.pos.y - sGlobalDragStart.y + sGlobalRect.y;\n\n            if (this._dragBounds) {\n                var rect: Rect = Decls.GRoot.inst.localToGlobalRect(this._dragBounds.x, this._dragBounds.y,\n                    this._dragBounds.width, this._dragBounds.height, s_rect);\n                if (xx < rect.x)\n                    xx = rect.x;\n                else if (xx + sGlobalRect.width > rect.xMax) {\n                    xx = rect.xMax - sGlobalRect.width;\n                    if (xx < rect.x)\n                        xx = rect.x;\n                }\n\n                if (yy < rect.y)\n                    yy = rect.y;\n                else if (yy + sGlobalRect.height > rect.yMax) {\n                    yy = rect.yMax - sGlobalRect.height;\n                    if (yy < rect.y)\n                        yy = rect.y;\n                }\n            }\n\n            s_dragging = true;\n            var pt: Vec2 = this.parent.globalToLocal(xx, yy, s_vec2);\n            this.setPosition(Math.round(pt.x), Math.round(pt.y));\n            s_dragging = false;\n\n            this._node.emit(FUIEvent.DRAG_MOVE, evt);\n        }\n    }\n\n    private onTouchEnd_0(evt: Event): void {\n        if (GObject.draggingObject == this) {\n            GObject.draggingObject = null;\n\n            this._node.emit(FUIEvent.DRAG_END, evt);\n        }\n    }\n}\n\n//-------------------------------------------------------------------\n\nexport class GObjectPartner extends Component {\n    public _emitDisplayEvents?: boolean;\n\n    public callLater(callback: any, delay?: number): void {\n        if (!director.getScheduler().isScheduled(callback, this))\n            this.scheduleOnce(callback, delay);\n    }\n\n    public onClickLink(evt: Event, text: string) {\n        this.node.emit(FUIEvent.LINK, text, evt);\n    }\n\n    protected onEnable() {\n        (<any>this.node)[\"$gobj\"].onEnable();\n\n        if (this._emitDisplayEvents)\n            this.node.emit(FUIEvent.DISPLAY);\n    }\n\n    protected onDisable() {\n        (<any>this.node)[\"$gobj\"].onDisable();\n\n        if (this._emitDisplayEvents)\n            this.node.emit(FUIEvent.UNDISPLAY);\n    }\n\n    protected update(dt: number) {\n        (<any>this.node)[\"$gobj\"].onUpdate(dt);\n    }\n\n    protected onDestroy() {\n        (<any>this.node)[\"$gobj\"].onDestroy();\n    }\n}\n\n//-------------------------------------------------------------------\n\nlet GearClasses: Array<typeof GearBase> = [\n    GearDisplay, GearXY, GearSize, GearLook, GearColor,\n    GearAnimation, GearText, GearIcon, GearDisplay2, GearFontSize\n];\n\nfunction createGear(owner: GObject, index: number): GearBase {\n    let ret = new (GearClasses[index])();\n    ret._owner = owner;\n    return ret;\n}\n\nvar s_vec2: Vec2 = new Vec2();\nvar s_vec3: Vec3 = new Vec3();\nvar s_rect: Rect = new Rect();\n\nvar sGlobalDragStart: Vec2 = new Vec2();\nvar sGlobalRect: Rect = new Rect();\nvar s_dragging: boolean;\nvar s_dragQuery: boolean;\n\nexport interface IGRoot {\n    inst: any;\n}\n\nexport var Decls: { GRoot?: IGRoot } = {};\n\nexport var constructingDepth: { n: number } = { n: 0 };","import { GroupLayoutType } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GGroup extends GObject {\n    private _layout: number = 0;\n    private _lineGap: number = 0;\n    private _columnGap: number = 0;\n    private _excludeInvisibles: boolean;\n    private _autoSizeDisabled: boolean;\n    private _mainGridIndex: number = -1;\n    private _mainGridMinSize: number = 50;\n\n    private _boundsChanged: boolean;\n    private _percentReady: boolean;\n    private _mainChildIndex: number = -1;\n    private _totalSize: number = 0;\n    private _numChildren: number = 0;\n\n    public _updating: number = 0;\n\n    constructor() {\n        super();\n\n        this._node.name = \"GGroup\";\n        this._touchDisabled = true;\n    }\n\n    public dispose(): void {\n        this._boundsChanged = false;\n\n        super.dispose();\n    }\n\n    public get layout(): number {\n        return this._layout;\n    }\n\n    public set layout(value: number) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get lineGap(): number {\n        return this._lineGap;\n    }\n\n    public set lineGap(value: number) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n\n    public get columnGap(): number {\n        return this._columnGap;\n    }\n\n    public set columnGap(value: number) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag(true);\n        }\n    }\n\n    public get excludeInvisibles(): boolean {\n        return this._excludeInvisibles;\n    }\n\n    public set excludeInvisibles(value: boolean) {\n        if (this._excludeInvisibles != value) {\n            this._excludeInvisibles = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get autoSizeDisabled(): boolean {\n        return this._autoSizeDisabled;\n    }\n\n    public set autoSizeDisabled(value: boolean) {\n        this._autoSizeDisabled = value;\n    }\n\n    public get mainGridMinSize(): number {\n        return this._mainGridMinSize;\n    }\n\n    public set mainGridMinSize(value: number) {\n        if (this._mainGridMinSize != value) {\n            this._mainGridMinSize = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public get mainGridIndex(): number {\n        return this._mainGridIndex;\n    }\n\n    public set mainGridIndex(value: number) {\n        if (this._mainGridIndex != value) {\n            this._mainGridIndex = value;\n            this.setBoundsChangedFlag();\n        }\n    }\n\n    public setBoundsChangedFlag(positionChangedOnly: boolean = false): void {\n        if (this._updating == 0 && this._parent) {\n            if (!positionChangedOnly)\n                this._percentReady = false;\n\n            if (!this._boundsChanged) {\n                this._boundsChanged = true;\n                if (this._layout != GroupLayoutType.None)\n                    this._partner.callLater(this._ensureBoundsCorrect);\n            }\n        }\n    }\n\n    private _ensureBoundsCorrect(): void {\n        let _t = <GGroup>GObject.cast(this.node);\n        _t.ensureBoundsCorrect();\n    }\n\n    public ensureSizeCorrect(): void {\n        if (this._parent == null || !this._boundsChanged || this._layout == 0)\n            return;\n\n        this._boundsChanged = false;\n        if (this._autoSizeDisabled)\n            this.resizeChildren(0, 0);\n        else {\n            this.handleLayout();\n            this.updateBounds();\n        }\n    }\n\n    public ensureBoundsCorrect(): void {\n        if (this._parent == null || !this._boundsChanged)\n            return;\n\n        this._boundsChanged = false;\n        if (this._layout == 0)\n            this.updateBounds();\n        else {\n            if (this._autoSizeDisabled)\n                this.resizeChildren(0, 0);\n            else {\n                this.handleLayout();\n                this.updateBounds();\n            }\n        }\n    }\n\n    private updateBounds(): void {\n        this._partner.unschedule(this._ensureBoundsCorrect);\n\n        var cnt: number = this._parent.numChildren;\n        var i: number;\n        var child: GObject;\n        var ax: number = Number.POSITIVE_INFINITY, ay: number = Number.POSITIVE_INFINITY;\n        var ar: number = Number.NEGATIVE_INFINITY, ab: number = Number.NEGATIVE_INFINITY;\n        var tmp: number;\n        var empty: boolean = true;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group != this || this._excludeInvisibles && !child.internalVisible3)\n                continue;\n\n            tmp = child.xMin;\n            if (tmp < ax)\n                ax = tmp;\n            tmp = child.yMin;\n            if (tmp < ay)\n                ay = tmp;\n            tmp = child.xMin + child.width;\n            if (tmp > ar)\n                ar = tmp;\n            tmp = child.yMin + child.height;\n            if (tmp > ab)\n                ab = tmp;\n            empty = false;\n        }\n\n        var w: number = 0, h: number = 0;\n        if (!empty) {\n            this._updating |= 1;\n            this.setPosition(ax, ay);\n            this._updating &= 2;\n\n            w = ar - ax;\n            h = ab - ay;\n        }\n\n        if ((this._updating & 2) == 0) {\n            this._updating |= 2;\n            this.setSize(w, h);\n            this._updating &= 1;\n        }\n        else {\n            this._updating &= 1;\n            this.resizeChildren(this._width - w, this._height - h);\n        }\n    }\n\n    private handleLayout(): void {\n        this._updating |= 1;\n\n        var child: GObject;\n        var i: number;\n        var cnt: number;\n\n        if (this._layout == GroupLayoutType.Horizontal) {\n            var curX: number = this.x;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else if (this._layout == GroupLayoutType.Vertical) {\n            var curY: number = this.y;\n            cnt = this._parent.numChildren;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n                if (this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n\n        this._updating &= 2;\n    }\n\n    public moveChildren(dx: number, dy: number): void {\n        if ((this._updating & 1) != 0 || this._parent == null)\n            return;\n\n        this._updating |= 1;\n\n        var cnt: number = this._parent.numChildren;\n        var i: number\n        var child: GObject;\n        for (i = 0; i < cnt; i++) {\n            child = this._parent.getChildAt(i);\n            if (child.group == this) {\n                child.setPosition(child.x + dx, child.y + dy);\n            }\n        }\n\n        this._updating &= 2;\n    }\n\n    public resizeChildren(dw: number, dh: number): void {\n        if (this._layout == GroupLayoutType.None || (this._updating & 2) != 0 || this._parent == null)\n            return;\n\n        this._updating |= 2;\n\n        if (this._boundsChanged) {\n            this._boundsChanged = false;\n            if (!this._autoSizeDisabled) {\n                this.updateBounds();\n                return;\n            }\n        }\n\n        var cnt: number = this._parent.numChildren;\n        var i: number;\n        var child: GObject;\n\n        if (!this._percentReady) {\n            this._percentReady = true;\n            this._numChildren = 0;\n            this._totalSize = 0;\n            this._mainChildIndex = -1;\n\n            var j: number = 0;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (!this._excludeInvisibles || child.internalVisible3) {\n                    if (j == this._mainGridIndex)\n                        this._mainChildIndex = i;\n\n                    this._numChildren++;\n\n                    if (this._layout == 1)\n                        this._totalSize += child.width;\n                    else\n                        this._totalSize += child.height;\n                }\n\n                j++;\n            }\n\n            if (this._mainChildIndex != -1) {\n                if (this._layout == 1) {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.width;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n                else {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    this._totalSize += this._mainGridMinSize - child.height;\n                    child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                }\n            }\n\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (i == this._mainChildIndex)\n                    continue;\n\n                if (this._totalSize > 0)\n                    child._sizePercentInGroup = (this._layout == 1 ? child.width : child.height) / this._totalSize;\n                else\n                    child._sizePercentInGroup = 0;\n            }\n        }\n\n        var remainSize: number = 0;\n        var remainPercent: number = 1;\n        var priorHandled: boolean = false;\n\n        if (this._layout == 1) {\n            remainSize = this.width - (this._numChildren - 1) * this._columnGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(remainSize - (this._totalSize - this._mainGridMinSize), child._rawHeight + dh, true);\n                remainSize -= child.width;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n\n            var curX: number = this.x;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth, child._rawHeight + dh, true);\n                    continue;\n                }\n\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(Math.round(child._sizePercentInGroup / remainPercent * remainSize), child._rawHeight + dh, true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.width;\n                }\n\n                child.xMin = curX;\n                if (child.width != 0)\n                    curX += child.width + this._columnGap;\n            }\n        }\n        else {\n            remainSize = this.height - (this._numChildren - 1) * this._lineGap;\n            if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                child = this._parent.getChildAt(this._mainChildIndex);\n                child.setSize(child._rawWidth + dw, remainSize - (this._totalSize - this._mainGridMinSize), true);\n                remainSize -= child.height;\n                remainPercent -= child._sizePercentInGroup;\n                priorHandled = true;\n            }\n\n            var curY: number = this.y;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this)\n                    continue;\n\n                if (this._excludeInvisibles && !child.internalVisible3) {\n                    child.setSize(child._rawWidth + dw, child._rawHeight, true);\n                    continue;\n                }\n\n                if (!priorHandled || i != this._mainChildIndex) {\n                    child.setSize(child._rawWidth + dw, Math.round(child._sizePercentInGroup / remainPercent * remainSize), true);\n                    remainPercent -= child._sizePercentInGroup;\n                    remainSize -= child.height;\n                }\n\n                child.yMin = curY;\n                if (child.height != 0)\n                    curY += child.height + this._lineGap;\n            }\n        }\n\n        this._updating &= 1;\n    }\n\n    public handleAlphaChanged(): void {\n        if (this._underConstruct)\n            return;\n\n        var cnt: number = this._parent.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.alpha = this.alpha;\n        }\n    }\n\n    public handleVisibleChanged(): void {\n        if (!this._parent)\n            return;\n\n        var cnt: number = this._parent.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this._parent.getChildAt(i);\n            if (child.group == this)\n                child.handleVisibleChanged();\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._layout = buffer.readByte();\n        this._lineGap = buffer.readInt();\n        this._columnGap = buffer.readInt();\n        if (buffer.version >= 2) {\n            this._excludeInvisibles = buffer.readBool();\n            this._autoSizeDisabled = buffer.readBool();\n            this._mainGridIndex = buffer.readShort();\n        }\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!this.visible)\n            this.handleVisibleChanged();\n    }\n}","import { Color, Graphics, misc, Vec2 } from \"cc\";\nimport { ObjectPropID } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GGraph extends GObject {\n    public _content: Graphics;\n\n    private _type: number = 0;\n    private _lineSize: number = 0;\n    private _lineColor: Color;\n    private _fillColor: Color;\n    private _cornerRadius?: Array<number>;\n    private _sides?: number;\n    private _startAngle?: number;\n    private _polygonPoints?: Array<number>;\n    private _distances?: Array<number>;\n    private _hasContent: boolean;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GGraph\";\n        this._lineSize = 1;\n        this._lineColor = new Color();\n        this._fillColor = new Color(255, 255, 255, 255);\n\n        this._content = this._node.addComponent(Graphics);\n    }\n\n    public drawRect(lineSize: number, lineColor: Color, fillColor: Color, corner?: Array<number>): void {\n        this._type = 1;\n        this._lineSize = lineSize;\n        this._lineColor.set(lineColor);\n        this._fillColor.set(fillColor);\n        this._cornerRadius = corner;\n        this.updateGraph();\n    }\n\n    public drawEllipse(lineSize: number, lineColor: Color, fillColor: Color): void {\n        this._type = 2;\n        this._lineSize = lineSize;\n        this._lineColor.set(lineColor);\n        this._fillColor.set(fillColor);\n        this.updateGraph();\n    }\n\n    public drawRegularPolygon(lineSize: number, lineColor: Color, fillColor: Color, sides: number, startAngle?: number, distances?: number[]): void {\n        this._type = 4;\n        this._lineSize = lineSize;\n        this._lineColor.set(lineColor);\n        this._fillColor.set(fillColor);\n        this._sides = sides;\n        this._startAngle = startAngle || 0;\n        this._distances = distances;\n        this.updateGraph();\n    }\n\n    public drawPolygon(lineSize: number, lineColor: Color, fillColor: Color, points: Array<number>): void {\n        this._type = 3;\n        this._lineSize = lineSize;\n        this._lineColor.set(lineColor);\n        this._fillColor.set(fillColor);\n        this._polygonPoints = points;\n        this.updateGraph();\n    }\n\n    public get distances(): number[] {\n        return this._distances;\n    }\n\n    public set distances(value: number[]) {\n        this._distances = value;\n        if (this._type == 3)\n            this.updateGraph();\n    }\n\n    public clearGraphics(): void {\n        this._type = 0;\n        if (this._hasContent) {\n            this._content.clear();\n            this._hasContent = false;\n        }\n    }\n\n    public get type(): number {\n        return this._type;\n    }\n\n    public get color(): Color {\n        return this._fillColor;\n    }\n\n    public set color(value: Color) {\n        this._fillColor.set(value);\n        if (this._type != 0)\n            this.updateGraph();\n    }\n\n    private updateGraph(): void {\n        let ctx = this._content;\n        if (this._hasContent) {\n            this._hasContent = false;\n            ctx.clear();\n        }\n\n        var w: number = this._width;\n        var h: number = this._height;\n        if (w == 0 || h == 0)\n            return;\n\n        var px: number = -this.pivotX * this._width;\n        var py: number = this.pivotY * this._height;\n\n        let ls = this._lineSize / 2;\n        ctx.lineWidth = this._lineSize;\n        ctx.strokeColor = this._lineColor;\n        ctx.fillColor = this._fillColor;\n\n        if (this._type == 1) {\n            if (this._cornerRadius) {\n                ctx.roundRect(px + ls, -h + py + ls, w - this._lineSize, h - this._lineSize, this._cornerRadius[0]);\n            }\n            else\n                ctx.rect(px + ls, -h + py + ls, w - this._lineSize, h - this._lineSize);\n        }\n        else if (this._type == 2) {\n            ctx.ellipse(w / 2 + px, -h / 2 + py, w / 2 - ls, h / 2 - ls);\n        }\n        else if (this._type == 3) {\n            this.drawPath(ctx, this._polygonPoints, px, py);\n        }\n        else if (this._type == 4) {\n            if (!this._polygonPoints)\n                this._polygonPoints = [];\n            var radius: number = Math.min(w, h) / 2 - ls;\n            this._polygonPoints.length = 0;\n            var angle: number = misc.degreesToRadians(this._startAngle);\n            var deltaAngle: number = 2 * Math.PI / this._sides;\n            var dist: number;\n            for (var i: number = 0; i < this._sides; i++) {\n                if (this._distances) {\n                    dist = this._distances[i];\n                    if (isNaN(dist))\n                        dist = 1;\n                }\n                else\n                    dist = 1;\n\n                var xv: number = radius + radius * dist * Math.cos(angle);\n                var yv: number = radius + radius * dist * Math.sin(angle);\n                this._polygonPoints.push(xv, yv);\n\n                angle += deltaAngle;\n            }\n\n            this.drawPath(ctx, this._polygonPoints, px, py);\n        }\n\n        if (ls != 0)\n            ctx.stroke();\n        if (this._fillColor.a != 0)\n            ctx.fill();\n\n        this._hasContent = true;\n    }\n\n    private drawPath(ctx: Graphics, points: number[], px: number, py: number): void {\n        var cnt: number = points.length;\n        ctx.moveTo(points[0] + px, -points[1] + py);\n        for (var i: number = 2; i < cnt; i += 2)\n            ctx.lineTo(points[i] + px, -points[i + 1] + py);\n        ctx.lineTo(points[0] + px, -points[1] + py);\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._type != 0)\n            this.updateGraph();\n    }\n\n    protected handleAnchorChanged(): void {\n        super.handleAnchorChanged();\n\n        if (this._type != 0)\n            this.updateGraph();\n    }\n\n    public getProp(index: number): any {\n        if (index == ObjectPropID.Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n\n    public setProp(index: number, value: any): void {\n        if (index == ObjectPropID.Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n\n    protected _hitTest(pt: Vec2): GObject {\n        if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height) {\n            if (this._type == 3) {\n                let points = this._polygonPoints;\n                let len: number = points.length / 2;\n                let i: number;\n                let j: number = len - 1;\n                let oddNodes: boolean = false;\n                let w: number = this._width;\n                let h: number = this._height;\n\n                for (i = 0; i < len; ++i) {\n                    let ix: number = points[i * 2];\n                    let iy: number = points[i * 2 + 1];\n                    let jx: number = points[j * 2];\n                    let jy: number = points[j * 2 + 1];\n                    if ((iy < pt.y && jy >= pt.y || jy < pt.y && iy >= pt.y) && (ix <= pt.x || jx <= pt.x)) {\n                        if (ix + (pt.y - iy) / (jy - iy) * (jx - ix) < pt.x)\n                            oddNodes = !oddNodes;\n                    }\n\n                    j = i;\n                }\n\n                return oddNodes ? this : null;\n            }\n            else\n                return this;\n        }\n        else\n            return null;\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._type = buffer.readByte();\n        if (this._type != 0) {\n            var i: number;\n            var cnt: number;\n\n            this._lineSize = buffer.readInt();\n            this._lineColor.set(buffer.readColor(true));\n            this._fillColor.set(buffer.readColor(true));\n            if (buffer.readBool()) {\n                this._cornerRadius = new Array<number>(4);\n                for (i = 0; i < 4; i++)\n                    this._cornerRadius[i] = buffer.readFloat();\n            }\n\n            if (this._type == 3) {\n                cnt = buffer.readShort();\n                this._polygonPoints = [];\n                this._polygonPoints.length = cnt;\n                for (i = 0; i < cnt; i++)\n                    this._polygonPoints[i] = buffer.readFloat();\n            }\n            else if (this._type == 4) {\n                this._sides = buffer.readShort();\n                this._startAngle = buffer.readFloat();\n                cnt = buffer.readShort();\n                if (cnt > 0) {\n                    this._distances = [];\n                    for (i = 0; i < cnt; i++)\n                        this._distances[i] = buffer.readFloat();\n                }\n            }\n\n            this.updateGraph();\n        }\n    }\n}","import { Material, Sprite, UITransform, Vec2 } from \"cc\";\r\nimport { FillMethod, FillOrigin, FlipType } from \"../FieldTypes\";\r\n\r\nexport class Image extends Sprite {\r\n    private _flip: FlipType = FlipType.None;\r\n    private _fillMethod: FillMethod = FillMethod.None;\r\n    private _fillOrigin: FillOrigin = FillOrigin.Left;\r\n    private _fillAmount: number = 0;\r\n    private _fillClockwise: boolean;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public get flip(): FlipType {\r\n        return this._flip;\r\n    }\r\n\r\n    public set flip(value: FlipType) {\r\n        if (this._flip != value) {\r\n            this._flip = value;\r\n\r\n            let sx = 1, sy = 1;\r\n            if (this._flip == FlipType.Horizontal || this._flip == FlipType.Both)\r\n                sx = -1;\r\n            if (this._flip == FlipType.Vertical || this._flip == FlipType.Both)\r\n                sy = -1;\r\n\r\n            if (sx != 1 || sy != 1) {\r\n                let uiTrans = this.node.getComponent(UITransform)!;\r\n                uiTrans.setAnchorPoint(0.5, 0.5);\r\n            }\r\n            this.node.setScale(sx, sy);\r\n        }\r\n    }\r\n\r\n    public get fillMethod(): FillMethod {\r\n        return this._fillMethod;\r\n    }\r\n\r\n    public set fillMethod(value: FillMethod) {\r\n        if (this._fillMethod != value) {\r\n            this._fillMethod = value;\r\n            if (this._fillMethod != 0) {\r\n                this.type = Sprite.Type.FILLED;\r\n                if (this._fillMethod <= 3)\r\n                    this.fillType = <number>this._fillMethod - 1;\r\n                else\r\n                    this.fillType = Sprite.FillType.RADIAL;\r\n                this.fillCenter = new Vec2(0.5, 0.5);\r\n\r\n                this.setupFill();\r\n            }\r\n            else {\r\n                this.type = Sprite.Type.SIMPLE;\r\n            }\r\n        }\r\n    }\r\n\r\n    public get fillOrigin(): FillOrigin {\r\n        return this._fillOrigin;\r\n    }\r\n\r\n    public set fillOrigin(value: FillOrigin) {\r\n        if (this._fillOrigin != value) {\r\n            this._fillOrigin = value;\r\n            if (this._fillMethod != 0)\r\n                this.setupFill();\r\n        }\r\n    }\r\n\r\n    public get fillClockwise(): boolean {\r\n        return this._fillClockwise;\r\n    }\r\n\r\n    public set fillClockwise(value: boolean) {\r\n        if (this._fillClockwise != value) {\r\n            this._fillClockwise = value;\r\n            if (this._fillMethod != 0)\r\n                this.setupFill();\r\n        }\r\n    }\r\n\r\n    public get fillAmount(): number {\r\n        return this._fillAmount;\r\n    }\r\n\r\n    public set fillAmount(value: number) {\r\n        if (this._fillAmount != value) {\r\n            this._fillAmount = value;\r\n            if (this._fillMethod != 0) {\r\n                if (this._fillClockwise)\r\n                    this.fillRange = - this._fillAmount;\r\n                else\r\n                    this.fillRange = this._fillAmount;\r\n            }\r\n        }\r\n    }\r\n\r\n    private setupFill(): void {\r\n        if (this._fillMethod == FillMethod.Horizontal) {\r\n            this._fillClockwise = this._fillOrigin == FillOrigin.Right || this._fillOrigin == FillOrigin.Bottom;\r\n            this.fillStart = this._fillClockwise ? 1 : 0;\r\n        }\r\n        else if (this._fillMethod == FillMethod.Vertical) {\r\n            this._fillClockwise = this._fillOrigin == FillOrigin.Left || this._fillOrigin == FillOrigin.Top;\r\n            this.fillStart = this._fillClockwise ? 1 : 0;\r\n        }\r\n        else {\r\n            switch (this._fillOrigin) {\r\n                case FillOrigin.Right:\r\n                    this.fillOrigin = 0;\r\n                    break;\r\n                case FillOrigin.Top:\r\n                    this.fillStart = 0.25;\r\n                    break;\r\n                case FillOrigin.Left:\r\n                    this.fillStart = 0.5;\r\n                    break;\r\n                case FillOrigin.Bottom:\r\n                    this.fillStart = 0.75;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}","import { Sprite, Color, SpriteFrame } from \"cc\";\nimport { Image } from \"./display/Image\";\nimport { FlipType, FillMethod, FillOrigin, ObjectPropID } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { PackageItem } from \"./PackageItem\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GImage extends GObject {\n    public _content: Image;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GImage\";\n        this._touchDisabled = true;\n        this._content = this._node.addComponent(Image);\n        this._content.sizeMode = Sprite.SizeMode.CUSTOM;\n        this._content.trim = false;\n    }\n\n    public get color(): Color {\n        return this._content.color;\n    }\n\n    public set color(value: Color) {\n        this._content.color = value;\n        this.updateGear(4);\n    }\n\n    public get flip(): FlipType {\n        return this._content.flip;\n    }\n\n    public set flip(value: FlipType) {\n        this._content.flip = value;\n    }\n\n    public get fillMethod(): FillMethod {\n        return this._content.fillMethod;\n    }\n\n    public set fillMethod(value: FillMethod) {\n        this._content.fillMethod = value;\n    }\n\n    public get fillOrigin(): FillOrigin {\n        return this._content.fillOrigin;\n    }\n\n    public set fillOrigin(value: FillOrigin) {\n        this._content.fillOrigin = value;\n    }\n\n    public get fillClockwise(): boolean {\n        return this._content.fillClockwise;\n    }\n\n    public set fillClockwise(value: boolean) {\n        this._content.fillClockwise = value;\n    }\n\n    public get fillAmount(): number {\n        return this._content.fillAmount;\n    }\n\n    public set fillAmount(value: number) {\n        this._content.fillAmount = value;\n    }\n\n    public constructFromResource(): void {\n        var contentItem: PackageItem = this.packageItem.getBranch();\n        this.sourceWidth = contentItem.width;\n        this.sourceHeight = contentItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n        this.setSize(this.sourceWidth, this.sourceHeight);\n\n        contentItem = contentItem.getHighResolution();\n        contentItem.load();\n\n        if (contentItem.scale9Grid)\n            this._content.type = Sprite.Type.SLICED;\n        else if (contentItem.scaleByTile)\n            this._content.type = Sprite.Type.TILED;\n        this._content.spriteFrame = <SpriteFrame>contentItem.asset;\n    }\n\n    protected handleGrayedChanged(): void {\n        this._content.grayscale = this._grayed;\n    }\n\n    public getProp(index: number): any {\n        if (index == ObjectPropID.Color)\n            return this.color;\n        else\n            return super.getProp(index);\n    }\n\n    public setProp(index: number, value: any): void {\n        if (index == ObjectPropID.Color)\n            this.color = value;\n        else\n            super.setProp(index, value);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        if (buffer.readBool())\n            this.color = buffer.readColor();\n        this._content.flip = buffer.readByte();\n        this._content.fillMethod = buffer.readByte();\n        if (this._content.fillMethod != 0) {\n            this._content.fillOrigin = buffer.readByte();\n            this._content.fillClockwise = buffer.readBool();\n            this._content.fillAmount = buffer.readFloat();\n        }\n    }\n}","import { Rect, Sprite, SpriteFrame } from \"cc\";\nimport { Image } from \"./Image\";\n\nexport interface Frame {\n    rect: Rect;\n    addDelay: number;\n    texture: SpriteFrame | null;\n}\n\nexport class MovieClip extends Image {\n    public interval: number = 0;\n    public swing: boolean = false;\n    public repeatDelay: number = 0;\n    public timeScale: number = 1;\n\n    private _playing: boolean = true;\n    private _frameCount: number = 0;\n    private _frames: Array<Frame> | null;\n    private _frame: number = 0;\n    private _start: number = 0;\n    private _end: number = 0;\n    private _times: number = 0;\n    private _endAt: number = 0;\n    private _status: number = 0; //0-none, 1-next loop, 2-ending, 3-ended\n    private _callback: () => void | null;\n    private _smoothing: boolean = true;\n\n    private _frameElapsed: number = 0; //当前帧延迟\n    private _reversed: boolean = false;\n    private _repeatedCount: number = 0;\n\n    public constructor() {\n        super();\n    }\n\n    public get frames(): Array<Frame> {\n        return this._frames;\n    }\n\n    public set frames(value: Array<Frame>) {\n        this._frames = value;\n        if (this._frames) {\n            this._frameCount = this._frames.length;\n\n            if (this._end == -1 || this._end > this._frameCount - 1)\n                this._end = this._frameCount - 1;\n            if (this._endAt == -1 || this._endAt > this._frameCount - 1)\n                this._endAt = this._frameCount - 1;\n\n            if (this._frame < 0 || this._frame > this._frameCount - 1)\n                this._frame = this._frameCount - 1;\n\n            this.type = Sprite.Type.SIMPLE;\n            this.drawFrame();\n\n            this._frameElapsed = 0;\n            this._repeatedCount = 0;\n            this._reversed = false;\n        }\n        else {\n            this._frameCount = 0;\n        }\n    }\n\n    public get frameCount(): number {\n        return this._frameCount;\n    }\n\n    public get frame(): number {\n        return this._frame;\n    }\n\n    public set frame(value: number) {\n        if (this._frame != value) {\n            if (this._frames && value >= this._frameCount)\n                value = this._frameCount - 1;\n\n            this._frame = value;\n            this._frameElapsed = 0;\n            this.drawFrame();\n        }\n    }\n\n    public get playing(): boolean {\n        return this._playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._playing != value) {\n            this._playing = value;\n        }\n    }\n\n    public get smoothing(): boolean {\n        return this._smoothing;\n    }\n\n    public set smoothing(value: boolean) {\n        this._smoothing = value;\n    }\n\n    public rewind(): void {\n        this._frame = 0;\n        this._frameElapsed = 0;\n        this._reversed = false;\n        this._repeatedCount = 0;\n\n        this.drawFrame();\n    }\n\n    public syncStatus(anotherMc: MovieClip): void {\n        this._frame = anotherMc._frame;\n        this._frameElapsed = anotherMc._frameElapsed;\n        this._reversed = anotherMc._reversed;\n        this._repeatedCount = anotherMc._repeatedCount;\n\n        this.drawFrame();\n    }\n\n    public advance(timeInSeconds: number): void {\n        var beginFrame: number = this._frame;\n        var beginReversed: boolean = this._reversed;\n        var backupTime: number = timeInSeconds;\n\n        while (true) {\n            var tt: number = this.interval + this._frames[this._frame].addDelay;\n            if (this._frame == 0 && this._repeatedCount > 0)\n                tt += this.repeatDelay;\n            if (timeInSeconds < tt) {\n                this._frameElapsed = 0;\n                break;\n            }\n\n            timeInSeconds -= tt;\n\n            if (this.swing) {\n                if (this._reversed) {\n                    this._frame--;\n                    if (this._frame <= 0) {\n                        this._frame = 0;\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n                else {\n                    this._frame++;\n                    if (this._frame > this._frameCount - 1) {\n                        this._frame = Math.max(0, this._frameCount - 2);\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n            }\n            else {\n                this._frame++;\n                if (this._frame > this._frameCount - 1) {\n                    this._frame = 0;\n                    this._repeatedCount++;\n                }\n            }\n\n            if (this._frame == beginFrame && this._reversed == beginReversed) //走了一轮了\n            {\n                var roundTime: number = backupTime - timeInSeconds; //这就是一轮需要的时间\n                timeInSeconds -= Math.floor(timeInSeconds / roundTime) * roundTime; //跳过\n            }\n        }\n\n        this.drawFrame();\n    }\n\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    public setPlaySettings(start?: number, end?: number, times?: number, endAt?: number, endCallback?: (() => void) | null): void {\n        if (start == undefined) start = 0;\n        if (end == undefined) end = -1;\n        if (times == undefined) times = 0;\n        if (endAt == undefined) endAt = -1;\n\n        this._start = start;\n        this._end = end;\n        if (this._end == -1 || this._end > this._frameCount - 1)\n            this._end = this._frameCount - 1;\n        this._times = times;\n        this._endAt = endAt;\n        if (this._endAt == -1)\n            this._endAt = this._end;\n        this._status = 0;\n        this._callback = endCallback;\n\n        this.frame = start;\n    }\n\n    protected update(dt: number): void {\n        if (!this._playing || this._frameCount == 0 || this._status == 3)\n            return;\n\n        if (this.timeScale != 1)\n            dt *= this.timeScale;\n\n        this._frameElapsed += dt;\n        var tt: number = this.interval + this._frames[this._frame].addDelay;\n        if (this._frame == 0 && this._repeatedCount > 0)\n            tt += this.repeatDelay;\n        if (this._frameElapsed < tt)\n            return;\n\n        this._frameElapsed -= tt;\n        if (this._frameElapsed > this.interval)\n            this._frameElapsed = this.interval;\n\n        if (this.swing) {\n            if (this._reversed) {\n                this._frame--;\n                if (this._frame <= 0) {\n                    this._frame = 0;\n                    this._repeatedCount++;\n                    this._reversed = !this._reversed;\n                }\n            }\n            else {\n                this._frame++;\n                if (this._frame > this._frameCount - 1) {\n                    this._frame = Math.max(0, this._frameCount - 2);\n                    this._repeatedCount++;\n                    this._reversed = !this._reversed;\n                }\n            }\n        }\n        else {\n            this._frame++;\n            if (this._frame > this._frameCount - 1) {\n                this._frame = 0;\n                this._repeatedCount++;\n            }\n        }\n\n        if (this._status == 1) //new loop\n        {\n            this._frame = this._start;\n            this._frameElapsed = 0;\n            this._status = 0;\n        }\n        else if (this._status == 2) //ending\n        {\n            this._frame = this._endAt;\n            this._frameElapsed = 0;\n            this._status = 3; //ended\n\n            //play end\n            if (this._callback != null) {\n                let callback = this._callback;\n                this._callback = null;\n                callback();\n            }\n        }\n        else {\n            if (this._frame == this._end) {\n                if (this._times > 0) {\n                    this._times--;\n                    if (this._times == 0)\n                        this._status = 2;  //ending\n                    else\n                        this._status = 1; //new loop\n                }\n                else if (this._start != 0)\n                    this._status = 1; //new loop\n            }\n        }\n\n        this.drawFrame();\n    }\n\n    private drawFrame(): void {\n        if (this._frameCount > 0 && this._frame < this._frames.length) {\n            var frame: Frame = this._frames[this._frame];\n            this.spriteFrame = frame.texture;\n        }\n    }\n}","import { Sprite, Color } from \"cc\";\nimport { MovieClip } from \"./display/MovieClip\";\nimport { ObjectPropID } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { PackageItem } from \"./PackageItem\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\n\nexport class GMovieClip extends GObject {\n    public _content: MovieClip;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GMovieClip\";\n        this._touchDisabled = true;\n\n        this._content = this._node.addComponent(MovieClip);\n        this._content.sizeMode = Sprite.SizeMode.CUSTOM;\n        this._content.trim = false;\n        this._content.setPlaySettings();\n    }\n\n    public get color(): Color {\n        return this._content.color;\n    }\n\n    public set color(value: Color) {\n        this._content.color = value;\n        this.updateGear(4);\n    }\n\n    public get playing(): boolean {\n        return this._content.playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._content.playing != value) {\n            this._content.playing = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get frame(): number {\n        return this._content.frame;\n    }\n\n    public set frame(value: number) {\n        if (this._content.frame != value) {\n            this._content.frame = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get timeScale(): number {\n        return this._content.timeScale;\n    }\n\n    public set timeScale(value: number) {\n        this._content.timeScale = value;\n    }\n\n    public rewind(): void {\n        this._content.rewind();\n    }\n\n    public syncStatus(anotherMc: GMovieClip): void {\n        this._content.syncStatus(anotherMc._content);\n    }\n\n    public advance(timeInSeconds: number): void {\n        this._content.advance(timeInSeconds);\n    }\n\n    //从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\n    public setPlaySettings(start?: number, end?: number, times?: number, endAt?: number, endCallback?: (() => void) | null): void {\n        this._content.setPlaySettings(start, end, times, endAt, endCallback);\n    }\n\n    protected handleGrayedChanged(): void {\n        this._content.grayscale = this._grayed;\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        //不知道原因，尺寸改变必须调用一次这个，否则大小不对\n        this._content.sizeMode = Sprite.SizeMode.CUSTOM;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.Playing:\n                return this.playing;\n            case ObjectPropID.Frame:\n                return this.frame;\n            case ObjectPropID.TimeScale:\n                return this.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.Playing:\n                this.playing = value;\n                break;\n            case ObjectPropID.Frame:\n                this.frame = value;\n                break;\n            case ObjectPropID.TimeScale:\n                this.timeScale = value;\n                break;\n            case ObjectPropID.DeltaTime:\n                this.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public constructFromResource(): void {\n        var contentItem: PackageItem = this.packageItem.getBranch();\n        this.sourceWidth = contentItem.width;\n        this.sourceHeight = contentItem.height;\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n\n        this.setSize(this.sourceWidth, this.sourceHeight);\n\n        contentItem = contentItem.getHighResolution();\n        contentItem.load();\n\n        this._content.interval = contentItem.interval;\n        this._content.swing = contentItem.swing;\n        this._content.repeatDelay = contentItem.repeatDelay;\n        this._content.frames = contentItem.frames;\n        this._content.smoothing = contentItem.smoothing;\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        if (buffer.readBool())\n            this.color = buffer.readColor();\n        buffer.readByte(); //flip\n        this._content.frame = buffer.readInt();\n        this._content.playing = buffer.readBool();\n    }\n}","import { Size, view } from \"cc\";\n\nexport class UIContentScaler {\n    public static scaleFactor: number = 1;\n    public static scaleLevel: number = 0;\n    public static rootSize: Size = new Size();\n}\n\nexport function updateScaler(): void {\n    let size = view.getCanvasSize();\n    size.width /= view.getScaleX();\n    size.height /= view.getScaleY();\n    UIContentScaler.rootSize.set(size);\n\n    var ss: number = Math.max(view.getScaleX(), view.getScaleY());\n    UIContentScaler.scaleFactor = ss;\n    if (ss >= 3.5)\n        UIContentScaler.scaleLevel = 3; //x4\n    else if (ss >= 2.5)\n        UIContentScaler.scaleLevel = 2; //x3\n    else if (ss >= 1.5)\n        UIContentScaler.scaleLevel = 1; //x2\n    else\n        UIContentScaler.scaleLevel = 0;\n}","import { Asset, dragonBones, Rect, Vec2 } from \"cc\";\nimport { Frame } from \"./display/MovieClip\";\nimport { PixelHitTestData } from \"./event/HitTest\";\nimport { PackageItemType, ObjectType } from \"./FieldTypes\";\nimport { UIContentScaler } from \"./UIContentScaler\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class PackageItem {\n    public owner: UIPackage;\n\n    public type: PackageItemType;\n    public objectType?: ObjectType;\n    public id: string;\n    public name: string;\n    public width: number = 0;\n    public height: number = 0;\n    public file: string;\n    public decoded?: boolean;\n    public loading?: Array<Function>;\n    public rawData?: ByteBuffer;\n    public asset?: Asset;\n\n    public highResolution?: Array<string>;\n    public branches?: Array<string>;\n\n    //image\n    public scale9Grid?: Rect;\n    public scaleByTile?: boolean;\n    public tileGridIndice?: number;\n    public smoothing?: boolean;\n    public hitTestData?: PixelHitTestData;\n\n    //movieclip\n    public interval?: number;\n    public repeatDelay?: number;\n    public swing?: boolean;\n    public frames?: Array<Frame>;\n\n    //componenet\n    public extensionType?: any;\n\n    //skeleton\n    public skeletonAnchor?: Vec2;\n    public atlasAsset?: dragonBones.DragonBonesAtlasAsset;\n\n    public constructor() {\n    }\n\n    public load(): Asset {\n        return this.owner.getItemAsset(this);\n    }\n\n    public getBranch(): PackageItem {\n        if (this.branches && this.owner._branchIndex != -1) {\n            var itemId: string = this.branches[this.owner._branchIndex];\n            if (itemId)\n                return this.owner.getItemById(itemId);\n        }\n\n        return this;\n    }\n\n    public getHighResolution(): PackageItem {\n        if (this.highResolution && UIContentScaler.scaleLevel > 0) {\n            var itemId: string = this.highResolution[UIContentScaler.scaleLevel - 1];\n            if (itemId)\n                return this.owner.getItemById(itemId);\n        }\n\n        return this;\n    }\n\n    public toString(): string {\n        return this.name;\n    }\n}","import { ObjectType } from \"./FieldTypes\";\r\nimport { PackageItem } from \"./PackageItem\";\r\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\r\n\r\nexport class TranslationHelper {\r\n    public static strings: { [index: string]: { [index: string]: string } };\r\n\r\n    public static loadFromXML(source: string): void {\r\n        TranslationHelper.strings = {};\r\n        let strings = TranslationHelper.strings;\r\n\r\n        var xml: any = new DOMParser().parseFromString(source, \"text/xml\").documentElement;\r\n        var nodes: any = xml.childNodes;\r\n        var length1: number = nodes.length;\r\n        for (var i1: number = 0; i1 < length1; i1++) {\r\n            var cxml: any = nodes[i1];\r\n            if (cxml.tagName == \"string\") {\r\n                var key: string = cxml.getAttribute(\"name\");\r\n                var text: string = cxml.childNodes.length > 0 ? cxml.firstChild.nodeValue : \"\";\r\n                var i: number = key.indexOf(\"-\");\r\n                if (i == -1)\r\n                    continue;\r\n\r\n                var key2: string = key.substr(0, i);\r\n                var key3: string = key.substr(i + 1);\r\n                var col: { [index: string]: string } = strings[key2];\r\n                if (!col) {\r\n                    col = {};\r\n                    strings[key2] = col;\r\n                }\r\n                col[key3] = text;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static translateComponent(item: PackageItem): void {\r\n        if (TranslationHelper.strings == null)\r\n            return;\r\n\r\n        var compStrings: { [index: string]: string } = TranslationHelper.strings[item.owner.id + item.id];\r\n        if (compStrings == null)\r\n            return;\r\n\r\n        var elementId: string, value: string;\r\n        var buffer: ByteBuffer = item.rawData!;\r\n        var nextPos: number;\r\n        var itemCount: number;\r\n        var i: number, j: number, k: number;\r\n        var dataLen: number;\r\n        var curPos: number;\r\n        var valueCnt: number;\r\n        var page: string;\r\n\r\n        buffer.seek(0, 2);\r\n\r\n        var childCount: number = buffer.readShort();\r\n        for (i = 0; i < childCount; i++) {\r\n            dataLen = buffer.readShort();\r\n            curPos = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var baseType: number = buffer.readByte();\r\n            var type: number = baseType;\r\n            buffer.skip(4);\r\n            elementId = buffer.readS();\r\n\r\n            if (type == ObjectType.Component) {\r\n                if (buffer.seek(curPos, 6))\r\n                    type = buffer.readByte();\r\n            }\r\n\r\n            buffer.seek(curPos, 1);\r\n\r\n            if ((value = compStrings[elementId + \"-tips\"]) != null)\r\n                buffer.writeS(value);\r\n\r\n            buffer.seek(curPos, 2);\r\n\r\n            var gearCnt: number = buffer.readShort();\r\n            for (j = 0; j < gearCnt; j++) {\r\n                nextPos = buffer.readShort();\r\n                nextPos += buffer.position;\r\n\r\n                if (buffer.readByte() == 6) //gearText\r\n                {\r\n                    buffer.skip(2);//controller\r\n                    valueCnt = buffer.readShort();\r\n                    for (k = 0; k < valueCnt; k++) {\r\n                        page = buffer.readS();\r\n                        if (page != null) {\r\n                            if ((value = compStrings[elementId + \"-texts_\" + k]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n                        }\r\n                    }\r\n\r\n                    if (buffer.readBool() && (value = compStrings[elementId + \"-texts_def\"]) != null)\r\n                        buffer.writeS(value);\r\n                }\r\n\r\n                if (baseType == ObjectType.Component && buffer.version >= 2) {\r\n                    buffer.seek(curPos, 4);\r\n\r\n                    buffer.skip(2); //pageController\r\n\r\n                    buffer.skip(4 * buffer.readShort());\r\n\r\n                    var cpCount: number = buffer.readShort();\r\n                    for (var k: number = 0; k < cpCount; k++) {\r\n                        var target: string = buffer.readS();\r\n                        var propertyId: number = buffer.readShort();\r\n                        if (propertyId == 0 && (value = compStrings[elementId + \"-cp-\" + target]) != null)\r\n                            buffer.writeS(value);\r\n                        else\r\n                            buffer.skip(2);\r\n                    }\r\n                }\r\n\r\n                buffer.position = nextPos;\r\n            }\r\n\r\n            switch (type) {\r\n                case ObjectType.Text:\r\n                case ObjectType.RichText:\r\n                case ObjectType.InputText:\r\n                    {\r\n                        if ((value = compStrings[elementId]) != null) {\r\n                            buffer.seek(curPos, 6);\r\n                            buffer.writeS(value);\r\n                        }\r\n                        if ((value = compStrings[elementId + \"-prompt\"]) != null) {\r\n                            buffer.seek(curPos, 4);\r\n                            buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.List:\r\n                case ObjectType.Tree:\r\n                    {\r\n                        buffer.seek(curPos, 8);\r\n                        buffer.skip(2);\r\n                        itemCount = buffer.readShort();\r\n                        for (j = 0; j < itemCount; j++) {\r\n                            nextPos = buffer.readShort();\r\n                            nextPos += buffer.position;\r\n\r\n                            buffer.skip(2); //url\r\n                            if (type == ObjectType.Tree)\r\n                                buffer.skip(2);\r\n\r\n                            //title\r\n                            if ((value = compStrings[elementId + \"-\" + j]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            //selected title\r\n                            if ((value = compStrings[elementId + \"-\" + j + \"-0\"]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            if (buffer.version >= 2) {\r\n                                buffer.skip(6);\r\n                                buffer.skip(buffer.readUshort() * 4);//controllers\r\n\r\n                                var cpCount: number = buffer.readUshort();\r\n                                for (var k: number = 0; k < cpCount; k++) {\r\n                                    var target: string = buffer.readS();\r\n                                    var propertyId: number = buffer.readUshort();\r\n                                    if (propertyId == 0 && (value = compStrings[elementId + \"-\" + j + \"-\" + target]) != null)\r\n                                        buffer.writeS(value);\r\n                                    else\r\n                                        buffer.skip(2);\r\n                                }\r\n                            }\r\n\r\n                            buffer.position = nextPos;\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.Label:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n\r\n                            buffer.skip(2);\r\n                            if (buffer.readBool())\r\n                                buffer.skip(4);\r\n                            buffer.skip(4);\r\n                            if (buffer.readBool() && (value = compStrings[elementId + \"-prompt\"]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.Button:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                            else\r\n                                buffer.skip(2);\r\n                            if ((value = compStrings[elementId + \"-0\"]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                case ObjectType.ComboBox:\r\n                    {\r\n                        if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\r\n                            itemCount = buffer.readShort();\r\n                            for (j = 0; j < itemCount; j++) {\r\n                                nextPos = buffer.readShort();\r\n                                nextPos += buffer.position;\r\n\r\n                                if ((value = compStrings[elementId + \"-\" + j]) != null)\r\n                                    buffer.writeS(value);\r\n\r\n                                buffer.position = nextPos;\r\n                            }\r\n\r\n                            if ((value = compStrings[elementId]) != null)\r\n                                buffer.writeS(value);\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n            }\r\n\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n    }\r\n}","import { Color } from \"cc\";\r\n\r\nexport class ByteBuffer {\r\n    public stringTable: Array<string>;\r\n    public version: number = 0;\r\n    public littleEndian: boolean;\r\n\r\n    protected _view: DataView;\r\n    protected _bytes: Uint8Array;\r\n    protected _pos: number;\r\n    protected _length: number;\r\n\r\n    public constructor(buffer: ArrayBuffer, offset?: number, length?: number) {\r\n        offset = offset || 0;\r\n        if (length == null || length == -1)\r\n            length = buffer.byteLength - offset;\r\n\r\n        this._bytes = new Uint8Array(buffer, offset, length);\r\n        this._view = new DataView(this._bytes.buffer, offset, length);\r\n        this._pos = 0;\r\n        this._length = length;\r\n    }\r\n\r\n    public get data(): Uint8Array {\r\n        return this._bytes;\r\n    }\r\n\r\n    public get position(): number {\r\n        return this._pos;\r\n    }\r\n\r\n    public set position(value: number) {\r\n        if (value > this._length) throw \"Out of bounds\";\r\n        this._pos = value;\r\n    }\r\n\r\n    public skip(count: number): void {\r\n        this._pos += count;\r\n    }\r\n\r\n    private validate(forward: number): void {\r\n        if (this._pos + forward > this._length) throw \"Out of bounds\";\r\n    }\r\n\r\n    public readByte(): number {\r\n        this.validate(1);\r\n        return this._view.getInt8(this._pos++);\r\n    }\r\n\r\n    public readBool(): boolean {\r\n        return this.readByte() == 1;\r\n    }\r\n\r\n    public readShort(): number {\r\n        this.validate(2);\r\n        let ret: number = this._view.getInt16(this._pos, this.littleEndian);\r\n        this._pos += 2;\r\n        return ret;\r\n    }\r\n\r\n    public readUshort(): number {\r\n        this.validate(2);\r\n        let ret: number = this._view.getUint16(this._pos, this.littleEndian);\r\n        this._pos += 2;\r\n        return ret;\r\n    }\r\n\r\n    public readInt(): number {\r\n        this.validate(4);\r\n        let ret: number = this._view.getInt32(this._pos, this.littleEndian);\r\n        this._pos += 4;\r\n        return ret;\r\n    }\r\n\r\n    public readUint(): number {\r\n        this.validate(4);\r\n        let ret: number = this._view.getUint32(this._pos, this.littleEndian);\r\n        this._pos += 4;\r\n        return ret;\r\n    }\r\n\r\n    public readFloat(): number {\r\n        this.validate(4);\r\n        let ret: number = this._view.getFloat32(this._pos, this.littleEndian);\r\n        this._pos += 4;\r\n        return ret;\r\n    }\r\n\r\n    public readString(len?: number): string {\r\n        if (len == undefined) len = this.readUshort();\r\n        this.validate(len);\r\n\r\n        let v: string = \"\", max: number = this._pos + len, c: number = 0, c2: number = 0, c3: number = 0, f: Function = String.fromCharCode;\r\n        let u: Uint8Array = this._bytes, i: number = 0;\r\n        let pos = this._pos;\r\n        while (pos < max) {\r\n            c = u[pos++];\r\n            if (c < 0x80) {\r\n                if (c != 0) {\r\n                    v += f(c);\r\n                }\r\n            } else if (c < 0xE0) {\r\n                v += f(((c & 0x3F) << 6) | (u[pos++] & 0x7F));\r\n            } else if (c < 0xF0) {\r\n                c2 = u[pos++];\r\n                v += f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[pos++] & 0x7F));\r\n            } else {\r\n                c2 = u[pos++];\r\n                c3 = u[pos++];\r\n                v += f(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (u[pos++] & 0x7F));\r\n            }\r\n            i++;\r\n        }\r\n        this._pos += len;\r\n\r\n        return v;\r\n    }\r\n\r\n    public readS(): string {\r\n        var index: number = this.readUshort();\r\n        if (index == 65534) //null\r\n            return null;\r\n        else if (index == 65533)\r\n            return \"\"\r\n        else\r\n            return this.stringTable[index];\r\n    }\r\n\r\n    public readSArray(cnt: number): Array<string> {\r\n        var ret: Array<string> = new Array<string>(cnt);\r\n        for (var i: number = 0; i < cnt; i++)\r\n            ret[i] = this.readS();\r\n\r\n        return ret;\r\n    }\r\n\r\n    public writeS(value: string): void {\r\n        var index: number = this.readUshort();\r\n        if (index != 65534 && index != 65533)\r\n            this.stringTable[index] = value;\r\n    }\r\n\r\n    public readColor(hasAlpha?: boolean): Color {\r\n        var r: number = this.readByte();\r\n        var g: number = this.readByte();\r\n        var b: number = this.readByte();\r\n        var a: number = this.readByte();\r\n\r\n        return new Color(r, g, b, (hasAlpha ? a : 255));\r\n    }\r\n\r\n    public readChar(): string {\r\n        var i: number = this.readUshort();\r\n        return String.fromCharCode(i);\r\n    }\r\n\r\n    public readBuffer(): ByteBuffer {\r\n        var count: number = this.readUint();\r\n        this.validate(count);\r\n        var ba: ByteBuffer = new ByteBuffer(this._bytes.buffer, this._bytes.byteOffset + this._pos, count);\r\n        ba.stringTable = this.stringTable;\r\n        ba.version = this.version;\r\n        this._pos += count;\r\n        return ba;\r\n    }\r\n\r\n    public seek(indexTablePos: number, blockIndex: number): boolean {\r\n        var tmp: number = this._pos;\r\n        this._pos = indexTablePos;\r\n        var segCount: number = this.readByte();\r\n        if (blockIndex < segCount) {\r\n            var useShort: boolean = this.readByte() == 1;\r\n            var newPos: number;\r\n            if (useShort) {\r\n                this._pos += 2 * blockIndex;\r\n                newPos = this.readUshort();\r\n            }\r\n            else {\r\n                this._pos += 4 * blockIndex;\r\n                newPos = this.readUint();\r\n            }\r\n\r\n            if (newPos > 0) {\r\n                this._pos = indexTablePos + newPos;\r\n                return true;\r\n            }\r\n            else {\r\n                this._pos = tmp;\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            this._pos = tmp;\r\n            return false;\r\n        }\r\n    }\r\n}","import { Vec2 } from \"cc\";\r\nimport { GObject } from \"../GObject\";\r\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\r\n\r\nexport interface IHitTest {\r\n    hitTest(pt: Vec2, globalPt: Vec2): boolean;\r\n}\r\n\r\nexport class PixelHitTest implements IHitTest {\r\n    private _data: PixelHitTestData;\r\n\r\n    public offsetX: number;\r\n    public offsetY: number;\r\n    public scaleX: number;\r\n    public scaleY: number;\r\n\r\n    constructor(data: PixelHitTestData, offsetX?: number, offsetY?: number) {\r\n        this._data = data;\r\n        this.offsetX = offsetX == undefined ? 0 : offsetX;\r\n        this.offsetY = offsetY == undefined ? 0 : offsetY;\r\n\r\n        this.scaleX = 1;\r\n        this.scaleY = 1;\r\n    }\r\n\r\n    public hitTest(pt: Vec2): boolean {\r\n        let x: number = Math.floor((pt.x / this.scaleX - this.offsetX) * this._data.scale);\r\n        let y: number = Math.floor((pt.y / this.scaleY - this.offsetY) * this._data.scale);\r\n        if (x < 0 || y < 0 || x >= this._data.pixelWidth)\r\n            return false;\r\n\r\n        var pos: number = y * this._data.pixelWidth + x;\r\n        var pos2: number = Math.floor(pos / 8);\r\n        var pos3: number = pos % 8;\r\n\r\n        if (pos2 >= 0 && pos2 < this._data.pixels.length)\r\n            return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\r\n        else\r\n            return false;\r\n    }\r\n}\r\n\r\nexport class PixelHitTestData {\r\n    public pixelWidth: number;\r\n    public scale: number;\r\n    public pixels: Uint8Array;\r\n\r\n    constructor(ba: ByteBuffer) {\r\n        ba.readInt();\r\n        this.pixelWidth = ba.readInt();\r\n        this.scale = 1 / ba.readByte();\r\n        this.pixels = ba.readBuffer().data;\r\n    }\r\n}\r\n\r\nexport class ChildHitArea implements IHitTest {\r\n    private _child: GObject;\r\n\r\n    constructor(child: GObject) {\r\n        this._child = child;\r\n    }\r\n\r\n    public hitTest(pt: Vec2, globalPt: Vec2): boolean {\r\n        return this._child.hitTest(globalPt, false) != null;\r\n    }\r\n}","import { Asset, assetManager, AssetManager, AudioClip, BufferAsset, CCClass, ccenum, CCObject, dragonBones, LabelAtlas, path, Rect, resources, Size, sp, SpriteFrame, Texture2D, Vec2 } from \"cc\";\nimport PathUtils = path;\nimport { ObjectType, PackageItemType } from \"./FieldTypes\";\nimport { constructingDepth, GObject } from \"./GObject\";\nimport { PackageItem } from \"./PackageItem\";\nimport { TranslationHelper } from \"./TranslationHelper\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\nimport { PixelHitTestData } from \"./event/HitTest\";\nimport { Frame } from \"./display/MovieClip\";\n\ntype PackageDependency = { id: string, name: string };\n\nexport class UIPackage {\n    private _id: string;\n    private _name: string;\n    private _path: string;\n    private _items: Array<PackageItem>;\n    private _itemsById: { [index: string]: PackageItem };\n    private _itemsByName: { [index: string]: PackageItem };\n    private _sprites: { [index: string]: AtlasSprite };\n    private _dependencies: Array<PackageDependency>;\n    private _branches: Array<string>;\n    public _branchIndex: number;\n    private _bundle: AssetManager.Bundle;\n\n    public constructor() {\n        this._items = [];\n        this._itemsById = {};\n        this._itemsByName = {};\n        this._sprites = {};\n        this._dependencies = [];\n        this._branches = [];\n        this._branchIndex = -1;\n    }\n\n    public static get branch(): string | null {\n        return _branch;\n    }\n\n    public static set branch(value: string | null) {\n        _branch = value;\n        for (var pkgId in _instById) {\n            var pkg: UIPackage = _instById[pkgId];\n            if (pkg._branches) {\n                pkg._branchIndex = pkg._branches.indexOf(value);\n            }\n        }\n    }\n\n    public static getVar(key: string): string | null {\n        return _vars[key];\n    }\n\n    public static setVar(key: string, value: string | null) {\n        _vars[key] = value;\n    }\n\n    public static getById(id: string): UIPackage {\n        return _instById[id];\n    }\n\n    public static getByName(name: string): UIPackage {\n        return _instByName[name];\n    }\n\n    /**\n     * 注册一个包。包的所有资源必须放在resources下，且已经预加载。\n     * @param path 相对 resources 的路径。\n     */\n    public static addPackage(path: string): UIPackage {\n        let pkg: UIPackage = _instById[path];\n        if (pkg)\n            return pkg;\n\n        let asset: any = resources.get(path, BufferAsset);\n        if (!asset)\n            throw \"Resource '\" + path + \"' not ready\";\n\n        if (!asset._buffer)\n            throw \"Missing asset data.\";\n\n        pkg = new UIPackage();\n        pkg._bundle = resources;\n        pkg.loadPackage(new ByteBuffer(asset._buffer), path);\n        _instById[pkg.id] = pkg;\n        _instByName[pkg.name] = pkg;\n        _instById[pkg._path] = pkg;\n        return pkg;\n    }\n\n    /**\n     * 载入一个包。包的资源从Asset Bundle加载.\n     * @param bundle Asset Bundle 对象.\n     * @param path 资源相对 Asset Bundle 目录的路径.\n     * @param onComplete 载入成功后的回调.\n     */\n    public static loadPackage(bundle: AssetManager.Bundle, path: string, onComplete?: (error: any, pkg: UIPackage) => void): void;\n    /**\n     * 载入一个包。包的资源从Asset Bundle加载.\n     * @param bundle Asset Bundle 对象.\n     * @param path 资源相对 Asset Bundle 目录的路径.\n     * @param onProgress 加载进度回调.\n     * @param onComplete 载入成功后的回调.\n     */\n    public static loadPackage(bundle: AssetManager.Bundle, path: string, onProgress?: (finish: number, total: number, item: AssetManager.RequestItem) => void, onComplete?: (error: any, pkg: UIPackage) => void): void;\n    /**\n     * 载入一个包。包的资源从resources加载.\n     * @param path 资源相对 resources 的路径.\n     * @param onComplete 载入成功后的回调.\n     */\n    public static loadPackage(path: string, onComplete?: (error: any, pkg: UIPackage) => void): void;\n    /**\n     * 载入一个包。包的资源从resources加载.\n     * @param path 资源相对 resources 的路径.\n     * @param onProgress 加载进度回调.\n     * @param onComplete 载入成功后的回调.\n     */\n    public static loadPackage(path: string, onProgress?: (finish: number, total: number, item: AssetManager.RequestItem) => void, onComplete?: (error: Error, pkg: UIPackage) => void): void;\n    public static loadPackage(...args: any[]) {\n        let path: string;\n        let onProgress: (finish: number, total: number, item: AssetManager.RequestItem) => void;\n        let onComplete: (error: Error, pkg: UIPackage) => void;\n        let bundle: AssetManager.Bundle;\n        if (args[0] instanceof AssetManager.Bundle) {\n            bundle = args[0];\n            path = args[1];\n            if (args.length > 3) {\n                onProgress = args[2];\n                onComplete = args[3];\n            }\n            else\n                onComplete = args[2];\n        }\n        else {\n            path = args[0];\n            if (args.length > 2) {\n                onProgress = args[1];\n                onComplete = args[2];\n            }\n            else\n                onComplete = args[1];\n        }\n\n        bundle = bundle || resources;\n        bundle.load(path, BufferAsset, onProgress, (err: Error | null, asset: BufferAsset) => {\n            if (err) {\n                if (onComplete != null)\n                    onComplete(err, null);\n                return;\n            }\n\n            let pkg: UIPackage = new UIPackage();\n            pkg._bundle = bundle;\n            pkg.loadPackage(new ByteBuffer(asset.buffer()), path);\n            let cnt: number = pkg._items.length;\n            let urls: Array<string> = [];\n            let types: Array<typeof Asset> = [];\n            for (var i: number = 0; i < cnt; i++) {\n                var pi: PackageItem = pkg._items[i];\n                if (pi.type == PackageItemType.Atlas || pi.type == PackageItemType.Sound) {\n                    let assetType = ItemTypeToAssetType[pi.type];\n                    urls.push(pi.file);\n                    types.push(assetType);\n                }\n            }\n\n            let total = urls.length;\n            let lastErr: Error;\n            let taskComplete = (err: Error | null, asset: Asset) => {\n                total--;\n                if (err)\n                    lastErr = err;\n\n                if (total <= 0) {\n                    _instById[pkg.id] = pkg;\n                    _instByName[pkg.name] = pkg;\n                    if (pkg._path)\n                        _instByName[pkg._path] = pkg;\n\n                    if (onComplete != null)\n                        onComplete(lastErr, pkg);\n                }\n            }\n\n            if (total > 0) {\n                urls.forEach((url, index) => {\n                    bundle.load(url, types[index], onProgress, taskComplete);\n                });\n            }\n            else\n                taskComplete(null, null);\n        });\n    }\n\n    public static removePackage(packageIdOrName: string): void {\n        var pkg: UIPackage = _instById[packageIdOrName];\n        if (!pkg)\n            pkg = _instByName[packageIdOrName];\n        if (!pkg)\n            throw \"No package found: \" + packageIdOrName;\n        pkg.dispose();\n        delete _instById[pkg.id];\n        delete _instByName[pkg.name];\n        if (pkg._path)\n            delete _instById[pkg._path];\n    }\n\n    public static createObject(pkgName: string, resName: string, userClass?: new () => GObject): GObject {\n        var pkg: UIPackage = UIPackage.getByName(pkgName);\n        if (pkg)\n            return pkg.createObject(resName, userClass);\n        else\n            return null;\n    }\n\n    public static createObjectFromURL(url: string, userClass?: new () => GObject): GObject {\n        var pi: PackageItem = UIPackage.getItemByURL(url);\n        if (pi)\n            return pi.owner.internalCreateObject(pi, userClass);\n        else\n            return null;\n    }\n\n    public static getItemURL(pkgName: string, resName: string): string {\n        var pkg: UIPackage = UIPackage.getByName(pkgName);\n        if (!pkg)\n            return null;\n\n        var pi: PackageItem = pkg._itemsByName[resName];\n        if (!pi)\n            return null;\n\n        return \"ui://\" + pkg.id + pi.id;\n    }\n\n    public static getItemByURL(url: string): PackageItem {\n        var pos1: number = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n\n        var pos2: number = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1) {\n            if (url.length > 13) {\n                var pkgId: string = url.substr(5, 8);\n                var pkg: UIPackage = UIPackage.getById(pkgId);\n                if (pkg != null) {\n                    var srcId: string = url.substr(13);\n                    return pkg.getItemById(srcId);\n                }\n            }\n        }\n        else {\n            var pkgName: string = url.substr(pos1 + 2, pos2 - pos1 - 2);\n            pkg = UIPackage.getByName(pkgName);\n            if (pkg != null) {\n                var srcName: string = url.substr(pos2 + 1);\n                return pkg.getItemByName(srcName);\n            }\n        }\n\n        return null;\n    }\n\n    public static normalizeURL(url: string): string {\n        if (url == null)\n            return null;\n\n        var pos1: number = url.indexOf(\"//\");\n        if (pos1 == -1)\n            return null;\n\n        var pos2: number = url.indexOf(\"/\", pos1 + 2);\n        if (pos2 == -1)\n            return url;\n\n        var pkgName: string = url.substr(pos1 + 2, pos2 - pos1 - 2);\n        var srcName: string = url.substr(pos2 + 1);\n        return UIPackage.getItemURL(pkgName, srcName);\n    }\n\n    public static setStringsSource(source: string): void {\n        TranslationHelper.loadFromXML(source);\n    }\n\n    private loadPackage(buffer: ByteBuffer, path: string): void {\n        if (buffer.readUint() != 0x46475549)\n            throw \"FairyGUI: old package format found in '\" + path + \"'\";\n\n        this._path = path;\n        buffer.version = buffer.readInt();\n        var ver2: boolean = buffer.version >= 2;\n        var compressed: boolean = buffer.readBool();\n        this._id = buffer.readString();\n        this._name = buffer.readString();\n        buffer.skip(20);\n\n        var indexTablePos: number = buffer.position;\n        var cnt: number;\n        var i: number;\n        var nextPos: number;\n        var str: string;\n        var branchIncluded: boolean;\n\n        buffer.seek(indexTablePos, 4);\n\n        cnt = buffer.readInt();\n        var stringTable: Array<string> = new Array<string>(cnt);\n        buffer.stringTable = stringTable;\n\n        for (i = 0; i < cnt; i++)\n            stringTable[i] = buffer.readString();\n\n        if (buffer.seek(indexTablePos, 5)) {\n            cnt = buffer.readInt();\n            for (i = 0; i < cnt; i++) {\n                let index = buffer.readUshort();\n                let len = buffer.readInt();\n                stringTable[index] = buffer.readString(len);\n            }\n        }\n\n        buffer.seek(indexTablePos, 0);\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++)\n            this._dependencies.push({ id: buffer.readS(), name: buffer.readS() });\n\n        if (ver2) {\n            cnt = buffer.readShort();\n            if (cnt > 0) {\n                this._branches = buffer.readSArray(cnt);\n                if (_branch)\n                    this._branchIndex = this._branches.indexOf(_branch);\n            }\n\n            branchIncluded = cnt > 0;\n        }\n\n        buffer.seek(indexTablePos, 1);\n\n        var pi: PackageItem;\n        let pos = path.lastIndexOf('/');\n        let shortPath = pos == -1 ? \"\" : path.substr(0, pos + 1);\n        path = path + \"_\";\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readInt();\n            nextPos += buffer.position;\n\n            pi = new PackageItem();\n            pi.owner = this;\n            pi.type = buffer.readByte();\n            pi.id = buffer.readS();\n            pi.name = buffer.readS();\n            buffer.readS(); //path\n            pi.file = buffer.readS();\n            buffer.readBool();//exported\n            pi.width = buffer.readInt();\n            pi.height = buffer.readInt();\n\n            switch (pi.type) {\n                case PackageItemType.Image:\n                    {\n                        pi.objectType = ObjectType.Image;\n                        var scaleOption: number = buffer.readByte();\n                        if (scaleOption == 1) {\n                            pi.scale9Grid = new Rect();\n                            pi.scale9Grid.x = buffer.readInt();\n                            pi.scale9Grid.y = buffer.readInt();\n                            pi.scale9Grid.width = buffer.readInt();\n                            pi.scale9Grid.height = buffer.readInt();\n\n                            pi.tileGridIndice = buffer.readInt();\n                        }\n                        else if (scaleOption == 2)\n                            pi.scaleByTile = true;\n\n                        pi.smoothing = buffer.readBool();\n                        break;\n                    }\n\n                case PackageItemType.MovieClip:\n                    {\n                        pi.smoothing = buffer.readBool();\n                        pi.objectType = ObjectType.MovieClip;\n                        pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n\n                case PackageItemType.Font:\n                    {\n                        pi.rawData = buffer.readBuffer();\n                        break;\n                    }\n\n                case PackageItemType.Component:\n                    {\n                        var extension: number = buffer.readByte();\n                        if (extension > 0)\n                            pi.objectType = extension;\n                        else\n                            pi.objectType = ObjectType.Component;\n                        pi.rawData = buffer.readBuffer();\n\n                        Decls.UIObjectFactory.resolveExtension(pi);\n                        break;\n                    }\n\n                case PackageItemType.Atlas:\n                case PackageItemType.Sound:\n                case PackageItemType.Misc:\n                    {\n                        pi.file = path + PathUtils.mainFileName(pi.file);\n                        break;\n                    }\n\n                case PackageItemType.Spine:\n                case PackageItemType.DragonBones:\n                    {\n                        pi.file = shortPath + PathUtils.mainFileName(pi.file);\n                        pi.skeletonAnchor = new Vec2();\n                        pi.skeletonAnchor.x = buffer.readFloat();\n                        pi.skeletonAnchor.y = buffer.readFloat();\n                        break;\n                    }\n            }\n\n            if (ver2) {\n                str = buffer.readS();//branch\n                if (str)\n                    pi.name = str + \"/\" + pi.name;\n\n                var branchCnt: number = buffer.readByte();\n                if (branchCnt > 0) {\n                    if (branchIncluded)\n                        pi.branches = buffer.readSArray(branchCnt);\n                    else\n                        this._itemsById[buffer.readS()] = pi;\n                }\n\n                var highResCnt: number = buffer.readByte();\n                if (highResCnt > 0)\n                    pi.highResolution = buffer.readSArray(highResCnt);\n            }\n\n            this._items.push(pi);\n            this._itemsById[pi.id] = pi;\n            if (pi.name != null)\n                this._itemsByName[pi.name] = pi;\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(indexTablePos, 2);\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var itemId: string = buffer.readS();\n            pi = this._itemsById[buffer.readS()];\n\n            let rect: Rect = new Rect();\n            rect.x = buffer.readInt();\n            rect.y = buffer.readInt();\n            rect.width = buffer.readInt();\n            rect.height = buffer.readInt();\n            var sprite: AtlasSprite = { atlas: pi, rect: rect, offset: new Vec2(), originalSize: new Size(0, 0) };\n            sprite.rotated = buffer.readBool();\n            if (ver2 && buffer.readBool()) {\n                sprite.offset.x = buffer.readInt();\n                sprite.offset.y = buffer.readInt();\n                sprite.originalSize.width = buffer.readInt();\n                sprite.originalSize.height = buffer.readInt();\n            }\n            else {\n                sprite.originalSize.width = sprite.rect.width;\n                sprite.originalSize.height = sprite.rect.height;\n            }\n            this._sprites[itemId] = sprite;\n\n            buffer.position = nextPos;\n        }\n\n        if (buffer.seek(indexTablePos, 3)) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readInt();\n                nextPos += buffer.position;\n\n                pi = this._itemsById[buffer.readS()];\n                if (pi && pi.type == PackageItemType.Image)\n                    pi.hitTestData = new PixelHitTestData(buffer);\n\n                buffer.position = nextPos;\n            }\n        }\n    }\n\n    public dispose(): void {\n        var cnt: number = this._items.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var pi: PackageItem = this._items[i];\n            if (pi.asset)\n                assetManager.releaseAsset(pi.asset);\n        }\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get path(): string {\n        return this._path;\n    }\n\n    public get dependencies(): Array<PackageDependency> {\n        return this._dependencies;\n    }\n\n    public createObject(resName: string, userClass?: new () => GObject): GObject {\n        var pi: PackageItem = this._itemsByName[resName];\n        if (pi)\n            return this.internalCreateObject(pi, userClass);\n        else\n            return null;\n    }\n\n    public internalCreateObject(item: PackageItem, userClass?: new () => GObject): GObject {\n        var g: GObject = Decls.UIObjectFactory.newObject(item, userClass);\n\n        if (g == null)\n            return null;\n\n        constructingDepth.n++;\n        g.constructFromResource();\n        constructingDepth.n--;\n        return g;\n    }\n\n    public getItemById(itemId: string): PackageItem {\n        return this._itemsById[itemId];\n    }\n\n    public getItemByName(resName: string): PackageItem {\n        return this._itemsByName[resName];\n    }\n\n    public getItemAssetByName(resName: string): Asset {\n        var pi: PackageItem = this._itemsByName[resName];\n        if (pi == null) {\n            throw \"Resource not found -\" + resName;\n        }\n\n        return this.getItemAsset(pi);\n    }\n\n    public getItemAsset(item: PackageItem): Asset {\n        switch (item.type) {\n            case PackageItemType.Image:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    var sprite: AtlasSprite = this._sprites[item.id];\n                    if (sprite) {\n                        let atlasTexture: Texture2D = <Texture2D>this.getItemAsset(sprite.atlas);\n                        if (atlasTexture) {\n                            let sf = new SpriteFrame();\n                            sf.texture = atlasTexture;\n                            sf.rect = sprite.rect;\n                            sf.rotated = sprite.rotated;\n                            sf.offset = new Vec2(sprite.offset.x - (sprite.originalSize.width - sprite.rect.width) / 2, -(sprite.offset.y - (sprite.originalSize.height - sprite.rect.height) / 2));\n                            sf.originalSize = sprite.originalSize;\n\n                            if (item.scale9Grid) {\n                                sf.insetLeft = item.scale9Grid.x;\n                                sf.insetTop = item.scale9Grid.y;\n                                sf.insetRight = item.width - item.scale9Grid.xMax;\n                                sf.insetBottom = item.height - item.scale9Grid.yMax;\n                            }\n                            item.asset = sf;\n                        }\n                    }\n                }\n                break;\n\n            case PackageItemType.Atlas:\n            case PackageItemType.Sound:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    item.asset = this._bundle.get<Asset>(item.file, ItemTypeToAssetType[item.type]);\n                    if (!item.asset)\n                        console.log(\"Resource '\" + item.file + \"' not found\");\n                }\n                break;\n\n            case PackageItemType.Font:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    this.loadFont(item);\n                }\n                break;\n\n            case PackageItemType.MovieClip:\n                if (!item.decoded) {\n                    item.decoded = true;\n                    this.loadMovieClip(item);\n                }\n                break;\n\n            default:\n                break;\n        }\n\n        return item.asset;\n    }\n\n    public getItemAssetAsync(item: PackageItem, onComplete?: (err: Error, item: PackageItem) => void): void {\n        if (item.decoded) {\n            onComplete(null, item);\n            return;\n        }\n\n        if (item.loading) {\n            item.loading.push(onComplete);\n            return;\n        }\n\n        switch (item.type) {\n            case PackageItemType.Spine:\n                item.loading = [onComplete];\n                this.loadSpine(item);\n                break;\n\n            case PackageItemType.DragonBones:\n                item.loading = [onComplete];\n                this.loadDragonBones(item);\n                break;\n\n            default:\n                this.getItemAsset(item);\n                onComplete(null, item);\n                break;\n        }\n    }\n\n    public loadAllAssets(): void {\n        var cnt: number = this._items.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var pi: PackageItem = this._items[i];\n            this.getItemAsset(pi);\n        }\n    }\n\n    private loadMovieClip(item: PackageItem): void {\n        var buffer: ByteBuffer = item.rawData;\n\n        buffer.seek(0, 0);\n\n        item.interval = buffer.readInt() / 1000;\n        item.swing = buffer.readBool();\n        item.repeatDelay = buffer.readInt() / 1000;\n\n        buffer.seek(0, 1);\n\n        var frameCount: number = buffer.readShort();\n        item.frames = Array<Frame>(frameCount);\n\n        var spriteId: string;\n        var sprite: AtlasSprite;\n\n        for (var i: number = 0; i < frameCount; i++) {\n            var nextPos: number = buffer.readShort();\n            nextPos += buffer.position;\n\n            let rect: Rect = new Rect();\n            rect.x = buffer.readInt();\n            rect.y = buffer.readInt();\n            rect.width = buffer.readInt();\n            rect.height = buffer.readInt();\n            let addDelay = buffer.readInt() / 1000;\n            let frame: Frame = { rect: rect, addDelay: addDelay, texture: null };\n            spriteId = buffer.readS();\n\n            if (spriteId != null && (sprite = this._sprites[spriteId]) != null) {\n                let atlasTexture: Texture2D = <Texture2D>this.getItemAsset(sprite.atlas);\n                if (atlasTexture) {\n                    let sx: number = item.width / frame.rect.width;\n                    let sf = new SpriteFrame();\n\n                    sf.texture = atlasTexture;\n                    sf.rect = sprite.rect;\n                    sf.rotated = sprite.rotated;\n                    sf.offset = new Vec2(frame.rect.x - (item.width - frame.rect.width) / 2, -(frame.rect.y - (item.height - frame.rect.height) / 2))\n                    sf.originalSize = new Size(item.width, item.height);\n                    frame.texture = sf;\n                }\n            }\n            item.frames[i] = frame;\n\n            buffer.position = nextPos;\n        }\n    }\n\n    private loadFont(item: PackageItem): void {\n        var font: any = new LabelAtlas();\n        item.asset = font;\n\n        font._fntConfig = {\n            commonHeight: 0,\n            fontSize: 0,\n            kerningDict: {},\n            fontDefDictionary: {}\n        };\n        let dict = font._fntConfig.fontDefDictionary;\n\n        var buffer: ByteBuffer = item.rawData;\n\n        buffer.seek(0, 0);\n\n        let ttf = buffer.readBool();\n        let canTint = buffer.readBool();\n        let resizable = buffer.readBool();\n        buffer.readBool(); //has channel\n        let fontSize = buffer.readInt();\n        var xadvance: number = buffer.readInt();\n        var lineHeight: number = buffer.readInt();\n\n        let mainTexture: Texture2D;\n        var mainSprite: AtlasSprite = this._sprites[item.id];\n        if (mainSprite)\n            mainTexture = <Texture2D>(this.getItemAsset(mainSprite.atlas));\n\n        buffer.seek(0, 1);\n\n        var bg: any;\n        var cnt: number = buffer.readInt();\n        for (var i: number = 0; i < cnt; i++) {\n            var nextPos: number = buffer.readShort();\n            nextPos += buffer.position;\n\n            bg = {};\n            var ch: number = buffer.readUshort();\n            dict[ch] = bg;\n\n            let rect: Rect = new Rect();\n            bg.rect = rect;\n\n            var img: string = buffer.readS();\n            rect.x = buffer.readInt();\n            rect.y = buffer.readInt();\n            bg.xOffset = buffer.readInt();\n            bg.yOffset = buffer.readInt();\n            rect.width = buffer.readInt();\n            rect.height = buffer.readInt();\n            bg.xAdvance = buffer.readInt();\n            bg.channel = buffer.readByte();\n            if (bg.channel == 1)\n                bg.channel = 3;\n            else if (bg.channel == 2)\n                bg.channel = 2;\n            else if (bg.channel == 3)\n                bg.channel = 1;\n\n            if (ttf) {\n                rect.x += mainSprite.rect.x;\n                rect.y += mainSprite.rect.y;\n            }\n            else {\n                let sprite: AtlasSprite = this._sprites[img];\n                if (sprite) {\n                    rect.set(sprite.rect);\n                    bg.xOffset += sprite.offset.x;\n                    bg.yOffset += sprite.offset.y;\n                    if (fontSize == 0)\n                        fontSize = sprite.originalSize.height;\n                    if (!mainTexture) {\n                        sprite.atlas.load();\n                        mainTexture = <Texture2D>sprite.atlas.asset;\n                    }\n                }\n\n                if (bg.xAdvance == 0) {\n                    if (xadvance == 0)\n                        bg.xAdvance = bg.xOffset + bg.rect.width;\n                    else\n                        bg.xAdvance = xadvance;\n                }\n            }\n\n            buffer.position = nextPos;\n        }\n\n\n        font.fontSize = fontSize;\n        font._fntConfig.fontSize = fontSize;\n        font._fntConfig.commonHeight = lineHeight == 0 ? fontSize : lineHeight;\n        font._fntConfig.resizable = resizable;\n        font._fntConfig.canTint = canTint;\n\n        let spriteFrame = new SpriteFrame();\n        spriteFrame.texture = mainTexture;\n        font.spriteFrame = spriteFrame;\n        font.onLoad();\n    }\n\n    private loadSpine(item: PackageItem): void {\n        this._bundle.load(item.file, sp.SkeletonData, (err: Error | null, asset: sp.SkeletonData) => {\n            item.decoded = true;\n            item.asset = asset;\n            let arr = item.loading;\n            delete item.loading;\n            arr.forEach(e => e(err, item));\n        });\n    }\n\n    private loadDragonBones(item: PackageItem): void {\n        this._bundle.load(item.file, dragonBones.DragonBonesAsset, (err: Error | null, asset: dragonBones.DragonBonesAsset) => {\n            if (err) {\n                item.decoded = true;\n                let arr = item.loading;\n                delete item.loading;\n                arr.forEach(e => e(err, item));\n                return;\n            }\n\n            item.asset = asset;\n            let atlasFile = item.file.replace(\"_ske\", \"_tex\");\n            let pos = atlasFile.lastIndexOf('.');\n            if (pos != -1)\n                atlasFile = atlasFile.substr(0, pos + 1) + \"json\";\n            this._bundle.load(atlasFile, dragonBones.DragonBonesAtlasAsset, (err: Error | null, asset: dragonBones.DragonBonesAtlasAsset) => {\n                item.decoded = true;\n                item.atlasAsset = asset;\n\n                let arr = item.loading;\n                delete item.loading;\n                arr.forEach(e => e(err, item));\n            });\n        });\n    }\n}\n\ninterface AtlasSprite {\n    atlas: PackageItem;\n    rect: Rect;\n    offset: Vec2;\n    originalSize: Size;\n    rotated?: boolean;\n}\n\nconst ItemTypeToAssetType = {\n    [PackageItemType.Atlas]: Texture2D,\n    [PackageItemType.Sound]: AudioClip\n};\n\nvar _instById: { [index: string]: UIPackage } = {};\nvar _instByName: { [index: string]: UIPackage } = {};\nvar _branch: string = \"\";\nvar _vars: { [index: string]: string } = {};\n\nexport interface IObjectFactoryType {\n    resolveExtension(pi: PackageItem): void;\n    newObject(type: number | PackageItem, userClass?: new () => GObject): GObject;\n}\n\nexport var Decls: { UIObjectFactory?: IObjectFactoryType } = {};","import { Color } from \"cc\";\n\nexport function toGrayedColor(c: Color): Color {\n    let v = c.r * 0.299 + c.g * 0.587 + c.b * 0.114;\n    return new Color(v, v, v, c.a);\n}","\n\nexport class UBBParser {\n    private _text: string;\n    private _readPos: number = 0;\n\n    protected _handlers: { [index: string]: (tagName: string, end: boolean, attr: string) => string };\n\n    public lastColor: string;\n    public lastSize: string;\n    public linkUnderline: boolean;\n    public linkColor: string;\n\n    public constructor() {\n        this._handlers = {};\n        this._handlers[\"url\"] = this.onTag_URL;\n        this._handlers[\"img\"] = this.onTag_IMG;\n        this._handlers[\"b\"] = this.onTag_Simple;\n        this._handlers[\"i\"] = this.onTag_Simple;\n        this._handlers[\"u\"] = this.onTag_Simple;\n        //this._handlers[\"sup\"] = this.onTag_Simple;\n        //this._handlers[\"sub\"] = this.onTag_Simple;\n        this._handlers[\"color\"] = this.onTag_COLOR;\n        //this._handlers[\"font\"] = this.onTag_FONT;\n        this._handlers[\"size\"] = this.onTag_SIZE;\n    }\n\n    protected onTag_URL(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            let ret: string;\n            if (attr != null)\n                ret = \"<on click=\\\"onClickLink\\\" param=\\\"\" + attr + \"\\\">\";\n            else {\n                var href: string = this.getTagText();\n                ret = \"<on click=\\\"onClickLink\\\" param=\\\"\" + href + \"\\\">\";\n            }\n            if (this.linkUnderline)\n                ret += \"<u>\";\n            if (this.linkColor)\n                ret += \"<color=\" + this.linkColor + \">\";\n            return ret;\n        }\n        else {\n            let ret: string = \"\";\n            if (this.linkColor)\n                ret += \"</color>\";\n            if (this.linkUnderline)\n                ret += \"</u>\";\n            ret += \"</on>\";\n            return ret;\n        }\n    }\n\n    protected onTag_IMG(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            var src: string = this.getTagText(true);\n            if (!src)\n                return null;\n\n            return \"<img src=\\\"\" + src + \"\\\"/>\";\n        }\n        else\n            return null;\n    }\n\n    protected onTag_Simple(tagName: string, end: boolean, attr: string): string {\n        return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\n    }\n\n    protected onTag_COLOR(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            this.lastColor = attr;\n            return \"<color=\" + attr + \">\";\n        }\n        else\n            return \"</color>\";\n    }\n\n    protected onTag_FONT(tagName: string, end: boolean, attr: string): string {\n        if (!end)\n            return \"<font face=\\\"\" + attr + \"\\\">\";\n        else\n            return \"</font>\";\n    }\n\n    protected onTag_SIZE(tagName: string, end: boolean, attr: string): string {\n        if (!end) {\n            this.lastSize = attr;\n            return \"<size=\" + attr + \">\";\n        }\n        else\n            return \"</size>\";\n    }\n\n    protected getTagText(remove?: boolean): string {\n        var pos1: number = this._readPos;\n        var pos2: number;\n        var result: string = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (this._text.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n            }\n            else {\n                result += this._text.substring(pos1, pos2);\n                break;\n            }\n        }\n        if (pos2 == -1)\n            return null;\n\n        if (remove)\n            this._readPos = pos2;\n\n        return result;\n    }\n\n    public parse(text: string, remove?: boolean): string {\n        this._text = text;\n        this.lastColor = null;\n        this.lastSize = null;\n\n        var pos1: number = 0, pos2: number, pos3: number;\n        var end: boolean;\n        var tag: string, attr: string;\n        var repl: string;\n        var func: Function;\n        var result: string = \"\";\n        while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n            if (pos2 > 0 && this._text.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += this._text.substring(pos1, pos2 - 1);\n                result += \"[\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            result += this._text.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = this._text.indexOf(\"]\", pos1);\n            if (pos2 == -1)\n                break;\n\n            end = this._text.charAt(pos1 + 1) == '/';\n            tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\n            this._readPos = pos2 + 1;\n            attr = null;\n            repl = null;\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                attr = tag.substring(pos3 + 1);\n                tag = tag.substring(0, pos3);\n            }\n            tag = tag.toLowerCase();\n            func = this._handlers[tag];\n            if (func != null) {\n                repl = func.call(this, tag, end, attr);\n                if (repl != null && !remove)\n                    result += repl;\n            }\n            else\n                result += this._text.substring(pos1, this._readPos);\n            pos1 = this._readPos;\n        }\n\n        if (pos1 < this._text.length)\n            result += this._text.substr(pos1);\n\n        this._text = null;\n\n        return result;\n    }\n}\n\nexport var defaultParser: UBBParser = new UBBParser();","import { BitmapFont, Color, Font, HorizontalTextAlignment, Label, LabelOutline, LabelShadow, Node, Vec2, VerticalTextAlignment } from \"cc\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { AutoSizeType, ObjectPropID } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { PackageItem } from \"./PackageItem\";\nimport { UIConfig, getFontByName } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\nimport { toGrayedColor } from \"./utils/ToolSet\";\nimport { defaultParser } from \"./utils/UBBParser\";\n\nexport class GTextField extends GObject {\n    public _label: Label;\n\n    protected _font: string;\n    protected _realFont: string | Font;\n    protected _fontSize: number = 0;\n    protected _color: Color;\n    protected _strokeColor?: Color;\n    protected _shadowOffset?: Vec2;\n    protected _shadowColor?: Color;\n    protected _leading: number = 0;\n    protected _text: string;\n    protected _ubbEnabled: boolean;\n    protected _templateVars?: { [index: string]: string };\n    protected _autoSize: AutoSizeType;\n    protected _updatingSize: boolean;\n    protected _sizeDirty: boolean;\n    protected _outline?: LabelOutline;\n    protected _shadow?: LabelShadow;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GTextField\";\n        this._touchDisabled = true;\n\n        this._text = \"\";\n        this._color = new Color(255, 255, 255, 255);\n\n        this.createRenderer();\n\n        this.fontSize = 12;\n        this.leading = 3;\n        this.singleLine = false;\n\n        this._sizeDirty = false;\n\n        this._node.on(FUIEvent.SIZE_CHANGED, this.onLabelSizeChanged, this);\n    }\n\n    protected createRenderer() {\n        this._label = this._node.addComponent(Label);\n        this.autoSize = AutoSizeType.Both;\n    }\n\n    public set text(value: string | null) {\n        this._text = value;\n        if (this._text == null)\n            this._text = \"\";\n        this.updateGear(6);\n\n        this.markSizeChanged();\n        this.updateText();\n    }\n\n    public get text(): string | null {\n        return this._text;\n    }\n\n    public get font(): string | null {\n        return this._font;\n    }\n\n    public set font(value: string | null) {\n        if (this._font != value || !value) {\n            this._font = value;\n\n            this.markSizeChanged();\n\n            let newFont: any = value ? value : UIConfig.defaultFont;\n\n            if (newFont.startsWith(\"ui://\")) {\n                var pi: PackageItem = UIPackage.getItemByURL(newFont);\n                if (pi)\n                    newFont = <Font>pi.owner.getItemAsset(pi);\n                else\n                    newFont = UIConfig.defaultFont;\n            }\n            this._realFont = newFont;\n            this.updateFont();\n        }\n    }\n\n    public get fontSize(): number {\n        return this._fontSize;\n    }\n\n    public set fontSize(value: number) {\n        if (value < 0)\n            return;\n\n        if (this._fontSize != value) {\n            this._fontSize = value;\n\n            this.markSizeChanged();\n            this.updateFontSize();\n        }\n    }\n\n    public get color(): Color {\n        return this._color;\n    }\n\n    public set color(value: Color) {\n        this._color.set(value);\n        this.updateGear(4);\n\n        this.updateFontColor();\n    }\n\n    public get align(): HorizontalTextAlignment {\n        return this._label ? this._label.horizontalAlign : 0;\n    }\n\n    public set align(value: HorizontalTextAlignment) {\n        if (this._label) this._label.horizontalAlign = value;\n    }\n\n    public get verticalAlign(): VerticalTextAlignment {\n        return this._label ? this._label.verticalAlign : 0;\n    }\n\n    public set verticalAlign(value: VerticalTextAlignment) {\n        if (this._label) this._label.verticalAlign = value;\n    }\n\n    public get leading(): number {\n        return this._leading;\n    }\n\n    public set leading(value: number) {\n        if (this._leading != value) {\n            this._leading = value;\n\n            this.markSizeChanged();\n            this.updateFontSize();\n        }\n    }\n\n    public get letterSpacing(): number {\n        return this._label ? this._label.spacingX : 0;\n    }\n\n    public set letterSpacing(value: number) {\n        if (this._label && this._label.spacingX != value) {\n            this.markSizeChanged();\n            this._label.spacingX = value;\n        }\n    }\n\n    public get underline(): boolean {\n        return this._label ? this._label.isUnderline : false;\n    }\n\n    public set underline(value: boolean) {\n        if (this._label) this._label.isUnderline = value;\n    }\n\n    public get bold(): boolean {\n        return this._label ? this._label.isBold : false;\n    }\n\n    public set bold(value: boolean) {\n        if (this._label) this._label.isBold = value;\n    }\n\n    public get italic(): boolean {\n        return this._label ? this._label.isItalic : false;\n    }\n\n    public set italic(value: boolean) {\n        if (this._label) this._label.isItalic = value;\n    }\n\n    public get singleLine(): boolean {\n        return this._label ? !this._label.enableWrapText : false;\n    }\n\n    public set singleLine(value: boolean) {\n        if (this._label) this._label.enableWrapText = !value;\n    }\n\n    public get stroke(): number {\n        return (this._outline && this._outline.enabled) ? this._outline.width : 0;\n    }\n\n    public set stroke(value: number) {\n        if (value == 0) {\n            if (this._outline)\n                this._outline.enabled = false;\n        }\n        else {\n            if (!this._outline) {\n                this._outline = this._node.addComponent(LabelOutline);\n                this.updateStrokeColor();\n            }\n            else\n                this._outline.enabled = true;\n            this._outline.width = value;\n        }\n    }\n\n    public get strokeColor(): Color {\n        return this._strokeColor;\n    }\n\n    public set strokeColor(value: Color) {\n        if (!this._strokeColor)\n            this._strokeColor = new Color();\n        this._strokeColor.set(value);\n        this.updateGear(4);\n        this.updateStrokeColor();\n    }\n\n    public get shadowOffset(): Vec2 {\n        return this._shadowOffset;\n    }\n\n    public set shadowOffset(value: Vec2) {\n        if (!this._shadowOffset)\n            this._shadowOffset = new Vec2();\n        this._shadowOffset.set(value);\n        if (this._shadowOffset.x != 0 || this._shadowOffset.y != 0) {\n            if (!this._shadow) {\n                this._shadow = this._node.addComponent(LabelShadow);\n                this.updateShadowColor();\n            }\n            else\n                this._shadow.enabled = true;\n            this._shadow.offset.x = value.x;\n            this._shadow.offset.y = -value.y;\n        }\n        else if (this._shadow)\n            this._shadow.enabled = false;\n    }\n\n    public get shadowColor(): Color {\n        return this._shadowColor;\n    }\n\n    public set shadowColor(value: Color) {\n        if (!this._shadowColor)\n            this._shadowColor = new Color();\n        this._shadowColor.set(value);\n        this.updateShadowColor();\n    }\n\n    public set ubbEnabled(value: boolean) {\n        if (this._ubbEnabled != value) {\n            this._ubbEnabled = value;\n\n            this.markSizeChanged();\n            this.updateText();\n        }\n    }\n\n    public get ubbEnabled(): boolean {\n        return this._ubbEnabled;\n    }\n\n    public set autoSize(value: AutoSizeType) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n\n            this.markSizeChanged();\n            this.updateOverflow();\n        }\n    }\n\n    public get autoSize(): AutoSizeType {\n        return this._autoSize;\n    }\n\n    protected parseTemplate(template: string): string {\n        var pos1: number = 0, pos2: number, pos3: number;\n        var tag: string;\n        var value: string;\n        var result: string = \"\";\n        while ((pos2 = template.indexOf(\"{\", pos1)) != -1) {\n            if (pos2 > 0 && template.charCodeAt(pos2 - 1) == 92)//\\\n            {\n                result += template.substring(pos1, pos2 - 1);\n                result += \"{\";\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            result += template.substring(pos1, pos2);\n            pos1 = pos2;\n            pos2 = template.indexOf(\"}\", pos1);\n            if (pos2 == -1)\n                break;\n\n            if (pos2 == pos1 + 1) {\n                result += template.substr(pos1, 2);\n                pos1 = pos2 + 1;\n                continue;\n            }\n\n            tag = template.substring(pos1 + 1, pos2);\n            pos3 = tag.indexOf(\"=\");\n            if (pos3 != -1) {\n                value = this._templateVars[tag.substring(0, pos3)];\n                if (value == null)\n                    result += tag.substring(pos3 + 1);\n                else\n                    result += value;\n            }\n            else {\n                value = this._templateVars[tag];\n                if (value != null)\n                    result += value;\n            }\n            pos1 = pos2 + 1;\n        }\n\n        if (pos1 < template.length)\n            result += template.substr(pos1);\n\n        return result;\n    }\n\n    public get templateVars(): { [index: string]: string } {\n        return this._templateVars;\n    }\n\n    public set templateVars(value: { [index: string]: string }) {\n        if (this._templateVars == null && value == null)\n            return;\n\n        this._templateVars = value;\n        this.flushVars();\n    }\n\n    public setVar(name: string, value: string): GTextField {\n        if (!this._templateVars)\n            this._templateVars = {};\n        this._templateVars[name] = value;\n\n        return this;\n    }\n\n    public flushVars(): void {\n        this.markSizeChanged();\n        this.updateText();\n    }\n\n    public get textWidth(): number {\n        this.ensureSizeCorrect();\n\n        return this._node._uiProps.uiTransformComp.width;\n    }\n\n    public ensureSizeCorrect(): void {\n        if (this._sizeDirty) {\n            this._label.updateRenderData(true);\n            this._sizeDirty = false;\n        }\n    }\n\n    protected updateText(): void {\n        var text2: string = this._text;\n        if (this._templateVars)\n            text2 = this.parseTemplate(text2);\n\n        if (this._ubbEnabled) //不支持同一个文本不同样式\n            text2 = defaultParser.parse(text2, true);\n\n        this._label.string = text2;\n    }\n\n    protected assignFont(label: any, value: string | Font): void {\n        if (value instanceof Font)\n            label.font = value;\n        else {\n            let font = getFontByName(<string>value);\n            if (!font) {\n                label.fontFamily = <string>value;\n                label.useSystemFont = true;\n            }\n            else\n                label.font = font;\n        }\n    }\n\n    protected assignFontColor(label: any, value: Color): void {\n        let font: any = label.font;\n        if ((font instanceof BitmapFont) && !((<any>font)._fntConfig.canTint))\n            value = Color.WHITE;\n\n        if (this._grayed)\n            value = toGrayedColor(value);\n        label.node.color = value;\n    }\n\n    protected updateFont() {\n        this.assignFont(this._label, this._realFont);\n    }\n\n    protected updateFontColor() {\n        this.assignFontColor(this._label, this._color);\n    }\n\n    protected updateStrokeColor() {\n        if (!this._outline)\n            return;\n        if (!this._strokeColor)\n            this._strokeColor = new Color();\n        if (this._grayed)\n            this._outline.color = toGrayedColor(this._strokeColor);\n        else\n            this._outline.color = this._strokeColor;\n    }\n\n    protected updateShadowColor() {\n        if (!this._shadow)\n            return;\n        if (!this._shadowColor)\n            this._shadowColor = new Color();\n        if (this._grayed)\n            this._shadow.color = toGrayedColor(this._shadowColor)\n        else\n            this._shadow.color = this._shadowColor;\n    }\n\n    protected updateFontSize() {\n        let font: any = this._label.font;\n        if (font instanceof BitmapFont) {\n            let fntConfig = (<any>font)._fntConfig;\n            if (fntConfig.resizable)\n                this._label.fontSize = this._fontSize;\n            else\n                this._label.fontSize = fntConfig.fontSize;\n            this._label.lineHeight = fntConfig.fontSize + (this._leading + 4) * fntConfig.fontSize / this._label.fontSize;\n        }\n        else {\n            this._label.fontSize = this._fontSize;\n            this._label.lineHeight = this._fontSize + this._leading;\n        }\n    }\n\n    protected updateOverflow() {\n        if (this._autoSize == AutoSizeType.Both)\n            this._label.overflow = Label.Overflow.NONE;\n        else if (this._autoSize == AutoSizeType.Height) {\n            this._label.overflow = Label.Overflow.RESIZE_HEIGHT;\n            this._node._uiProps.uiTransformComp.width = this._width;\n        }\n        else if (this._autoSize == AutoSizeType.Shrink) {\n            this._label.overflow = Label.Overflow.SHRINK;\n            this._node._uiProps.uiTransformComp.setContentSize(this._width, this._height);\n        }\n        else {\n            this._label.overflow = Label.Overflow.CLAMP;\n            this._node._uiProps.uiTransformComp.setContentSize(this._width, this._height);\n        }\n    }\n\n    protected markSizeChanged(): void {\n        if (this._underConstruct)\n            return;\n\n        if (this._autoSize == AutoSizeType.Both || this._autoSize == AutoSizeType.Height) {\n            if (!this._sizeDirty) {\n                this._node.emit(FUIEvent.SIZE_DELAY_CHANGE, this);\n                this._sizeDirty = true;\n            }\n        }\n    }\n\n    protected onLabelSizeChanged(): void {\n        this._sizeDirty = false;\n\n        if (this._underConstruct)\n            return;\n\n        if (this._autoSize == AutoSizeType.Both || this._autoSize == AutoSizeType.Height) {\n            this._updatingSize = true;\n            this.setSize(this._node._uiProps.uiTransformComp.width, this._node._uiProps.uiTransformComp.height);\n            this._updatingSize = false;\n        }\n    }\n\n    protected handleSizeChanged(): void {\n        if (this._updatingSize)\n            return;\n\n        if (this._autoSize == AutoSizeType.None || this._autoSize == AutoSizeType.Shrink) {\n            this._node._uiProps.uiTransformComp.setContentSize(this._width, this._height);\n        }\n        else if (this._autoSize == AutoSizeType.Height)\n            this._node._uiProps.uiTransformComp.width = this._width;\n    }\n\n    protected handleGrayedChanged(): void {\n        this.updateFontColor();\n        this.updateStrokeColor();\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.OutlineColor:\n                return this.strokeColor;\n            case ObjectPropID.FontSize:\n                return this.fontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                this.strokeColor = value;\n                break;\n            case ObjectPropID.FontSize:\n                this.fontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this.font = buffer.readS();\n        this.fontSize = buffer.readShort();\n        this.color = buffer.readColor();\n        this.align = buffer.readByte();\n        this.verticalAlign = buffer.readByte();\n        this.leading = buffer.readShort();\n        this.letterSpacing = buffer.readShort();\n        this._ubbEnabled = buffer.readBool();\n        this.autoSize = buffer.readByte();\n        this.underline = buffer.readBool();\n        this.italic = buffer.readBool();\n        this.bold = buffer.readBool();\n        this.singleLine = buffer.readBool();\n        if (buffer.readBool()) {\n            this.strokeColor = buffer.readColor();\n            this.stroke = buffer.readFloat();\n        }\n\n        if (buffer.readBool()) {\n            this.shadowColor = buffer.readColor();\n            let f1 = buffer.readFloat();\n            let f2 = buffer.readFloat();\n            this.shadowOffset = new Vec2(f1, f2);\n        }\n\n        if (buffer.readBool())\n            this._templateVars = {};\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 6);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.text = str;\n    }\n}","import { BitmapFont, HorizontalTextAlignment, Label, RichText, SpriteAtlas, SpriteFrame } from \"cc\";\nimport { PackageItemType, AutoSizeType } from \"./FieldTypes\";\nimport { GTextField } from \"./GTextField\";\nimport { PackageItem } from \"./PackageItem\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { toGrayedColor } from \"./utils/ToolSet\";\nimport { defaultParser, UBBParser } from \"./utils/UBBParser\";\n\nexport class RichTextImageAtlas extends SpriteAtlas {\n\n    public getSpriteFrame(key: string): SpriteFrame {\n        let pi: PackageItem = UIPackage.getItemByURL(key);\n        if (pi) {\n            pi.load();\n            if (pi.type == PackageItemType.Image)\n                return <SpriteFrame>pi.asset;\n            else if (pi.type == PackageItemType.MovieClip)\n                return pi.frames[0].texture;\n        }\n\n        return super.getSpriteFrame(key);\n    }\n}\n\nconst imageAtlas: RichTextImageAtlas = new RichTextImageAtlas();\n\nexport class GRichTextField extends GTextField {\n    public _richText: RichText;\n\n    private _bold: boolean;\n    private _italics: boolean;\n    private _underline: boolean;\n\n    public linkUnderline: boolean;\n    public linkColor: string;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GRichTextField\";\n        this._touchDisabled = false;\n        this.linkUnderline = UIConfig.linkUnderline;\n    }\n\n    protected createRenderer() {\n        this._richText = this._node.addComponent(RichText);\n        this._richText.handleTouchEvent = false;\n        this.autoSize = AutoSizeType.None;\n        this._richText.imageAtlas = imageAtlas;\n    }\n\n    public get align(): HorizontalTextAlignment {\n        return this._richText.horizontalAlign;\n    }\n\n    public set align(value: HorizontalTextAlignment) {\n        this._richText.horizontalAlign = value;\n    }\n\n    public get underline(): boolean {\n        return this._underline;\n    }\n\n    public set underline(value: boolean) {\n        if (this._underline != value) {\n            this._underline = value;\n\n            this.updateText();\n        }\n    }\n\n    public get bold(): boolean {\n        return this._bold;\n    }\n\n    public set bold(value: boolean) {\n        if (this._bold != value) {\n            this._bold = value;\n\n            this.updateText();\n        }\n    }\n\n    public get italic(): boolean {\n        return this._italics;\n    }\n\n    public set italic(value: boolean) {\n        if (this._italics != value) {\n            this._italics = value;\n\n            this.updateText();\n        }\n    }\n\n    protected markSizeChanged(): void {\n        //RichText貌似没有延迟重建文本，所以这里不需要\n    }\n\n    protected updateText(): void {\n        var text2: string = this._text;\n\n        if (this._templateVars)\n            text2 = this.parseTemplate(text2);\n\n        if (this._ubbEnabled) {\n            defaultParser.linkUnderline = this.linkUnderline;\n            defaultParser.linkColor = this.linkColor;\n\n            text2 = defaultParser.parse(text2);\n        }\n\n        if (this._bold)\n            text2 = \"<b>\" + text2 + \"</b>\";\n        if (this._italics)\n            text2 = \"<i>\" + text2 + \"</i>\";\n        if (this._underline)\n            text2 = \"<u>\" + text2 + \"</u>\";\n        let c = this._color\n        if (this._grayed)\n            c = toGrayedColor(c);\n        text2 = \"<color=\" + c.toHEX(\"#rrggbb\") + \">\" + text2 + \"</color>\";\n\n        if (this._autoSize == AutoSizeType.Both) {\n            if (this._richText.maxWidth != 0)\n                this._richText.maxWidth = 0;\n            this._richText.string = text2;\n            if (this.maxWidth != 0 && this._node._uiProps.uiTransformComp.contentSize.width > this.maxWidth)\n                this._richText.maxWidth = this.maxWidth;\n        }\n        else\n            this._richText.string = text2;\n    }\n\n    protected updateFont() {\n        this.assignFont(this._richText, this._realFont);\n    }\n\n    protected updateFontColor() {\n        this.assignFontColor(this._richText, this._color);\n    }\n\n    protected updateFontSize() {\n        let fontSize: number = this._fontSize;\n        let font: any = this._richText.font;\n        if (font instanceof BitmapFont) {\n            if (!(<any>font)._fntConfig.resizable)\n                fontSize = (<any>font)._fntConfig.fontSize;\n        }\n\n        this._richText.fontSize = fontSize;\n        this._richText.lineHeight = fontSize + this._leading * 2;\n    }\n\n    protected updateOverflow() {\n        if (this._autoSize == AutoSizeType.Both)\n            this._richText.maxWidth = 0;\n        else\n            this._richText.maxWidth = this._width;\n    }\n\n    protected handleSizeChanged(): void {\n        if (this._updatingSize)\n            return;\n\n        if (this._autoSize != AutoSizeType.Both)\n            this._richText.maxWidth = this._width;\n    }\n}","import { Component, Vec2, RichText, sys, Node, Touch, Event, EventMouse, EventTouch, director, Vec3 } from \"cc\";\r\nimport { GObject } from \"../GObject\";\r\nimport { GRichTextField } from \"../GRichTextField\";\r\nimport { UIContentScaler } from \"../UIContentScaler\";\r\nimport { borrowEvent, Event as FUIEvent, returnEvent } from \"./Event\";\r\n\r\nexport class InputProcessor extends Component {\r\n    private _owner: GObject;\r\n    private _touchListener: any;\r\n    private _touchPos: Vec2;\r\n    private _touches: Array<TouchInfo>;\r\n    private _rollOutChain: Array<GObject>;\r\n    private _rollOverChain: Array<GObject>;\r\n\r\n    public _captureCallback: (evt: Event) => void;\r\n\r\n    public constructor() {\r\n        super();\r\n\r\n        this._touches = new Array<TouchInfo>();\r\n        this._rollOutChain = new Array<GObject>();\r\n        this._rollOverChain = new Array<GObject>();\r\n        this._touchPos = new Vec2();\r\n    }\r\n\r\n    onLoad() {\r\n        this._owner = GObject.cast(this.node);\r\n    }\r\n\r\n    onEnable() {\r\n        let node: Node = this.node;\r\n        node.on(Node.EventType.TOUCH_START, this.touchBeginHandler, this);\r\n        node.on(Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this);\r\n        node.on(Node.EventType.TOUCH_END, this.touchEndHandler, this);\r\n        node.on(Node.EventType.TOUCH_CANCEL, this.touchCancelHandler, this);\r\n\r\n        node.on(Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this);\r\n        node.on(Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this);\r\n        node.on(Node.EventType.MOUSE_UP, this.mouseUpHandler, this);\r\n        node.on(Node.EventType.MOUSE_WHEEL, this.mouseWheelHandler, this);\r\n\r\n        this._touchListener = (<any>this.node)[\"touchListener\"];\r\n    }\r\n\r\n    onDisable() {\r\n        let node: Node = this.node;\r\n        node.off(Node.EventType.TOUCH_START, this.touchBeginHandler, this);\r\n        node.off(Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this);\r\n        node.off(Node.EventType.TOUCH_END, this.touchEndHandler, this);\r\n        node.off(Node.EventType.TOUCH_CANCEL, this.touchCancelHandler, this);\r\n\r\n        node.off(Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this);\r\n        node.off(Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this);\r\n        node.off(Node.EventType.MOUSE_UP, this.mouseUpHandler, this);\r\n        node.off(Node.EventType.MOUSE_WHEEL, this.mouseWheelHandler, this);\r\n\r\n        this._touchListener = null;\r\n    }\r\n\r\n    public getAllTouches(touchIds?: Array<number>): Array<number> {\r\n        touchIds = touchIds || new Array<number>();\r\n        let cnt = this._touches.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let ti = this._touches[i];\r\n            if (ti.touchId != -1)\r\n                touchIds.push(ti.touchId);\r\n        }\r\n        return touchIds;\r\n    }\r\n\r\n    public getTouchPosition(touchId?: number): Vec2 {\r\n        if (touchId === undefined) touchId = -1;\r\n        let cnt = this._touches.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let ti = this._touches[i];\r\n            if (ti.touchId != -1 && (touchId == -1 || ti.touchId == touchId))\r\n                return ti.pos;\r\n        }\r\n        return Vec2.ZERO;\r\n    }\r\n\r\n    public getTouchTarget(): GObject {\r\n        let cnt = this._touches.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let ti = this._touches[i];\r\n            if (ti.touchId != -1)\r\n                return ti.target;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public addTouchMonitor(touchId: number, target: GObject) {\r\n        let ti = this.getInfo(touchId, false);\r\n        if (!ti)\r\n            return;\r\n\r\n        let index = ti.touchMonitors.indexOf(target);\r\n        if (index == -1)\r\n            ti.touchMonitors.push(target);\r\n    }\r\n\r\n    public removeTouchMonitor(target: GObject) {\r\n        let cnt = this._touches.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let ti: TouchInfo = this._touches[i];\r\n            let index = ti.touchMonitors.indexOf(target);\r\n            if (index != -1)\r\n                ti.touchMonitors.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public cancelClick(touchId: number) {\r\n        let ti = this.getInfo(touchId, false);\r\n        if (ti)\r\n            ti.clickCancelled = true;\r\n    }\r\n\r\n    public simulateClick(target: GObject) {\r\n        let evt: FUIEvent;\r\n\r\n        evt = borrowEvent(FUIEvent.TOUCH_BEGIN, true);\r\n\r\n        evt.initiator = target;\r\n        evt.pos.set(target.localToGlobal());\r\n        evt.touchId = 0;\r\n        evt.clickCount = 1;\r\n        evt.button = 0;\r\n        evt._processor = this;\r\n\r\n        if (this._captureCallback)\r\n            this._captureCallback.call(this._owner, evt);\r\n\r\n        target.node.dispatchEvent(evt);\r\n\r\n        evt.unuse();\r\n        evt.type = FUIEvent.TOUCH_END;\r\n        evt.bubbles = true;\r\n\r\n        target.node.dispatchEvent(evt);\r\n\r\n        evt.unuse();\r\n        evt.type = FUIEvent.CLICK;\r\n        evt.bubbles = true;\r\n\r\n        target.node.dispatchEvent(evt);\r\n\r\n        returnEvent(evt);\r\n    }\r\n\r\n    private touchBeginHandler(touch: Touch, evt: EventTouch): Boolean {\r\n        let ti: TouchInfo = this.updateInfo(touch.getID(), touch.getLocation(), touch);\r\n        this._touchListener.setSwallowTouches(ti.target != this._owner);\r\n        this.setBegin(ti);\r\n\r\n        let evt2 = this.getEvent(ti, ti.target, FUIEvent.TOUCH_BEGIN, true);\r\n\r\n        if (this._captureCallback)\r\n            this._captureCallback.call(this._owner, evt2);\r\n\r\n        ti.target.node.dispatchEvent(evt2);\r\n\r\n        this.handleRollOver(ti, ti.target);\r\n\r\n        return true;\r\n    }\r\n\r\n    private touchMoveHandler(touch: Touch, evt: EventTouch): void {\r\n        let ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\r\n        this.handleRollOver(ti, ti.target);\r\n\r\n        if (ti.began) {\r\n            let evt2 = this.getEvent(ti, ti.target, FUIEvent.TOUCH_MOVE, false);\r\n\r\n            let done = false;\r\n            let cnt = ti.touchMonitors.length;\r\n            for (let i = 0; i < cnt; i++) {\r\n                let mm = ti.touchMonitors[i];\r\n                if (mm.node == null || !mm.node.activeInHierarchy)\r\n                    continue;\r\n\r\n                evt2.unuse();\r\n                evt2.type = FUIEvent.TOUCH_MOVE;\r\n                mm.node.dispatchEvent(evt2);\r\n                if (mm == this._owner)\r\n                    done = true;\r\n            }\r\n\r\n            if (!done && this.node) {\r\n                evt2.unuse();\r\n                evt2.type = FUIEvent.TOUCH_MOVE;\r\n                this.node.dispatchEvent(evt2);\r\n            }\r\n\r\n            returnEvent(evt2);\r\n        }\r\n    }\r\n\r\n    private touchEndHandler(touch: Touch, evt: EventTouch): void {\r\n        let ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\r\n        this.setEnd(ti);\r\n\r\n        let evt2 = this.getEvent(ti, ti.target, FUIEvent.TOUCH_END, false);\r\n\r\n        let cnt = ti.touchMonitors.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let mm = ti.touchMonitors[i];\r\n            if (mm == ti.target || mm.node == null || !mm.node.activeInHierarchy\r\n                || ('isAncestorOf' in mm) && (<any>mm).isAncestorOf(ti.target))\r\n                continue;\r\n\r\n            evt2.unuse();\r\n            evt2.type = FUIEvent.TOUCH_END;\r\n            mm.node.dispatchEvent(evt2);\r\n        }\r\n        ti.touchMonitors.length = 0;\r\n\r\n        if (ti.target && ti.target.node) {\r\n            if (ti.target instanceof GRichTextField)\r\n                ti.target.node.getComponent(RichText)[\"_onTouchEnded\"](evt);\r\n\r\n            evt2.unuse();\r\n            evt2.type = FUIEvent.TOUCH_END;\r\n            evt2.bubbles = true;\r\n            ti.target.node.dispatchEvent(evt2);\r\n        }\r\n\r\n        returnEvent(evt2);\r\n\r\n        ti.target = this.clickTest(ti);\r\n        if (ti.target) {\r\n            evt2 = this.getEvent(ti, ti.target, FUIEvent.CLICK, true);\r\n            ti.target.node.dispatchEvent(evt2);\r\n            returnEvent(evt2);\r\n        }\r\n\r\n        if (sys.isMobile)     //on mobile platform, trigger RollOut on up event, but not on PC\r\n            this.handleRollOver(ti, null);\r\n        else\r\n            this.handleRollOver(ti, ti.target);\r\n\r\n        ti.target = null;\r\n        ti.touchId = -1;\r\n        ti.button = -1;\r\n    }\r\n\r\n    private touchCancelHandler(touch: Touch, evt: EventTouch): void {\r\n        let ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\r\n\r\n        let evt2 = this.getEvent(ti, ti.target, FUIEvent.TOUCH_END, false);\r\n\r\n        let cnt = ti.touchMonitors.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let mm = ti.touchMonitors[i];\r\n            if (mm == ti.target || mm.node == null || !mm.node.activeInHierarchy\r\n                || ('isAncestorOf' in mm) && (<any>mm).isAncestorOf(ti.target))\r\n                continue;\r\n\r\n            evt2.initiator = mm;\r\n            mm.node.dispatchEvent(evt2);\r\n        }\r\n        ti.touchMonitors.length = 0;\r\n\r\n        if (ti.target && ti.target.node) {\r\n            evt2.bubbles = true;\r\n            ti.target.node.dispatchEvent(evt2);\r\n        }\r\n\r\n        returnEvent(evt2);\r\n\r\n        this.handleRollOver(ti, null);\r\n\r\n        ti.target = null;\r\n        ti.touchId = -1;\r\n        ti.button = -1;\r\n    }\r\n\r\n    private mouseDownHandler(evt: EventMouse) {\r\n        let ti = this.getInfo(0, true);\r\n        ti.button = evt.getButton();\r\n    }\r\n\r\n    private mouseUpHandler(evt: EventMouse) {\r\n        let ti = this.getInfo(0, true);\r\n        ti.button = evt.getButton();\r\n    }\r\n\r\n    private mouseMoveHandler(evt: EventMouse) {\r\n        let ti = this.getInfo(0, false);\r\n        if (ti\r\n            && Math.abs(ti.pos.x - evt.getLocationX()) < 1\r\n            && Math.abs(ti.pos.y - (UIContentScaler.rootSize.height - evt.getLocationY())) < 1)\r\n            return;\r\n\r\n        ti = this.updateInfo(0, evt.getLocation());\r\n        this.handleRollOver(ti, ti.target);\r\n\r\n        if (ti.began) {\r\n            let evt2 = this.getEvent(ti, ti.target, FUIEvent.TOUCH_MOVE, false);\r\n\r\n            let done = false;\r\n            let cnt = ti.touchMonitors.length;\r\n            for (let i = 0; i < cnt; i++) {\r\n                let mm = ti.touchMonitors[i];\r\n                if (mm.node == null || !mm.node.activeInHierarchy)\r\n                    continue;\r\n\r\n                evt2.initiator = mm;\r\n                mm.node.dispatchEvent(evt2);\r\n                if (mm == this._owner)\r\n                    done = true;\r\n            }\r\n\r\n            if (!done && this.node) {\r\n                evt2.initiator = this._owner;\r\n                this.node.dispatchEvent(evt2);\r\n                returnEvent(evt2);\r\n            }\r\n\r\n            returnEvent(evt2);\r\n        }\r\n    }\r\n\r\n    private mouseWheelHandler(evt: EventMouse) {\r\n        let ti = this.updateInfo(0, evt.getLocation());\r\n        ti.mouseWheelDelta = Math.max(evt.getScrollX(), evt.getScrollY());\r\n\r\n        let evt2 = this.getEvent(ti, ti.target, FUIEvent.MOUSE_WHEEL, true);\r\n        ti.target.node.dispatchEvent(evt2);\r\n        returnEvent(evt2);\r\n    }\r\n\r\n    private updateInfo(touchId: number, pos: Vec2, touch?: Touch): TouchInfo {\r\n        const camera = director.root!.batcher2D.getFirstRenderCamera(this.node);\r\n        if (camera) {\r\n            s_vec3.set(pos.x, pos.y);\r\n\r\n            camera.screenToWorld(s_vec3_2, s_vec3);\r\n            this._touchPos.set(s_vec3_2.x, s_vec3_2.y);\r\n        }\r\n        else\r\n            this._touchPos.set(pos);\r\n        this._touchPos.y = UIContentScaler.rootSize.height - this._touchPos.y;\r\n        let target = this._owner.hitTest(this._touchPos);\r\n        if (!target)\r\n            target = this._owner;\r\n\r\n        let ti = this.getInfo(touchId);\r\n        ti.target = target;\r\n        ti.pos.set(this._touchPos);\r\n        ti.button = EventMouse.BUTTON_LEFT;\r\n        ti.touch = touch;\r\n\r\n        return ti;\r\n    }\r\n\r\n    private getInfo(touchId: number, createIfNotExisits?: boolean): TouchInfo {\r\n        if (createIfNotExisits === undefined) createIfNotExisits = true;\r\n        let ret = null;\r\n        let cnt = this._touches.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            let ti = this._touches[i];\r\n            if (ti.touchId == touchId)\r\n                return ti;\r\n            else if (ti.touchId == -1)\r\n                ret = ti;\r\n        }\r\n\r\n        if (!ret) {\r\n            if (!createIfNotExisits)\r\n                return null;\r\n\r\n            ret = new TouchInfo();\r\n            this._touches.push(ret);\r\n        }\r\n        ret.touchId = touchId;\r\n        return ret;\r\n    }\r\n\r\n    private setBegin(ti: TouchInfo) {\r\n        ti.began = true;\r\n        ti.clickCancelled = false;\r\n        ti.downPos.set(ti.pos);\r\n\r\n        ti.downTargets.length = 0;\r\n        let obj: GObject = ti.target;\r\n        while (obj) {\r\n            ti.downTargets.push(obj);\r\n            obj = obj.findParent();\r\n        }\r\n    }\r\n\r\n    private setEnd(ti: TouchInfo) {\r\n        ti.began = false;\r\n\r\n        let now = director.getTotalTime() / 1000;\r\n        let elapsed = now - ti.lastClickTime;\r\n\r\n        if (elapsed < 0.45) {\r\n            if (ti.clickCount == 2)\r\n                ti.clickCount = 1;\r\n            else\r\n                ti.clickCount++;\r\n        }\r\n        else\r\n            ti.clickCount = 1;\r\n        ti.lastClickTime = now;\r\n    }\r\n\r\n    private clickTest(ti: TouchInfo): GObject {\r\n        if (ti.downTargets.length == 0\r\n            || ti.clickCancelled\r\n            || Math.abs(ti.pos.x - ti.downPos.x) > 50 || Math.abs(ti.pos.y - ti.downPos.y) > 50)\r\n            return null;\r\n\r\n        let obj = ti.downTargets[0];\r\n        if (obj && obj.node && obj.node.activeInHierarchy)\r\n            return obj;\r\n\r\n        obj = ti.target;\r\n        while (obj) {\r\n            let index = ti.downTargets.indexOf(obj);\r\n            if (index != -1 && obj.node && obj.node.activeInHierarchy)\r\n                break;\r\n\r\n            obj = obj.findParent();\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    private handleRollOver(ti: TouchInfo, target: GObject) {\r\n        if (ti.lastRollOver == target)\r\n            return;\r\n\r\n        let element: GObject = ti.lastRollOver;\r\n        while (element && element.node) {\r\n            this._rollOutChain.push(element);\r\n            element = element.findParent();\r\n        }\r\n\r\n        element = target;\r\n        while (element && element.node) {\r\n            let i = this._rollOutChain.indexOf(element);\r\n            if (i != -1) {\r\n                this._rollOutChain.length = i;\r\n                break;\r\n            }\r\n            this._rollOverChain.push(element);\r\n\r\n            element = element.findParent();\r\n        }\r\n\r\n        ti.lastRollOver = target;\r\n\r\n        let cnt = this._rollOutChain.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            element = this._rollOutChain[i];\r\n            if (element.node && element.node.activeInHierarchy) {\r\n                let evt = this.getEvent(ti, element, FUIEvent.ROLL_OUT, false);\r\n                element.node.dispatchEvent(evt);\r\n                returnEvent(evt);\r\n            }\r\n        }\r\n\r\n        cnt = this._rollOverChain.length;\r\n        for (let i = 0; i < cnt; i++) {\r\n            element = this._rollOverChain[i];\r\n            if (element.node && element.node.activeInHierarchy) {\r\n                let evt = this.getEvent(ti, element, FUIEvent.ROLL_OVER, false);\r\n                element.node.dispatchEvent(evt);\r\n                returnEvent(evt);\r\n            }\r\n        }\r\n\r\n        this._rollOutChain.length = 0;\r\n        this._rollOverChain.length = 0;\r\n    }\r\n\r\n    private getEvent(ti: TouchInfo, target: GObject, type: string, bubbles: boolean): FUIEvent {\r\n        let evt = borrowEvent(type, bubbles);\r\n        evt.initiator = target;\r\n        evt.touch = ti.touch;\r\n        evt.pos.set(ti.pos);\r\n        evt.touchId = ti.touch ? ti.touch.getID() : 0;\r\n        evt.clickCount = ti.clickCount;\r\n        evt.button = ti.button;\r\n        evt.mouseWheelDelta = ti.mouseWheelDelta;\r\n        evt._processor = this;\r\n\r\n        return evt;\r\n    }\r\n}\r\n\r\nclass TouchInfo {\r\n    public target: GObject;\r\n    public touch: Touch;\r\n    public pos: Vec2 = new Vec2();\r\n    public touchId: number = 0;\r\n    public clickCount: number = 0;\r\n    public mouseWheelDelta: number = 0;\r\n    public button: number = -1;\r\n    public downPos: Vec2 = new Vec2();\r\n    public began: boolean = false;\r\n    public clickCancelled: boolean = false;\r\n    public lastClickTime: number = 0;\r\n    public lastRollOver: GObject;\r\n    public downTargets: Array<GObject> = new Array<GObject>();\r\n    public touchMonitors: Array<GObject> = new Array<GObject>();\r\n};\r\n\r\nvar s_vec3: Vec3 = new Vec3();\r\nvar s_vec3_2: Vec3 = new Vec3();","\r\nimport { Controller } from \"../Controller\";\r\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\r\n\r\nexport class ControllerAction {\r\n    public fromPage: Array<string>;\r\n    public toPage: Array<string>;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public run(controller: Controller, prevPage: string, curPage: string): void {\r\n        if ((!this.fromPage || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1)\r\n            && (!this.toPage || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\r\n            this.enter(controller);\r\n        else\r\n            this.leave(controller);\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n\r\n    }\r\n\r\n    protected leave(controller: Controller): void {\r\n\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        var cnt: number;\r\n        var i: number;\r\n\r\n        cnt = buffer.readShort();\r\n        this.fromPage = [];\r\n        for (i = 0; i < cnt; i++)\r\n            this.fromPage[i] = buffer.readS();\r\n\r\n        cnt = buffer.readShort();\r\n        this.toPage = [];\r\n        for (i = 0; i < cnt; i++)\r\n            this.toPage[i] = buffer.readS();\r\n    }\r\n}\r\n","import { ControllerAction } from \"./ControllerAction\";\r\nimport { Controller } from \"../Controller\";\r\nimport { Transition } from \"../Transition\";\r\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\r\n\r\nexport class PlayTransitionAction extends ControllerAction {\r\n    public transitionName: string;\r\n    public playTimes: number = 1;\r\n    public delay: number = 0;\r\n    public stopOnExit: boolean;\r\n\r\n    private _currentTransition: Transition;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n        var trans: Transition = controller.parent.getTransition(this.transitionName);\r\n        if (trans) {\r\n            if (this._currentTransition && this._currentTransition.playing)\r\n                trans.changePlayTimes(this.playTimes);\r\n            else\r\n                trans.play(null, this.playTimes, this.delay);\r\n            this._currentTransition = trans;\r\n        }\r\n    }\r\n\r\n    protected leave(controller: Controller): void {\r\n        if (this.stopOnExit && this._currentTransition) {\r\n            this._currentTransition.stop();\r\n            this._currentTransition = null;\r\n        }\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        super.setup(buffer);\r\n\r\n        this.transitionName = buffer.readS();\r\n        this.playTimes = buffer.readInt();\r\n        this.delay = buffer.readFloat();\r\n        this.stopOnExit = buffer.readBool();\r\n    }\r\n}\r\n","import { GComponent } from \"../GComponent\";\r\nimport { Controller } from \"../Controller\";\r\nimport { ByteBuffer } from \"../utils/ByteBuffer\";\r\nimport { ControllerAction } from \"./ControllerAction\";\r\n\r\nexport class ChangePageAction extends ControllerAction {\r\n    public objectId: string;\r\n    public controllerName: string;\r\n    public targetPage: string;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected enter(controller: Controller): void {\r\n        if (!this.controllerName)\r\n            return;\r\n\r\n        var gcom: GComponent;\r\n        if (this.objectId)\r\n            gcom = <GComponent>controller.parent.getChildById(this.objectId);\r\n        else\r\n            gcom = controller.parent;\r\n        if (gcom) {\r\n            var cc: Controller = gcom.getController(this.controllerName);\r\n            if (cc && cc != controller && !cc.changing) {\r\n                if (this.targetPage == \"~1\") {\r\n                    if (controller.selectedIndex < cc.pageCount)\r\n                        cc.selectedIndex = controller.selectedIndex;\r\n                }\r\n                else if (this.targetPage == \"~2\")\r\n                    cc.selectedPage = controller.selectedPage;\r\n                else\r\n                    cc.selectedPageId = this.targetPage;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        super.setup(buffer);\r\n\r\n        this.objectId = buffer.readS();\r\n        this.controllerName = buffer.readS();\r\n        this.targetPage = buffer.readS();\r\n    }\r\n}","import { ControllerAction } from \"./action/ControllerAction\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nvar _nextPageId: number = 0;\n\nexport class Controller extends EventTarget {\n    private _selectedIndex: number;\n    private _previousIndex: number;\n    private _pageIds: Array<string>;\n    private _pageNames: Array<string>;\n    private _actions?: Array<ControllerAction>;\n\n    public name: string;\n    public parent: GComponent;\n    public autoRadioGroupDepth?: boolean;\n    public changing?: boolean;\n\n    public constructor() {\n        super();\n        this._pageIds = [];\n        this._pageNames = [];\n        this._selectedIndex = -1;\n        this._previousIndex = -1;\n    }\n\n    public dispose(): void {\n\n    }\n\n    public get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    public set selectedIndex(value: number) {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n\n            this.emit(FUIEvent.STATUS_CHANGED, this);\n\n            this.changing = false;\n        }\n    }\n\n    public onChanged<TFunction extends (...any: any[]) => void>(callback: TFunction, thisArg?: any): void {\n        this.on(FUIEvent.STATUS_CHANGED, callback, thisArg);\n    }\n\n    public offChanged<TFunction extends (...any: any[]) => void>(callback: TFunction, thisArg?: any): void {\n        this.off(FUIEvent.STATUS_CHANGED, callback, thisArg);\n    }\n\n    //功能和设置selectedIndex一样，但不会触发事件\n    public setSelectedIndex(value: number): void {\n        if (this._selectedIndex != value) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this);\n            this.changing = false;\n        }\n    }\n\n    public get previsousIndex(): number {\n        return this._previousIndex;\n    }\n\n    public get selectedPage(): string {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._selectedIndex];\n    }\n\n    public set selectedPage(val: string) {\n        var i: number = this._pageNames.indexOf(val);\n        if (i == -1)\n            i = 0;\n        this.selectedIndex = i;\n    }\n\n    //功能和设置selectedPage一样，但不会触发事件\n    public setSelectedPage(value: string): void {\n        var i: number = this._pageNames.indexOf(value);\n        if (i == -1)\n            i = 0;\n        this.setSelectedIndex(i);\n    }\n\n    public get previousPage(): string {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageNames[this._previousIndex];\n    }\n\n    public get pageCount(): number {\n        return this._pageIds.length;\n    }\n\n    public getPageName(index: number): string {\n        return this._pageNames[index];\n    }\n\n    public addPage(name?: string): void {\n        name = name || \"\";\n        this.addPageAt(name, this._pageIds.length);\n    }\n\n    public addPageAt(name?: string, index?: number): void {\n        name = name || \"\";\n        var nid: string = \"\" + (_nextPageId++);\n        if (index == null || index == this._pageIds.length) {\n            this._pageIds.push(nid);\n            this._pageNames.push(name);\n        }\n        else {\n            this._pageIds.splice(index, 0, nid);\n            this._pageNames.splice(index, 0, name);\n        }\n    }\n\n    public removePage(name: string): void {\n        var i: number = this._pageNames.indexOf(name);\n        if (i != -1) {\n            this._pageIds.splice(i, 1);\n            this._pageNames.splice(i, 1);\n            if (this._selectedIndex >= this._pageIds.length)\n                this.selectedIndex = this._selectedIndex - 1;\n            else\n                this.parent.applyController(this);\n        }\n    }\n\n    public removePageAt(index: number): void {\n        this._pageIds.splice(index, 1);\n        this._pageNames.splice(index, 1);\n        if (this._selectedIndex >= this._pageIds.length)\n            this.selectedIndex = this._selectedIndex - 1;\n        else\n            this.parent.applyController(this);\n    }\n\n    public clearPages(): void {\n        this._pageIds.length = 0;\n        this._pageNames.length = 0;\n        if (this._selectedIndex != -1)\n            this.selectedIndex = -1;\n        else\n            this.parent.applyController(this);\n    }\n\n    public hasPage(aName: string): boolean {\n        return this._pageNames.indexOf(aName) != -1;\n    }\n\n    public getPageIndexById(aId: string): number {\n        return this._pageIds.indexOf(aId);\n    }\n\n    public getPageIdByName(aName: string): string | null {\n        var i: number = this._pageNames.indexOf(aName);\n        if (i != -1)\n            return this._pageIds[i];\n        else\n            return null;\n    }\n\n    public getPageNameById(aId: string): string | null {\n        var i: number = this._pageIds.indexOf(aId);\n        if (i != -1)\n            return this._pageNames[i];\n        else\n            return null;\n    }\n\n    public getPageId(index: number): string | null {\n        return this._pageIds[index];\n    }\n\n    public get selectedPageId(): string | null {\n        if (this._selectedIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._selectedIndex];\n    }\n\n    public set selectedPageId(val: string) {\n        var i: number = this._pageIds.indexOf(val);\n        this.selectedIndex = i;\n    }\n\n    public set oppositePageId(val: string) {\n        var i: number = this._pageIds.indexOf(val);\n        if (i > 0)\n            this.selectedIndex = 0;\n        else if (this._pageIds.length > 1)\n            this.selectedIndex = 1;\n    }\n\n    public get previousPageId(): string | null {\n        if (this._previousIndex == -1)\n            return null;\n        else\n            return this._pageIds[this._previousIndex];\n    }\n\n    public runActions(): void {\n        if (this._actions) {\n            var cnt: number = this._actions.length;\n            for (var i: number = 0; i < cnt; i++) {\n                this._actions[i].run(this, this.previousPageId, this.selectedPageId);\n            }\n        }\n    }\n\n    public setup(buffer: ByteBuffer): void {\n        var beginPos: number = buffer.position;\n        buffer.seek(beginPos, 0);\n\n        this.name = buffer.readS();\n        if (buffer.readBool())\n            this.autoRadioGroupDepth = true;\n\n        buffer.seek(beginPos, 1);\n\n        var i: number;\n        var nextPos: number;\n        var cnt: number = buffer.readShort();\n\n        for (i = 0; i < cnt; i++) {\n            this._pageIds.push(buffer.readS());\n            this._pageNames.push(buffer.readS());\n        }\n\n        var homePageIndex: number = 0;\n        if (buffer.version >= 2) {\n            var homePageType: number = buffer.readByte();\n            switch (homePageType) {\n                case 1:\n                    homePageIndex = buffer.readShort();\n                    break;\n\n                case 2:\n                    homePageIndex = this._pageNames.indexOf(UIPackage.branch);\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n\n                case 3:\n                    homePageIndex = this._pageNames.indexOf(UIPackage.getVar(buffer.readS()));\n                    if (homePageIndex == -1)\n                        homePageIndex = 0;\n                    break;\n            }\n        }\n\n        buffer.seek(beginPos, 2);\n\n        cnt = buffer.readShort();\n        if (cnt > 0) {\n            if (!this._actions)\n                this._actions = new Array<ControllerAction>();\n\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n\n                var action: ControllerAction = createAction(buffer.readByte());\n                action.setup(buffer);\n                this._actions.push(action);\n\n                buffer.position = nextPos;\n            }\n        }\n\n        if (this.parent && this._pageIds.length > 0)\n            this._selectedIndex = homePageIndex;\n        else\n            this._selectedIndex = -1;\n    }\n}\n\n\nimport { PlayTransitionAction } from \"./action/PlayTransitionAction\"\nimport { ChangePageAction } from \"./action/ChangePageAction\"\nimport { EventTarget } from \"cc\";\nimport { GComponent } from \"./GComponent\";\n\nfunction createAction(type: number): ControllerAction {\n    switch (type) {\n        case 0:\n            return new PlayTransitionAction();\n\n        case 1:\n            return new ChangePageAction();\n    }\n    return null;\n}","\nexport class Margin {\n    public left: number = 0;\n    public right: number = 0;\n    public top: number = 0;\n    public bottom: number = 0;\n\n    public constructor() {\n    }\n\n    public copy(source: Margin): void {\n        this.top = source.top;\n        this.bottom = source.bottom;\n        this.left = source.left;\n        this.right = source.right;\n    }\n\n    public isNone(): boolean {\n        return this.left == 0 && this.right == 0 && this.top == 0 && this.bottom == 0;\n    }\n}","import { Component, director, isValid, Mask, math, Node, Rect, sys, UITransform, Vec2, View } from \"cc\"\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { ScrollBarDisplayType, ScrollType } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GList } from \"./GList\";\nimport { Decls, GObject } from \"./GObject\";\nimport { GScrollBar } from \"./GScrollBar\";\nimport { Margin } from \"./Margin\";\nimport { GTween } from \"./tween/GTween\";\nimport { GTweener } from \"./tween/GTweener\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\ntype AxisType = \"x\" | \"y\";\n\nexport class ScrollPane extends Component {\n    private _owner: GComponent;\n    private _container: Node;\n    private _maskContainer: Node;\n\n    private _scrollType: number;\n    private _scrollStep: number;\n    private _mouseWheelStep: number;\n    private _decelerationRate: number;\n    private _scrollBarMargin: Margin;\n    private _bouncebackEffect: boolean;\n    private _touchEffect: boolean;\n    private _scrollBarDisplayAuto?: boolean;\n    private _vScrollNone: boolean;\n    private _hScrollNone: boolean;\n    private _needRefresh: boolean;\n    private _refreshBarAxis: AxisType;\n\n    private _displayOnLeft?: boolean;\n    private _snapToItem?: boolean;\n    private _snappingPolicy?: number;\n    public _displayInDemand?: boolean;\n    private _mouseWheelEnabled: boolean;\n    private _pageMode?: boolean;\n    private _inertiaDisabled?: boolean;\n    private _floating?: boolean;\n    private _dontClipMargin?: boolean;\n\n    private _xPos: number;\n    private _yPos: number;\n\n    private _viewSize: Vec2;\n    private _contentSize: Vec2;\n    private _overlapSize: Vec2;\n    private _pageSize: Vec2;\n    private _containerPos: Vec2;\n    private _beginTouchPos: Vec2;\n    private _lastTouchPos: Vec2;\n    private _lastTouchGlobalPos: Vec2;\n    private _velocity: Vec2;\n    private _velocityScale: number;\n    private _lastMoveTime: number;\n    private _isHoldAreaDone: boolean;\n    private _aniFlag: number = 0;\n    public _loop: number;\n    private _headerLockedSize: number;\n    private _footerLockedSize: number;\n    private _refreshEventDispatching: boolean;\n    private _dragged: boolean;\n    private _hover: boolean;\n\n    private _tweening: number;\n    private _tweenTime: Vec2;\n    private _tweenDuration: Vec2;\n    private _tweenStart: Vec2;\n    private _tweenChange: Vec2;\n\n    private _pageController?: Controller;\n\n    private _hzScrollBar?: GScrollBar;\n    private _vtScrollBar?: GScrollBar;\n    private _header?: GComponent;\n    private _footer?: GComponent;\n\n    public static draggingPane: ScrollPane;\n\n    public setup(buffer: ByteBuffer): void {\n        const o = this._owner = <GComponent>GObject.cast(this.node);\n\n        this._maskContainer = new Node(\"ScrollPane\");\n        this._maskContainer.addComponent(UITransform).setAnchorPoint(0, 1);\n        this._maskContainer.parent = o.node;\n\n        this._container = o._container;\n        this._container.parent = this._maskContainer;\n\n        this._scrollBarMargin = new Margin();\n        this._mouseWheelEnabled = true;\n        this._xPos = 0;\n        this._yPos = 0;\n        this._aniFlag = 0;\n        this._tweening = 0;\n        this._footerLockedSize = 0;\n        this._headerLockedSize = 0;\n        this._viewSize = new Vec2();\n        this._contentSize = new Vec2();\n        this._pageSize = new Vec2(1, 1);\n        this._overlapSize = new Vec2();\n        this._tweenTime = new Vec2();\n        this._tweenStart = new Vec2();\n        this._tweenDuration = new Vec2();\n        this._tweenChange = new Vec2();\n        this._velocity = new Vec2();\n        this._containerPos = new Vec2();\n        this._beginTouchPos = new Vec2();\n        this._lastTouchPos = new Vec2();\n        this._lastTouchGlobalPos = new Vec2();\n        this._scrollStep = UIConfig.defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n        this._decelerationRate = UIConfig.defaultScrollDecelerationRate;\n        this._snappingPolicy = 0;\n\n        o.on(FUIEvent.TOUCH_BEGIN, this.onTouchBegin, this);\n        o.on(FUIEvent.TOUCH_MOVE, this.onTouchMove, this);\n        o.on(FUIEvent.TOUCH_END, this.onTouchEnd, this);\n        o.on(FUIEvent.MOUSE_WHEEL, this.onMouseWheel, this);\n\n        this._scrollType = buffer.readByte();\n        var scrollBarDisplay: ScrollBarDisplayType = buffer.readByte();\n        var flags: number = buffer.readInt();\n\n        if (buffer.readBool()) {\n            this._scrollBarMargin.top = buffer.readInt();\n            this._scrollBarMargin.bottom = buffer.readInt();\n            this._scrollBarMargin.left = buffer.readInt();\n            this._scrollBarMargin.right = buffer.readInt();\n        }\n\n        var vtScrollBarRes: string = buffer.readS();\n        var hzScrollBarRes: string = buffer.readS();\n        var headerRes: string = buffer.readS();\n        var footerRes: string = buffer.readS();\n\n        if ((flags & 1) != 0) this._displayOnLeft = true;\n        if ((flags & 2) != 0) this._snapToItem = true;\n        if ((flags & 4) != 0) this._displayInDemand = true;\n        if ((flags & 8) != 0) this._pageMode = true;\n        if (flags & 16)\n            this._touchEffect = true;\n        else if (flags & 32)\n            this._touchEffect = false;\n        else\n            this._touchEffect = UIConfig.defaultScrollTouchEffect;\n        if (flags & 64)\n            this._bouncebackEffect = true;\n        else if (flags & 128)\n            this._bouncebackEffect = false;\n        else\n            this._bouncebackEffect = UIConfig.defaultScrollBounceEffect;\n        if ((flags & 256) != 0) this._inertiaDisabled = true;\n        if ((flags & 512) == 0) this._maskContainer.addComponent(Mask);\n        if ((flags & 1024) != 0) this._floating = true;\n        if ((flags & 2048) != 0) this._dontClipMargin = true;\n\n        if (scrollBarDisplay == ScrollBarDisplayType.Default)\n            scrollBarDisplay = UIConfig.defaultScrollBarDisplay;\n\n        if (scrollBarDisplay != ScrollBarDisplayType.Hidden) {\n            if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) {\n                var res: string = vtScrollBarRes ? vtScrollBarRes : UIConfig.verticalScrollBar;\n                if (res) {\n                    this._vtScrollBar = <GScrollBar><any>(UIPackage.createObjectFromURL(res));\n                    if (!this._vtScrollBar)\n                        throw \"cannot create scrollbar from \" + res;\n                    this._vtScrollBar.setScrollPane(this, true);\n                    this._vtScrollBar.node.parent = o.node;\n                }\n            }\n            if (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Horizontal) {\n                var res: string = hzScrollBarRes ? hzScrollBarRes : UIConfig.horizontalScrollBar;\n                if (res) {\n                    this._hzScrollBar = <GScrollBar><any>(UIPackage.createObjectFromURL(res));\n                    if (!this._hzScrollBar)\n                        throw \"cannot create scrollbar from \" + res;\n                    this._hzScrollBar.setScrollPane(this, false);\n                    this._hzScrollBar.node.parent = o.node;\n                }\n            }\n\n            if (scrollBarDisplay == ScrollBarDisplayType.Auto)\n                this._scrollBarDisplayAuto = true;\n            if (this._scrollBarDisplayAuto) {\n                if (this._vtScrollBar)\n                    this._vtScrollBar.node.active = false;\n                if (this._hzScrollBar)\n                    this._hzScrollBar.node.active = false;\n\n                o.on(FUIEvent.ROLL_OVER, this.onRollOver, this);\n                o.on(FUIEvent.ROLL_OUT, this.onRollOut, this);\n            }\n        }\n\n        if (headerRes) {\n            this._header = <GComponent>(UIPackage.createObjectFromURL(headerRes));\n            if (this._header == null)\n                throw \"cannot create scrollPane header from \" + headerRes;\n            else\n                this._maskContainer.insertChild(this._header.node, 0);\n        }\n\n        if (footerRes) {\n            this._footer = <GComponent><any>(UIPackage.createObjectFromURL(footerRes));\n            if (this._footer == null)\n                throw \"cannot create scrollPane footer from \" + footerRes;\n            else\n                this._maskContainer.insertChild(this._footer.node, 0);\n        }\n\n        this._refreshBarAxis = (this._scrollType == ScrollType.Both || this._scrollType == ScrollType.Vertical) ? \"y\" : \"x\";\n\n        this.setSize(o.width, o.height);\n    }\n\n    protected onDestroy(): void {\n        delete this._pageController;\n\n        if (this._hzScrollBar)\n            this._hzScrollBar.dispose();\n        if (this._vtScrollBar)\n            this._vtScrollBar.dispose();\n        if (this._header)\n            this._header.dispose();\n        if (this._footer)\n            this._footer.dispose();\n    }\n\n    public hitTest(pt: Vec2, globalPt: Vec2): GObject {\n        let target: GObject;\n        if (this._vtScrollBar) {\n            target = this._vtScrollBar.hitTest(globalPt);\n            if (target)\n                return target;\n        }\n        if (this._hzScrollBar) {\n            target = this._hzScrollBar.hitTest(globalPt);\n            if (target)\n                return target;\n        }\n        if (this._header && this._header.node.activeInHierarchy) {\n            target = this._header.hitTest(globalPt);\n            if (target)\n                return target;\n        }\n        if (this._footer && this._footer.node.activeInHierarchy) {\n            target = this._footer.hitTest(globalPt);\n            if (target)\n                return target;\n        }\n\n        if (pt.x >= this._owner.margin.left && pt.y >= this._owner.margin.top\n            && pt.x < this._owner.margin.left + this._viewSize.x && pt.y < this._owner.margin.top + this._viewSize.y)\n            return this._owner;\n        else\n            return null;\n    }\n\n    public get owner(): GComponent {\n        return this._owner;\n    }\n\n    public get hzScrollBar(): GScrollBar {\n        return this._hzScrollBar;\n    }\n\n    public get vtScrollBar(): GScrollBar {\n        return this._vtScrollBar;\n    }\n\n    public get header(): GComponent {\n        return this._header;\n    }\n\n    public get footer(): GComponent {\n        return this._footer;\n    }\n\n    public get bouncebackEffect(): boolean {\n        return this._bouncebackEffect;\n    }\n\n    public set bouncebackEffect(sc: boolean) {\n        this._bouncebackEffect = sc;\n    }\n\n    public get touchEffect(): boolean {\n        return this._touchEffect;\n    }\n\n    public set touchEffect(sc: boolean) {\n        this._touchEffect = sc;\n    }\n\n    public set scrollStep(val: number) {\n        this._scrollStep = val;\n        if (this._scrollStep == 0)\n            this._scrollStep = UIConfig.defaultScrollStep;\n        this._mouseWheelStep = this._scrollStep * 2;\n    }\n\n    public get decelerationRate(): number {\n        return this._decelerationRate;\n    }\n\n    public set decelerationRate(val: number) {\n        this._decelerationRate = val;\n    }\n\n    public get scrollStep(): number {\n        return this._scrollStep;\n    }\n\n    public get snapToItem(): boolean {\n        return this._snapToItem;\n    }\n\n    public set snapToItem(value: boolean) {\n        this._snapToItem = value;\n    }\n\n    public get snappingPolicy(): number {\n        return this._snappingPolicy;\n    }\n\n    public set snappingPolicy(value: number) {\n        this._snappingPolicy = value;\n    }\n\n    public get mouseWheelEnabled(): boolean {\n        return this._mouseWheelEnabled;\n    }\n\n    public set mouseWheelEnabled(value: boolean) {\n        this._mouseWheelEnabled = value;\n    }\n\n    public get isDragged(): boolean {\n        return this._dragged;\n    }\n\n    public get percX(): number {\n        return this._overlapSize.x == 0 ? 0 : this._xPos / this._overlapSize.x;\n    }\n\n    public set percX(value: number) {\n        this.setPercX(value, false);\n    }\n\n    public setPercX(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        this.setPosX(this._overlapSize.x * math.clamp01(value), ani);\n    }\n\n    public get percY(): number {\n        return this._overlapSize.y == 0 ? 0 : this._yPos / this._overlapSize.y;\n    }\n\n    public set percY(value: number) {\n        this.setPercY(value, false);\n    }\n\n    public setPercY(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        this.setPosY(this._overlapSize.y * math.clamp01(value), ani);\n    }\n\n    public get posX(): number {\n        return this._xPos;\n    }\n\n    public set posX(value: number) {\n        this.setPosX(value, false);\n    }\n\n    public setPosX(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"x\");\n\n        value = math.clamp(value, 0, this._overlapSize.x);\n        if (value != this._xPos) {\n            this._xPos = value;\n            this.posChanged(ani);\n        }\n    }\n\n    public get posY(): number {\n        return this._yPos;\n    }\n\n    public set posY(value: number) {\n        this.setPosY(value, false);\n    }\n\n    public setPosY(value: number, ani?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n\n        if (this._loop == 1)\n            value = this.loopCheckingNewPos(value, \"y\");\n\n        value = math.clamp(value, 0, this._overlapSize.y);\n        if (value != this._yPos) {\n            this._yPos = value;\n            this.posChanged(ani);\n        }\n    }\n\n    public get contentWidth(): number {\n        return this._contentSize.x;\n    }\n\n    public get contentHeight(): number {\n        return this._contentSize.y;\n    }\n\n    public get viewWidth(): number {\n        return this._viewSize.x;\n    }\n\n    public set viewWidth(value: number) {\n        value = value + this._owner.margin.left + this._owner.margin.right;\n        if (this._vtScrollBar && !this._floating)\n            value += this._vtScrollBar.width;\n        this._owner.width = value;\n    }\n\n    public get viewHeight(): number {\n        return this._viewSize.y;\n    }\n\n    public set viewHeight(value: number) {\n        value = value + this._owner.margin.top + this._owner.margin.bottom;\n        if (this._hzScrollBar && !this._floating)\n            value += this._hzScrollBar.height;\n        this._owner.height = value;\n    }\n\n    public get currentPageX(): number {\n        if (!this._pageMode)\n            return 0;\n\n        var page: number = Math.floor(this._xPos / this._pageSize.x);\n        if (this._xPos - page * this._pageSize.x > this._pageSize.x * 0.5)\n            page++;\n\n        return page;\n    }\n\n    public set currentPageX(value: number) {\n        this.setCurrentPageX(value, false);\n    }\n\n    public get currentPageY(): number {\n        if (!this._pageMode)\n            return 0;\n\n        var page: number = Math.floor(this._yPos / this._pageSize.y);\n        if (this._yPos - page * this._pageSize.y > this._pageSize.y * 0.5)\n            page++;\n\n        return page;\n    }\n\n    public set currentPageY(value: number) {\n        this.setCurrentPageY(value, false);\n    }\n\n    public setCurrentPageX(value: number, ani?: boolean): void {\n        if (!this._pageMode)\n            return;\n\n        this._owner.ensureBoundsCorrect();\n\n        if (this._overlapSize.x > 0)\n            this.setPosX(value * this._pageSize.x, ani);\n    }\n\n    public setCurrentPageY(value: number, ani?: boolean): void {\n        if (!this._pageMode)\n            return;\n\n        this._owner.ensureBoundsCorrect();\n\n        if (this._overlapSize.y > 0)\n            this.setPosY(value * this._pageSize.y, ani);\n    }\n\n    public get isBottomMost(): boolean {\n        return this._yPos == this._overlapSize.y || this._overlapSize.y == 0;\n    }\n\n    public get isRightMost(): boolean {\n        return this._xPos == this._overlapSize.x || this._overlapSize.x == 0;\n    }\n\n    public get pageController(): Controller {\n        return this._pageController;\n    }\n\n    public set pageController(value: Controller) {\n        this._pageController = value;\n    }\n\n    public get scrollingPosX(): number {\n        return math.clamp(-this._container.position.x, 0, this._overlapSize.x);\n    }\n\n    public get scrollingPosY(): number {\n        return math.clamp(-(-this._container.position.y), 0, this._overlapSize.y);\n    }\n\n    public scrollTop(ani?: boolean): void {\n        this.setPercY(0, ani);\n    }\n\n    public scrollBottom(ani?: boolean): void {\n        this.setPercY(1, ani);\n    }\n\n    public scrollUp(ratio?: number, ani?: boolean): void {\n        if (ratio == undefined) ratio = 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos - this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos - this._scrollStep * ratio, ani);;\n    }\n\n    public scrollDown(ratio?: number, ani?: boolean): void {\n        if (ratio == undefined) ratio = 1;\n        if (this._pageMode)\n            this.setPosY(this._yPos + this._pageSize.y * ratio, ani);\n        else\n            this.setPosY(this._yPos + this._scrollStep * ratio, ani);\n    }\n\n    public scrollLeft(ratio?: number, ani?: boolean): void {\n        if (ratio == undefined) ratio = 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos - this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos - this._scrollStep * ratio, ani);\n    }\n\n    public scrollRight(ratio?: number, ani?: boolean): void {\n        if (ratio == undefined) ratio = 1;\n        if (this._pageMode)\n            this.setPosX(this._xPos + this._pageSize.x * ratio, ani);\n        else\n            this.setPosX(this._xPos + this._scrollStep * ratio, ani);\n    }\n\n    public scrollToView(target: any, ani?: boolean, setFirst?: boolean): void {\n        this._owner.ensureBoundsCorrect();\n        if (this._needRefresh)\n            this.refresh();\n\n        var rect: Rect;\n        if (target instanceof GObject) {\n            if (target.parent != this._owner) {\n                target.parent.localToGlobalRect(target.x, target.y,\n                    target.width, target.height, s_rect);\n                rect = this._owner.globalToLocalRect(s_rect.x, s_rect.y,\n                    s_rect.width, s_rect.height, s_rect);\n            }\n            else {\n                rect = s_rect;\n                rect.x = target.x;\n                rect.y = target.y;\n                rect.width = target.width;\n                rect.height = target.height;\n            }\n        }\n        else\n            rect = <Rect>target;\n\n        if (this._overlapSize.y > 0) {\n            var bottom: number = this._yPos + this._viewSize.y;\n            if (setFirst || rect.y <= this._yPos || rect.height >= this._viewSize.y) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else\n                    this.setPosY(rect.y, ani);\n            }\n            else if (rect.y + rect.height > bottom) {\n                if (this._pageMode)\n                    this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                else if (rect.height <= this._viewSize.y / 2)\n                    this.setPosY(rect.y + rect.height * 2 - this._viewSize.y, ani);\n                else\n                    this.setPosY(rect.y + rect.height - this._viewSize.y, ani);\n            }\n        }\n        if (this._overlapSize.x > 0) {\n            var right: number = this._xPos + this._viewSize.x;\n            if (setFirst || rect.x <= this._xPos || rect.width >= this._viewSize.x) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else\n                    this.setPosX(rect.x, ani);\n            }\n            else if (rect.x + rect.width > right) {\n                if (this._pageMode)\n                    this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                else if (rect.width <= this._viewSize.x / 2)\n                    this.setPosX(rect.x + rect.width * 2 - this._viewSize.x, ani);\n                else\n                    this.setPosX(rect.x + rect.width - this._viewSize.x, ani);\n            }\n        }\n\n        if (!ani && this._needRefresh)\n            this.refresh();\n    }\n\n    public isChildInView(obj: GObject): boolean {\n        if (this._overlapSize.y > 0) {\n            var dist: number = obj.y + (-this._container.position.y);\n            if (dist < -obj.height || dist > this._viewSize.y)\n                return false;\n        }\n\n        if (this._overlapSize.x > 0) {\n            dist = obj.x + this._container.position.x;\n            if (dist < -obj.width || dist > this._viewSize.x)\n                return false;\n        }\n\n        return true;\n    }\n\n    public cancelDragging(): void {\n        if (ScrollPane.draggingPane == this)\n            ScrollPane.draggingPane = null;\n\n        _gestureFlag = 0;\n        this._dragged = false;\n    }\n\n    public lockHeader(size: number): void {\n        if (this._headerLockedSize == size)\n            return;\n\n        let cx: number = this._container.position.x;\n        let cy: number = -this._container.position.y;\n        let cr: number = this._refreshBarAxis == \"x\" ? cx : cy;\n\n        this._headerLockedSize = size;\n\n        if (!this._refreshEventDispatching && cr >= 0) {\n            this._tweenStart.x = cx;\n            this._tweenStart.y = cy;\n            this._tweenChange.set(Vec2.ZERO);\n            this._tweenChange[this._refreshBarAxis] = this._headerLockedSize - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.x = this._tweenDuration.y = TWEEN_TIME_DEFAULT;\n            this.startTween(2);\n        }\n    }\n\n    public lockFooter(size: number): void {\n        if (this._footerLockedSize == size)\n            return;\n\n        let cx: number = this._container.position.x;\n        let cy: number = -this._container.position.y;\n        let cr: number = this._refreshBarAxis == \"x\" ? cx : cy;\n\n        this._footerLockedSize = size;\n\n        if (!this._refreshEventDispatching && cr <= -this._overlapSize[this._refreshBarAxis]) {\n            this._tweenStart.x = cx;\n            this._tweenStart.y = cy;\n            this._tweenChange.set(Vec2.ZERO);\n            var max: number = this._overlapSize[this._refreshBarAxis];\n            if (max == 0)\n                max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n            else\n                max += this._footerLockedSize;\n            this._tweenChange[this._refreshBarAxis] = -max - this._tweenStart[this._refreshBarAxis];\n            this._tweenDuration.x = this._tweenDuration.y = TWEEN_TIME_DEFAULT;\n            this.startTween(2);\n        }\n    }\n\n    public onOwnerSizeChanged(): void {\n        this.setSize(this._owner.width, this._owner.height);\n        this.posChanged(false);\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        if (this._pageController == c) {\n            if (this._scrollType == ScrollType.Horizontal)\n                this.setCurrentPageX(c.selectedIndex, true);\n            else\n                this.setCurrentPageY(c.selectedIndex, true);\n        }\n    }\n\n    private updatePageController(): void {\n        if (this._pageController && !this._pageController.changing) {\n            var index: number;\n            if (this._scrollType == ScrollType.Horizontal)\n                index = this.currentPageX;\n            else\n                index = this.currentPageY;\n            if (index < this._pageController.pageCount) {\n                var c: Controller = this._pageController;\n                this._pageController = null; //防止HandleControllerChanged的调用\n                c.selectedIndex = index;\n                this._pageController = c;\n            }\n        }\n    }\n\n    public adjustMaskContainer(): void {\n        var mx: number = 0;\n        if (this._displayOnLeft && this._vtScrollBar && !this._floating)\n            mx = this._vtScrollBar.width;\n\n        const o = this._owner;\n\n        if (this._dontClipMargin)\n            this._maskContainer._uiProps.uiTransformComp.setAnchorPoint((o.margin.left + o._alignOffset.x) / o.width,\n                1 - (o.margin.top + o._alignOffset.y) / o.height);\n        else\n            this._maskContainer._uiProps.uiTransformComp.setAnchorPoint(o._alignOffset.x / this._viewSize.x, 1 - o._alignOffset.y / this._viewSize.y);\n\n        if (o._customMask)\n            this._maskContainer.setPosition(mx + o._alignOffset.x, -o._alignOffset.y);\n        else\n            this._maskContainer.setPosition(o._pivotCorrectX + mx + o._alignOffset.x, o._pivotCorrectY - o._alignOffset.y);\n    }\n\n    public setSize(aWidth: number, aHeight: number): void {\n        if (this._hzScrollBar) {\n            this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\n            if (this._vtScrollBar) {\n                this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                if (this._displayOnLeft)\n                    this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\n                else\n                    this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n            else {\n                this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                this._hzScrollBar.x = this._scrollBarMargin.left;\n            }\n        }\n        if (this._vtScrollBar) {\n            if (!this._displayOnLeft)\n                this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\n            if (this._hzScrollBar)\n                this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            else\n                this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n            this._vtScrollBar.y = this._scrollBarMargin.top;\n        }\n\n        this._viewSize.x = aWidth;\n        this._viewSize.y = aHeight;\n        if (this._hzScrollBar && !this._floating)\n            this._viewSize.y -= this._hzScrollBar.height;\n        if (this._vtScrollBar && !this._floating)\n            this._viewSize.x -= this._vtScrollBar.width;\n        this._viewSize.x -= (this._owner.margin.left + this._owner.margin.right);\n        this._viewSize.y -= (this._owner.margin.top + this._owner.margin.bottom);\n\n        this._viewSize.x = Math.max(1, this._viewSize.x);\n        this._viewSize.y = Math.max(1, this._viewSize.y);\n        this._pageSize.x = this._viewSize.x;\n        this._pageSize.y = this._viewSize.y;\n\n        this.adjustMaskContainer();\n        this.handleSizeChanged();\n    }\n\n    public setContentSize(aWidth: number, aHeight: number): void {\n        if (this._contentSize.x == aWidth && this._contentSize.y == aHeight)\n            return;\n\n        this._contentSize.x = aWidth;\n        this._contentSize.y = aHeight;\n        this.handleSizeChanged();\n\n        if (this._snapToItem && this._snappingPolicy != 0 && this._xPos == 0 && this._yPos == 0)\n            this.posChanged(false);\n    }\n\n    public changeContentSizeOnScrolling(deltaWidth: number, deltaHeight: number,\n        deltaPosX: number, deltaPosY: number): void {\n        var isRightmost: boolean = this._xPos == this._overlapSize.x;\n        var isBottom: boolean = this._yPos == this._overlapSize.y;\n\n        this._contentSize.x += deltaWidth;\n        this._contentSize.y += deltaHeight;\n        this.handleSizeChanged();\n\n        if (this._tweening == 1) {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost && this._tweenChange.x < 0) {\n                this._xPos = this._overlapSize.x;\n                this._tweenChange.x = -this._xPos - this._tweenStart.x;\n            }\n\n            if (deltaHeight != 0 && isBottom && this._tweenChange.y < 0) {\n                this._yPos = this._overlapSize.y;\n                this._tweenChange.y = -this._yPos - this._tweenStart.y;\n            }\n        }\n        else if (this._tweening == 2) {\n            //重新调整起始位置，确保能够顺滑滚下去\n            if (deltaPosX != 0) {\n                this._container.setPosition(this._container.position.x - deltaPosX, this._container.position.y);\n                this._tweenStart.x -= deltaPosX;\n                this._xPos = -this._container.position.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.setPosition(this._container.position.x, this._container.position.y + deltaPosY);\n                this._tweenStart.y -= deltaPosY;\n                this._yPos = -(-this._container.position.y);\n            }\n        }\n        else if (this._dragged) {\n            if (deltaPosX != 0) {\n                this._container.setPosition(this._container.position.x - deltaPosX, this._container.position.y);\n                this._containerPos.x -= deltaPosX;\n                this._xPos = -this._container.position.x;\n            }\n            if (deltaPosY != 0) {\n                this._container.setPosition(this._container.position.x, this._container.position.y + deltaPosY);\n                this._containerPos.y -= deltaPosY;\n                this._yPos = -(-this._container.position.y);\n            }\n        }\n        else {\n            //如果原来滚动位置是贴边，加入处理继续贴边。\n            if (deltaWidth != 0 && isRightmost) {\n                this._xPos = this._overlapSize.x;\n                this._container.setPosition(-this._xPos, this._container.position.y);\n            }\n\n            if (deltaHeight != 0 && isBottom) {\n                this._yPos = this._overlapSize.y;\n                this._container.setPosition(this._container.position.x, this._yPos);\n            }\n        }\n\n        if (this._pageMode)\n            this.updatePageController();\n    }\n\n    private handleSizeChanged(): void {\n        if (this._displayInDemand) {\n            this._vScrollNone = this._contentSize.y <= this._viewSize.y;\n            this._hScrollNone = this._contentSize.x <= this._viewSize.x;\n        }\n\n        if (this._vtScrollBar) {\n            if (this._contentSize.y == 0)\n                this._vtScrollBar.setDisplayPerc(0);\n            else\n                this._vtScrollBar.setDisplayPerc(Math.min(1, this._viewSize.y / this._contentSize.y));\n        }\n        if (this._hzScrollBar) {\n            if (this._contentSize.x == 0)\n                this._hzScrollBar.setDisplayPerc(0);\n            else\n                this._hzScrollBar.setDisplayPerc(Math.min(1, this._viewSize.x / this._contentSize.x));\n        }\n\n        this.updateScrollBarVisible();\n\n        var maskWidth: number = this._viewSize.x;\n        var maskHeight: number = this._viewSize.y;\n        if (this._vScrollNone && this._vtScrollBar)\n            maskWidth += this._vtScrollBar.width;\n        if (this._hScrollNone && this._hzScrollBar)\n            maskHeight += this._hzScrollBar.height;\n        if (this._dontClipMargin) {\n            maskWidth += (this._owner.margin.left + this._owner.margin.right);\n            maskHeight += (this._owner.margin.top + this._owner.margin.bottom);\n        }\n        this._maskContainer._uiProps.uiTransformComp.setContentSize(maskWidth, maskHeight);\n\n        if (this._vtScrollBar)\n            this._vtScrollBar.handlePositionChanged();\n        if (this._hzScrollBar)\n            this._hzScrollBar.handlePositionChanged();\n        if (this._header)\n            this._header.handlePositionChanged();\n        if (this._footer)\n            this._footer.handlePositionChanged();\n\n        if (this._scrollType == ScrollType.Horizontal || this._scrollType == ScrollType.Both)\n            this._overlapSize.x = Math.ceil(Math.max(0, this._contentSize.x - this._viewSize.x));\n        else\n            this._overlapSize.x = 0;\n        if (this._scrollType == ScrollType.Vertical || this._scrollType == ScrollType.Both)\n            this._overlapSize.y = Math.ceil(Math.max(0, this._contentSize.y - this._viewSize.y));\n        else\n            this._overlapSize.y = 0;\n\n        //边界检查\n        this._xPos = math.clamp(this._xPos, 0, this._overlapSize.x);\n        this._yPos = math.clamp(this._yPos, 0, this._overlapSize.y);\n\n        var max: number = this._overlapSize[this._refreshBarAxis];\n        if (max == 0)\n            max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n        else\n            max += this._footerLockedSize;\n\n        if (this._refreshBarAxis == \"x\")\n            this._container.setPosition(math.clamp(this._container.position.x, -max, this._headerLockedSize),\n                -math.clamp((-this._container.position.y), -this._overlapSize.y, 0));\n        else\n            this._container.setPosition(math.clamp(this._container.position.x, -this._overlapSize.x, 0),\n                -math.clamp((-this._container.position.y), -max, this._headerLockedSize));\n\n        if (this._header) {\n            if (this._refreshBarAxis == \"x\")\n                this._header.height = this._viewSize.y;\n            else\n                this._header.width = this._viewSize.x;\n        }\n\n        if (this._footer) {\n            if (this._refreshBarAxis == \"y\")\n                this._footer.height = this._viewSize.y;\n            else\n                this._footer.width = this._viewSize.x;\n        }\n\n        this.updateScrollBarPos();\n        if (this._pageMode)\n            this.updatePageController();\n    }\n\n    private posChanged(ani: boolean): void {\n        if (this._aniFlag == 0)\n            this._aniFlag = ani ? 1 : -1;\n        else if (this._aniFlag == 1 && !ani)\n            this._aniFlag = -1;\n\n        this._needRefresh = true;\n        if (!director.getScheduler().isScheduled(this.refresh, this))\n            this.scheduleOnce(this.refresh);\n    }\n\n    private refresh(dt?: number): void {\n        this._needRefresh = false;\n        this.unschedule(this.refresh);\n\n        if (this._pageMode || this._snapToItem) {\n            sEndPos.x = -this._xPos;\n            sEndPos.y = -this._yPos;\n            this.alignPosition(sEndPos, false);\n            this._xPos = -sEndPos.x;\n            this._yPos = -sEndPos.y;\n        }\n\n        this.refresh2();\n\n        this._owner.node.emit(FUIEvent.SCROLL, this._owner);\n        if (this._needRefresh) //在onScroll事件里开发者可能修改位置，这里再刷新一次，避免闪烁\n        {\n            this._needRefresh = false;\n            this.unschedule(this.refresh);\n\n            this.refresh2();\n        }\n\n        this.updateScrollBarPos();\n        this._aniFlag = 0;\n    }\n\n    private refresh2() {\n        if (this._aniFlag == 1 && !this._dragged) {\n            var posX: number;\n            var posY: number;\n\n            if (this._overlapSize.x > 0)\n                posX = -Math.floor(this._xPos);\n            else {\n                if (this._container.position.x != 0)\n                    this._container.setPosition(0, this._container.position.y);\n                posX = 0;\n            }\n            if (this._overlapSize.y > 0)\n                posY = -Math.floor(this._yPos);\n            else {\n                if (this._container.position.y != 0)\n                    this._container.setPosition(this._container.position.x, 0);\n                posY = 0;\n            }\n\n            if (posX != this._container.position.x || posY != (-this._container.position.y)) {\n                this._tweenDuration.x = this._tweenDuration.y = TWEEN_TIME_GO;\n                this._tweenStart.x = this._container.position.x;\n                this._tweenStart.y = (-this._container.position.y);\n                this._tweenChange.x = posX - this._tweenStart.x;\n                this._tweenChange.y = posY - this._tweenStart.y;\n                this.startTween(1);\n            }\n            else if (this._tweening != 0)\n                this.killTween();\n        }\n        else {\n            if (this._tweening != 0)\n                this.killTween();\n\n            this._container.setPosition(Math.floor(-this._xPos), -Math.floor(-this._yPos));\n\n            this.loopCheckingCurrent();\n        }\n\n        if (this._pageMode)\n            this.updatePageController();\n    }\n\n    private onTouchBegin(evt: FUIEvent): void {\n        if (!this._touchEffect)\n            return;\n\n        evt.captureTouch();\n\n        if (this._tweening != 0) {\n            this.killTween();\n            Decls.GRoot.inst.inputProcessor.cancelClick(evt.touchId);\n            this._dragged = true;\n        }\n        else\n            this._dragged = false;\n\n        var pt: Vec2 = this._owner.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n\n        this._containerPos.x = this._container.position.x;\n        this._containerPos.y = -this._container.position.y;\n        this._beginTouchPos.set(pt);\n        this._lastTouchPos.set(pt);\n        this._lastTouchGlobalPos.set(evt.pos);\n        this._isHoldAreaDone = false;\n        this._velocity.set(Vec2.ZERO);;\n        this._velocityScale = 1;\n        this._lastMoveTime = director.getTotalTime() / 1000;\n    }\n\n    private onTouchMove(evt: FUIEvent): void {\n        if (!isValid(this._owner.node))\n            return;\n\n        if (!this._touchEffect)\n            return;\n\n        if (GObject.draggingObject && GObject.draggingObject.onStage)\n            return;\n\n        if (ScrollPane.draggingPane && ScrollPane.draggingPane != this && ScrollPane.draggingPane._owner.onStage)\n            return;\n\n        var pt: Vec2 = this._owner.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n\n        var sensitivity: number = UIConfig.touchScrollSensitivity;\n        var diff: number, diff2: number;\n        var sv: boolean, sh: boolean, st: boolean;\n\n        if (this._scrollType == ScrollType.Vertical) {\n            if (!this._isHoldAreaDone) {\n                //表示正在监测垂直方向的手势\n                _gestureFlag |= 1;\n\n                diff = Math.abs(this._beginTouchPos.y - pt.y);\n                if (diff < sensitivity)\n                    return;\n\n                if ((_gestureFlag & 2) != 0) //已经有水平方向的手势在监测，那么我们用严格的方式检查是不是按垂直方向移动，避免冲突\n                {\n                    diff2 = Math.abs(this._beginTouchPos.x - pt.x);\n                    if (diff < diff2) //不通过则不允许滚动了\n                        return;\n                }\n            }\n\n            sv = true;\n        }\n        else if (this._scrollType == ScrollType.Horizontal) {\n            if (!this._isHoldAreaDone) {\n                _gestureFlag |= 2;\n\n                diff = Math.abs(this._beginTouchPos.x - pt.x);\n                if (diff < sensitivity)\n                    return;\n\n                if ((_gestureFlag & 1) != 0) {\n                    diff2 = Math.abs(this._beginTouchPos.y - pt.y);\n                    if (diff < diff2)\n                        return;\n                }\n            }\n\n            sh = true;\n        }\n        else {\n            _gestureFlag = 3;\n\n            if (!this._isHoldAreaDone) {\n                diff = Math.abs(this._beginTouchPos.y - pt.y);\n                if (diff < sensitivity) {\n                    diff = Math.abs(this._beginTouchPos.x - pt.x);\n                    if (diff < sensitivity)\n                        return;\n                }\n            }\n\n            sv = sh = true;\n        }\n\n        var newPosX: number = Math.floor(this._containerPos.x + pt.x - this._beginTouchPos.x);\n        var newPosY: number = Math.floor(this._containerPos.y + pt.y - this._beginTouchPos.y);\n\n        if (sv) {\n            if (newPosY > 0) {\n                if (!this._bouncebackEffect)\n                    this._container.setPosition(this._container.position.x, 0);\n                else if (this._header && this._header.maxHeight != 0)\n                    this._container.setPosition(this._container.position.x, this._container.position.y - Math.floor(Math.min(newPosY * 0.5, this._header.maxHeight)));\n                else\n                    this._container.setPosition(this._container.position.x, this._container.position.y - Math.floor(Math.min(newPosY * 0.5, this._viewSize.y * PULL_RATIO)));\n            }\n            else if (newPosY < -this._overlapSize.y) {\n                if (!this._bouncebackEffect)\n                    this._container.setPosition(this._container.position.x, this._overlapSize.y);\n                else if (this._footer && this._footer.maxHeight > 0)\n                    this._container.setPosition(this._container.position.x, this._container.position.y - Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._footer.maxHeight) - this._overlapSize.y));\n                else\n                    this._container.setPosition(this._container.position.x, this._container.position.y - Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._viewSize.y * PULL_RATIO) - this._overlapSize.y));\n            }\n            else\n                this._container.setPosition(this._container.position.x, this._container.position.y - newPosY);\n        }\n\n        if (sh) {\n            if (newPosX > 0) {\n                if (!this._bouncebackEffect)\n                    this._container.setPosition(0, this._container.position.y);\n                else if (this._header && this._header.maxWidth != 0)\n                    this._container.setPosition(Math.floor(Math.min(newPosX * 0.5, this._header.maxWidth)), this._container.position.y);\n                else\n                    this._container.setPosition(Math.floor(Math.min(newPosX * 0.5, this._viewSize.x * PULL_RATIO)), this._container.position.y);\n            }\n            else if (newPosX < 0 - this._overlapSize.x) {\n                if (!this._bouncebackEffect)\n                    this._container.setPosition(-this._overlapSize.x, this._container.position.y);\n                else if (this._footer && this._footer.maxWidth > 0)\n                    this._container.setPosition(Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._footer.maxWidth) - this._overlapSize.x), this._container.position.y);\n                else\n                    this._container.setPosition(Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._viewSize.x * PULL_RATIO) - this._overlapSize.x), this._container.position.y);\n            }\n            else\n                this._container.setPosition(newPosX, this._container.position.y);\n        }\n\n\n        //更新速度\n        var now: number = director.getTotalTime() / 1000;\n        var deltaTime: number = Math.max(now - this._lastMoveTime, 1 / 60);\n        var deltaPositionX: number = pt.x - this._lastTouchPos.x;\n        var deltaPositionY: number = pt.y - this._lastTouchPos.y;\n        if (!sh)\n            deltaPositionX = 0;\n        if (!sv)\n            deltaPositionY = 0;\n        if (deltaTime != 0) {\n            var frameRate: number = 60;\n            var elapsed: number = deltaTime * frameRate - 1;\n            if (elapsed > 1) //速度衰减\n            {\n                var factor: number = Math.pow(0.833, elapsed);\n                this._velocity.x = this._velocity.x * factor;\n                this._velocity.y = this._velocity.y * factor;\n            }\n            this._velocity.x = math.lerp(this._velocity.x, deltaPositionX * 60 / frameRate / deltaTime, deltaTime * 10);\n            this._velocity.y = math.lerp(this._velocity.y, deltaPositionY * 60 / frameRate / deltaTime, deltaTime * 10);\n        }\n\n        /*速度计算使用的是本地位移，但在后续的惯性滚动判断中需要用到屏幕位移，所以这里要记录一个位移的比例。\n        */\n        var deltaGlobalPositionX: number = this._lastTouchGlobalPos.x - evt.pos.x;\n        var deltaGlobalPositionY: number = this._lastTouchGlobalPos.y - evt.pos.y;\n        if (deltaPositionX != 0)\n            this._velocityScale = Math.abs(deltaGlobalPositionX / deltaPositionX);\n        else if (deltaPositionY != 0)\n            this._velocityScale = Math.abs(deltaGlobalPositionY / deltaPositionY);\n\n        this._lastTouchPos.set(pt);\n        this._lastTouchGlobalPos.x = evt.pos.x;\n        this._lastTouchGlobalPos.y = evt.pos.y;\n        this._lastMoveTime = now;\n\n        //同步更新pos值\n        if (this._overlapSize.x > 0)\n            this._xPos = math.clamp(-this._container.position.x, 0, this._overlapSize.x);\n        if (this._overlapSize.y > 0)\n            this._yPos = math.clamp(-(-this._container.position.y), 0, this._overlapSize.y);\n\n        //循环滚动特别检查\n        if (this._loop != 0) {\n            newPosX = this._container.position.x;\n            newPosY = (-this._container.position.y);\n            if (this.loopCheckingCurrent()) {\n                this._containerPos.x += this._container.position.x - newPosX;\n                this._containerPos.y += (-this._container.position.y) - newPosY;\n            }\n        }\n\n        ScrollPane.draggingPane = this;\n        this._isHoldAreaDone = true;\n        this._dragged = true;\n\n        this.updateScrollBarPos();\n        this.updateScrollBarVisible();\n        if (this._pageMode)\n            this.updatePageController();\n\n        this._owner.node.emit(FUIEvent.SCROLL), this._owner;\n    }\n\n    private onTouchEnd(evt: FUIEvent): void {\n        if (ScrollPane.draggingPane == this)\n            ScrollPane.draggingPane = null;\n\n        _gestureFlag = 0;\n\n        if (!this._dragged || !this._touchEffect || !this._owner.node.activeInHierarchy) {\n            this._dragged = false;\n            return;\n        }\n\n        this._dragged = false;\n\n        this._tweenStart.x = this._container.position.x;\n        this._tweenStart.y = -this._container.position.y;\n\n        sEndPos.set(this._tweenStart);\n        var flag: boolean = false;\n        if (this._container.position.x > 0) {\n            sEndPos.x = 0;\n            flag = true;\n        }\n        else if (this._container.position.x < -this._overlapSize.x) {\n            sEndPos.x = -this._overlapSize.x;\n            flag = true;\n        }\n        if ((-this._container.position.y) > 0) {\n            sEndPos.y = 0;\n            flag = true;\n        }\n        else if ((-this._container.position.y) < -this._overlapSize.y) {\n            sEndPos.y = -this._overlapSize.y;\n            flag = true;\n        }\n        if (flag) {\n            this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n            this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n            if (this._tweenChange.x < -UIConfig.touchDragSensitivity || this._tweenChange.y < -UIConfig.touchDragSensitivity) {\n                this._refreshEventDispatching = true;\n                this._owner.node.emit(FUIEvent.PULL_DOWN_RELEASE), this._owner;\n                this._refreshEventDispatching = false;\n            }\n            else if (this._tweenChange.x > UIConfig.touchDragSensitivity || this._tweenChange.y > UIConfig.touchDragSensitivity) {\n                this._refreshEventDispatching = true;\n                this._owner.node.emit(FUIEvent.PULL_UP_RELEASE, this._owner);\n                this._refreshEventDispatching = false;\n            }\n\n            if (this._headerLockedSize > 0 && sEndPos[this._refreshBarAxis] == 0) {\n                sEndPos[this._refreshBarAxis] = this._headerLockedSize;\n                this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n                this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n            }\n            else if (this._footerLockedSize > 0 && sEndPos[this._refreshBarAxis] == -this._overlapSize[this._refreshBarAxis]) {\n                var max: number = this._overlapSize[this._refreshBarAxis];\n                if (max == 0)\n                    max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                else\n                    max += this._footerLockedSize;\n                sEndPos[this._refreshBarAxis] = -max;\n                this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n                this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n            }\n\n            this._tweenDuration.x = this._tweenDuration.y = TWEEN_TIME_DEFAULT;\n        }\n        else {\n            //更新速度\n            if (!this._inertiaDisabled) {\n                var frameRate: number = 60;\n                var elapsed: number = (director.getTotalTime() / 1000 - this._lastMoveTime) * frameRate - 1;\n                if (elapsed > 1) {\n                    var factor: number = Math.pow(0.833, elapsed);\n                    this._velocity.x = this._velocity.x * factor;\n                    this._velocity.y = this._velocity.y * factor;\n                }\n                //根据速度计算目标位置和需要时间\n                this.updateTargetAndDuration(this._tweenStart, sEndPos);\n            }\n            else\n                this._tweenDuration.x = this._tweenDuration.y = TWEEN_TIME_DEFAULT;\n            sOldChange.x = sEndPos.x - this._tweenStart.x;\n            sOldChange.y = sEndPos.y - this._tweenStart.y;\n\n            //调整目标位置\n            this.loopCheckingTarget(sEndPos);\n            if (this._pageMode || this._snapToItem)\n                this.alignPosition(sEndPos, true);\n\n            this._tweenChange.x = sEndPos.x - this._tweenStart.x;\n            this._tweenChange.y = sEndPos.y - this._tweenStart.y;\n            if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n                this.updateScrollBarVisible();\n                return;\n            }\n\n            //如果目标位置已调整，随之调整需要时间\n            if (this._pageMode || this._snapToItem) {\n                this.fixDuration(\"x\", sOldChange.x);\n                this.fixDuration(\"y\", sOldChange.y);\n            }\n        }\n\n        this.startTween(2);\n    }\n\n    private onRollOver(): void {\n        this._hover = true;\n        this.updateScrollBarVisible();\n    }\n\n    private onRollOut(): void {\n        this._hover = false;\n        this.updateScrollBarVisible();\n    }\n\n    private onMouseWheel(evt: FUIEvent) {\n        if (!this._mouseWheelEnabled)\n            return;\n\n        let delta = evt.mouseWheelDelta > 0 ? -1 : 1;\n        if (this._overlapSize.x > 0 && this._overlapSize.y == 0) {\n            if (this._pageMode)\n                this.setPosX(this._xPos + this._pageSize.x * delta, false);\n            else\n                this.setPosX(this._xPos + this._mouseWheelStep * delta, false);\n        }\n        else {\n            if (this._pageMode)\n                this.setPosY(this._yPos + this._pageSize.y * delta, false);\n            else\n                this.setPosY(this._yPos + this._mouseWheelStep * delta, false);\n        }\n    }\n\n    private updateScrollBarPos(): void {\n        if (this._vtScrollBar)\n            this._vtScrollBar.setScrollPerc(this._overlapSize.y == 0 ? 0 : math.clamp(this._container.position.y, 0, this._overlapSize.y) / this._overlapSize.y);\n\n        if (this._hzScrollBar)\n            this._hzScrollBar.setScrollPerc(this._overlapSize.x == 0 ? 0 : math.clamp(-this._container.position.x, 0, this._overlapSize.x) / this._overlapSize.x);\n\n        this.checkRefreshBar();\n    }\n\n    public updateScrollBarVisible(): void {\n        if (this._vtScrollBar) {\n            if (this._viewSize.y <= this._vtScrollBar.minSize || this._vScrollNone)\n                this._vtScrollBar.node.active = false;\n            else\n                this.updateScrollBarVisible2(this._vtScrollBar);\n        }\n\n        if (this._hzScrollBar) {\n            if (this._viewSize.x <= this._hzScrollBar.minSize || this._hScrollNone)\n                this._hzScrollBar.node.active = false;\n            else\n                this.updateScrollBarVisible2(this._hzScrollBar);\n        }\n    }\n\n    private updateScrollBarVisible2(bar: GScrollBar): void {\n        if (this._scrollBarDisplayAuto)\n            GTween.kill(bar, false, \"alpha\");\n\n        if (this._scrollBarDisplayAuto && !this._hover && this._tweening == 0 && !this._dragged && !bar.gripDragging) {\n            if (bar.node.active)\n                GTween.to(1, 0, 0.5).setDelay(0.5).onComplete(this.__barTweenComplete, this).setTarget(bar, \"alpha\");\n        }\n        else {\n            bar.alpha = 1;\n            bar.node.active = true;\n        }\n    }\n\n    private __barTweenComplete(tweener: GTweener): void {\n        var bar: GObject = <GObject>(tweener.target);\n        bar.alpha = 1;\n        bar.node.active = false;\n    }\n\n    private getLoopPartSize(division: number, axis: AxisType): number {\n        return (this._contentSize[axis] + (axis == \"x\" ? (<GList><any>this._owner).columnGap : (<GList><any>this._owner).lineGap)) / division;\n    }\n\n    private loopCheckingCurrent(): boolean {\n        var changed: boolean = false;\n        if (this._loop == 1 && this._overlapSize.x > 0) {\n            if (this._xPos < 0.001) {\n                this._xPos += this.getLoopPartSize(2, \"x\");\n                changed = true;\n            }\n            else if (this._xPos >= this._overlapSize.x) {\n                this._xPos -= this.getLoopPartSize(2, \"x\");\n                changed = true;\n            }\n        }\n        else if (this._loop == 2 && this._overlapSize.y > 0) {\n            if (this._yPos < 0.001) {\n                this._yPos += this.getLoopPartSize(2, \"y\");\n                changed = true;\n            }\n            else if (this._yPos >= this._overlapSize.y) {\n                this._yPos -= this.getLoopPartSize(2, \"y\");\n                changed = true;\n            }\n        }\n\n        if (changed) {\n            this._container.setPosition(Math.floor(-this._xPos), -Math.floor(-this._yPos));\n        }\n\n        return changed;\n    }\n\n    private loopCheckingTarget(endPos: Vec2): void {\n        if (this._loop == 1)\n            this.loopCheckingTarget2(endPos, \"x\");\n\n        if (this._loop == 2)\n            this.loopCheckingTarget2(endPos, \"y\");\n    }\n\n    private loopCheckingTarget2(endPos: Vec2, axis: AxisType): void {\n        var halfSize: number;\n        var tmp: number;\n        if (endPos[axis] > 0) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] - halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] -= halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n        else if (endPos[axis] < -this._overlapSize[axis]) {\n            halfSize = this.getLoopPartSize(2, axis);\n            tmp = this._tweenStart[axis] + halfSize;\n            if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                endPos[axis] += halfSize;\n                this._tweenStart[axis] = tmp;\n            }\n        }\n    }\n\n    private loopCheckingNewPos(value: number, axis: AxisType): number {\n        if (this._overlapSize[axis] == 0)\n            return value;\n\n        var pos: number = axis == \"x\" ? this._xPos : this._yPos;\n        var changed: boolean = false;\n        var v: number;\n        if (value < 0.001) {\n            value += this.getLoopPartSize(2, axis);\n            if (value > pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((value - pos) / v) * v;\n                pos = math.clamp(pos + v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n        else if (value >= this._overlapSize[axis]) {\n            value -= this.getLoopPartSize(2, axis);\n            if (value < pos) {\n                v = this.getLoopPartSize(6, axis);\n                v = Math.ceil((pos - value) / v) * v;\n                pos = math.clamp(pos - v, 0, this._overlapSize[axis]);\n                changed = true;\n            }\n        }\n\n        if (changed) {\n            if (axis == \"x\")\n                this._container.setPosition(-Math.floor(pos), this._container.position.y);\n            else\n                this._container.setPosition(this._container.position.x, Math.floor(pos));\n        }\n\n        return value;\n    }\n\n    private alignPosition(pos: Vec2, inertialScrolling: boolean): void {\n        let ax: number = 0, ay: number = 0;\n        if (this._snappingPolicy == 1) {\n            if (this._owner.numChildren > 0) {\n                //assume all children are same size\n                let obj = this._owner.getChildAt(0);\n                ax = Math.floor(this._viewSize.x * 0.5 - obj.width * 0.5);\n                ay = Math.floor(this._viewSize.y * 0.5 - obj.height * 0.5);\n            }\n        }\n        else if (this._snappingPolicy == 2) {\n            if (this._owner.numChildren > 0) {\n                //assume all children are same size\n                let obj = this._owner.getChildAt(0);\n                ax = Math.floor(this._viewSize.x - obj.width);\n                ay = Math.floor(this._viewSize.y - obj.height);\n            }\n        }\n\n        pos.x -= ax;\n        pos.y -= ay;\n        if (this._pageMode) {\n            pos.x = this.alignByPage(pos.x, \"x\", inertialScrolling);\n            pos.y = this.alignByPage(pos.y, \"y\", inertialScrolling);\n        }\n        else if (this._snapToItem) {\n            var pt: Vec2 = this._owner.getSnappingPosition(-pos.x, -pos.y, s_vec2);\n            if (pos.x < 0 && pos.x > -this._overlapSize.x)\n                pos.x = -pt.x;\n            if (pos.y < 0 && pos.y > -this._overlapSize.y)\n                pos.y = -pt.y;\n        }\n        pos.x += ax;\n        pos.y += ay;\n    }\n\n    private alignByPage(pos: number, axis: AxisType, inertialScrolling: boolean): number {\n        var page: number;\n\n        if (pos > 0)\n            page = 0;\n        else if (pos < -this._overlapSize[axis])\n            page = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n        else {\n            page = Math.floor(-pos / this._pageSize[axis]);\n            var change: number = inertialScrolling ? (pos - this._containerPos[axis]) : (pos - (axis == \"x\" ? this._container.position.x : (-this._container.position.y)));\n            var testPageSize: number = Math.min(this._pageSize[axis], this._contentSize[axis] - (page + 1) * this._pageSize[axis]);\n            var delta: number = -pos - page * this._pageSize[axis];\n\n            //页面吸附策略\n            if (Math.abs(change) > this._pageSize[axis])//如果滚动距离超过1页,则需要超过页面的一半，才能到更下一页\n            {\n                if (delta > testPageSize * 0.5)\n                    page++;\n            }\n            else //否则只需要页面的1/3，当然，需要考虑到左移和右移的情况\n            {\n                if (delta > testPageSize * (change < 0 ? 0.3 : 0.7))\n                    page++;\n            }\n\n            //重新计算终点\n            pos = -page * this._pageSize[axis];\n            if (pos < -this._overlapSize[axis]) //最后一页未必有pageSize那么大\n                pos = -this._overlapSize[axis];\n        }\n\n        //惯性滚动模式下，会增加判断尽量不要滚动超过一页\n        if (inertialScrolling) {\n            var oldPos: number = this._tweenStart[axis];\n            var oldPage: number;\n            if (oldPos > 0)\n                oldPage = 0;\n            else if (oldPos < -this._overlapSize[axis])\n                oldPage = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n            else\n                oldPage = Math.floor(-oldPos / this._pageSize[axis]);\n            var startPage: number = Math.floor(-this._containerPos[axis] / this._pageSize[axis]);\n            if (Math.abs(page - startPage) > 1 && Math.abs(oldPage - startPage) <= 1) {\n                if (page > startPage)\n                    page = startPage + 1;\n                else\n                    page = startPage - 1;\n                pos = -page * this._pageSize[axis];\n            }\n        }\n\n        return pos;\n    }\n\n    private updateTargetAndDuration(orignPos: Vec2, resultPos: Vec2): void {\n        resultPos.x = this.updateTargetAndDuration2(orignPos.x, \"x\");\n        resultPos.y = this.updateTargetAndDuration2(orignPos.y, \"y\");\n    }\n\n    private updateTargetAndDuration2(pos: number, axis: AxisType): number {\n        var v: number = this._velocity[axis];\n        var duration: number = 0;\n        if (pos > 0)\n            pos = 0;\n        else if (pos < -this._overlapSize[axis])\n            pos = -this._overlapSize[axis];\n        else {\n            //以屏幕像素为基准\n            var isMobile: boolean = sys.isMobile;\n            var v2: number = Math.abs(v) * this._velocityScale;\n            const winSize = View.instance.getCanvasSize();\n            //在移动设备上，需要对不同分辨率做一个适配，我们的速度判断以1136分辨率为基准\n            if (isMobile)\n                v2 *= 1136 / Math.max(winSize.width, winSize.height);\n            //这里有一些阈值的处理，因为在低速内，不希望产生较大的滚动（甚至不滚动）\n            var ratio: number = 0;\n\n            if (this._pageMode || !isMobile) {\n                if (v2 > 500)\n                    ratio = Math.pow((v2 - 500) / 500, 2);\n            }\n            else {\n                if (v2 > 1000)\n                    ratio = Math.pow((v2 - 1000) / 1000, 2);\n            }\n            if (ratio != 0) {\n                if (ratio > 1)\n                    ratio = 1;\n\n                v2 *= ratio;\n                v *= ratio;\n                this._velocity[axis] = v;\n\n                //算法：v*（this._decelerationRate的n次幂）= 60，即在n帧后速度降为60（假设每秒60帧）。\n                duration = Math.log(60 / v2) / Math.log(this._decelerationRate) / 60;\n\n                //计算距离要使用本地速度\n                //理论公式貌似滚动的距离不够，改为经验公式\n                //var change:number = (v/ 60 - 1) / (1 - this._decelerationRate);\n                var change: number = Math.floor(v * duration * 0.4);\n                pos += change;\n            }\n        }\n\n        if (duration < TWEEN_TIME_DEFAULT)\n            duration = TWEEN_TIME_DEFAULT;\n        this._tweenDuration[axis] = duration;\n\n        return pos;\n    }\n\n    private fixDuration(axis: AxisType, oldChange: number): void {\n        if (this._tweenChange[axis] == 0 || Math.abs(this._tweenChange[axis]) >= Math.abs(oldChange))\n            return;\n\n        var newDuration: number = Math.abs(this._tweenChange[axis] / oldChange) * this._tweenDuration[axis];\n        if (newDuration < TWEEN_TIME_DEFAULT)\n            newDuration = TWEEN_TIME_DEFAULT;\n\n        this._tweenDuration[axis] = newDuration;\n    }\n\n    private startTween(type: number): void {\n        this._tweenTime.set(Vec2.ZERO);\n        this._tweening = type;\n        this.updateScrollBarVisible();\n    }\n\n    private killTween(): void {\n        if (this._tweening == 1) //取消类型为1的tween需立刻设置到终点\n        {\n            this._container.setPosition(this._tweenStart.x + this._tweenChange.x, -(this._tweenStart.y + this._tweenChange.y));\n            this._owner.node.emit(FUIEvent.SCROLL, this._owner);\n        }\n\n        this._tweening = 0;\n\n        this.updateScrollBarVisible();\n\n        this._owner.node.emit(FUIEvent.SCROLL_END, this._owner);\n    }\n\n    private checkRefreshBar(): void {\n        if (this._header == null && this._footer == null)\n            return;\n\n        var pos: number = (this._refreshBarAxis == \"x\" ? this._container.position.x : (-this._container.position.y));\n        if (this._header) {\n            if (pos > 0) {\n                this._header.node.active = true;\n                var pt: Vec2 = s_vec2;\n                pt.x = this._header.width;\n                pt.y = this._header.height;\n                pt[this._refreshBarAxis] = pos;\n                this._header.setSize(pt.x, pt.y);\n            }\n            else {\n                this._header.node.active = false;\n            }\n        }\n\n        if (this._footer) {\n            var max: number = this._overlapSize[this._refreshBarAxis];\n            if (pos < -max || max == 0 && this._footerLockedSize > 0) {\n                this._footer.node.active = true;\n\n                pt = s_vec2;\n                pt.x = this._footer.x;\n                pt.y = this._footer.y;\n                if (max > 0)\n                    pt[this._refreshBarAxis] = pos + this._contentSize[this._refreshBarAxis];\n                else\n                    pt[this._refreshBarAxis] = Math.max(Math.min(pos + this._viewSize[this._refreshBarAxis], this._viewSize[this._refreshBarAxis] - this._footerLockedSize),\n                        this._viewSize[this._refreshBarAxis] - this._contentSize[this._refreshBarAxis]);\n                this._footer.setPosition(pt.x, pt.y);\n\n                pt.x = this._footer.width;\n                pt.y = this._footer.height;\n                if (max > 0)\n                    pt[this._refreshBarAxis] = -max - pos;\n                else\n                    pt[this._refreshBarAxis] = this._viewSize[this._refreshBarAxis] - this._footer[this._refreshBarAxis];\n                this._footer.setSize(pt.x, pt.y);\n            }\n            else {\n                this._footer.node.active = false;\n            }\n        }\n    }\n\n    protected update(dt: number): boolean {\n        if (this._tweening == 0)\n            return;\n\n        var nx: number = this.runTween(\"x\", dt);\n        var ny: number = this.runTween(\"y\", dt);\n\n        this._container.setPosition(nx, -ny);\n\n        if (this._tweening == 2) {\n            if (this._overlapSize.x > 0)\n                this._xPos = math.clamp(-nx, 0, this._overlapSize.x);\n            if (this._overlapSize.y > 0)\n                this._yPos = math.clamp(-ny, 0, this._overlapSize.y);\n\n            if (this._pageMode)\n                this.updatePageController();\n        }\n\n        if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n            this._tweening = 0;\n\n            this.loopCheckingCurrent();\n\n            this.updateScrollBarPos();\n            this.updateScrollBarVisible();\n\n            this._owner.node.emit(FUIEvent.SCROLL, this._owner);\n            this._owner.node.emit(FUIEvent.SCROLL_END, this._owner);\n        }\n        else {\n            this.updateScrollBarPos();\n            this._owner.node.emit(FUIEvent.SCROLL, this._owner);\n        }\n\n        return true;\n    }\n\n    private runTween(axis: AxisType, dt: number): number {\n        var newValue: number;\n        if (this._tweenChange[axis] != 0) {\n            this._tweenTime[axis] += dt;\n            if (this._tweenTime[axis] >= this._tweenDuration[axis]) {\n                newValue = this._tweenStart[axis] + this._tweenChange[axis];\n                this._tweenChange[axis] = 0;\n            }\n            else {\n                var ratio: number = easeFunc(this._tweenTime[axis], this._tweenDuration[axis]);\n                newValue = this._tweenStart[axis] + Math.floor(this._tweenChange[axis] * ratio);\n            }\n\n            var threshold1: number = 0;\n            var threshold2: number = -this._overlapSize[axis];\n            if (this._headerLockedSize > 0 && this._refreshBarAxis == axis)\n                threshold1 = this._headerLockedSize;\n            if (this._footerLockedSize > 0 && this._refreshBarAxis == axis) {\n                var max: number = this._overlapSize[this._refreshBarAxis];\n                if (max == 0)\n                    max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                else\n                    max += this._footerLockedSize;\n                threshold2 = -max;\n            }\n\n            if (this._tweening == 2 && this._bouncebackEffect) {\n                if (newValue > 20 + threshold1 && this._tweenChange[axis] > 0\n                    || newValue > threshold1 && this._tweenChange[axis] == 0)//开始回弹\n                {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = -newValue + threshold1;\n                    this._tweenStart[axis] = newValue;\n                }\n                else if (newValue < threshold2 - 20 && this._tweenChange[axis] < 0\n                    || newValue < threshold2 && this._tweenChange[axis] == 0)//开始回弹\n                {\n                    this._tweenTime[axis] = 0;\n                    this._tweenDuration[axis] = TWEEN_TIME_DEFAULT;\n                    this._tweenChange[axis] = threshold2 - newValue;\n                    this._tweenStart[axis] = newValue;\n                }\n            }\n            else {\n                if (newValue > threshold1) {\n                    newValue = threshold1;\n                    this._tweenChange[axis] = 0;\n                }\n                else if (newValue < threshold2) {\n                    newValue = threshold2;\n                    this._tweenChange[axis] = 0;\n                }\n            }\n        }\n        else\n            newValue = (axis == \"x\" ? this._container.position.x : (-this._container.position.y));\n\n        return newValue;\n    }\n}\n\nvar _gestureFlag: number = 0;\n\nconst TWEEN_TIME_GO: number = 0.5; //调用SetPos(ani)时使用的缓动时间\nconst TWEEN_TIME_DEFAULT: number = 0.3; //惯性滚动的最小缓动时间\nconst PULL_RATIO: number = 0.5; //下拉过顶或者上拉过底时允许超过的距离占显示区域的比例\n\nvar s_vec2: Vec2 = new Vec2();\nvar s_rect: Rect = new Rect();\nvar sEndPos: Vec2 = new Vec2();\nvar sOldChange: Vec2 = new Vec2();\n\nfunction easeFunc(t: number, d: number): number {\n    return (t = t / d - 1) * t * t + 1;//cubicOut\n}","\nexport enum CurveType {\n    CRSpline,\n    Bezier,\n    CubicBezier,\n    Straight\n}\n\nexport class GPathPoint {\n    public x: number;\n    public y: number;\n\n    public control1_x: number;\n    public control1_y: number;\n\n    public control2_x: number;\n    public control2_y: number;\n\n    public curveType: number;\n\n    constructor() {\n        this.x = 0;\n        this.y = 0;\n        this.control1_x = 0;\n        this.control1_y = 0;\n        this.control2_x = 0;\n        this.control2_y = 0;\n        this.curveType = 0;\n    }\n\n    public static newPoint(x: number, y: number, curveType: number): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x || 0;\n        pt.y = y || 0;\n        pt.control1_x = 0;\n        pt.control1_y = 0;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = curveType || CurveType.CRSpline;\n\n        return pt;\n    }\n\n    public static newBezierPoint(x: number, y: number, control1_x: number, control1_y: number): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x || 0;\n        pt.y = y || 0;\n        pt.control1_x = control1_x || 0;\n        pt.control1_y = control1_y || 0;\n        pt.control2_x = 0;\n        pt.control2_y = 0;\n        pt.curveType = CurveType.Bezier;\n\n        return pt;\n    }\n\n    public static newCubicBezierPoint(x: number, y: number, control1_x: number, control1_y: number,\n        control2_x: number, control2_y: number): GPathPoint {\n        var pt: GPathPoint = new GPathPoint();\n        pt.x = x || 0;\n        pt.y = y || 0;\n        pt.control1_x = control1_x || 0;\n        pt.control1_y = control1_y || 0;\n        pt.control2_x = control2_x || 0;\n        pt.control2_y = control2_y || 0;\n        pt.curveType = CurveType.CubicBezier;\n\n        return pt;\n    }\n\n    public clone(): GPathPoint {\n        var ret: GPathPoint = new GPathPoint();\n        ret.x = this.x;\n        ret.y = this.y;\n        ret.control1_x = this.control1_x;\n        ret.control1_y = this.control1_y;\n        ret.control2_x = this.control2_x;\n        ret.control2_y = this.control2_y;\n        ret.curveType = this.curveType;\n\n        return ret;\n    }\n}\n","import { math, Vec2 } from \"cc\";\nimport { CurveType, GPathPoint } from \"./GPathPoint\";\n\nexport class GPath {\n    private _segments: Array<Segment>;\n    private _points: Array<Vec2>;\n    private _fullLength: number;\n\n    constructor() {\n        this._segments = new Array<Segment>();\n        this._points = new Array<Vec2>();\n    }\n\n    public get length(): number {\n        return this._fullLength;\n    }\n\n    public create2(pt1: GPathPoint, pt2: GPathPoint, pt3?: GPathPoint, pt4?: GPathPoint): void {\n        var points: Array<GPathPoint> = new Array<GPathPoint>();\n        points.push(pt1);\n        points.push(pt2);\n        if (pt3)\n            points.push(pt3);\n        if (pt4)\n            points.push(pt4);\n        this.create(points);\n    }\n\n    public create(points: Array<GPathPoint>): void {\n        this._segments.length = 0;\n        this._points.length = 0;\n        this._fullLength = 0;\n\n        var cnt: number = points.length;\n        if (cnt == 0)\n            return;\n\n        var splinePoints: Array<Vec2> = [];\n\n        var prev: GPathPoint = points[0];\n        if (prev.curveType == CurveType.CRSpline)\n            splinePoints.push(new Vec2(prev.x, prev.y));\n\n        for (var i: number = 1; i < cnt; i++) {\n            var current: GPathPoint = points[i];\n\n            if (prev.curveType != CurveType.CRSpline) {\n                var seg: Segment = {};\n                seg.type = prev.curveType;\n                seg.ptStart = this._points.length;\n                if (prev.curveType == CurveType.Straight) {\n                    seg.ptCount = 2;\n                    this._points.push(new Vec2(prev.x, prev.y));\n                    this._points.push(new Vec2(current.x, current.y));\n                }\n                else if (prev.curveType == CurveType.Bezier) {\n                    seg.ptCount = 3;\n                    this._points.push(new Vec2(prev.x, prev.y));\n                    this._points.push(new Vec2(current.x, current.y));\n                    this._points.push(new Vec2(prev.control1_x, prev.control1_y));\n                }\n                else if (prev.curveType == CurveType.CubicBezier) {\n                    seg.ptCount = 4;\n                    this._points.push(new Vec2(prev.x, prev.y));\n                    this._points.push(new Vec2(current.x, current.y));\n                    this._points.push(new Vec2(prev.control1_x, prev.control1_y));\n                    this._points.push(new Vec2(prev.control2_x, prev.control2_y));\n                }\n                seg.length = distance(prev.x, prev.y, current.x, current.y);\n                this._fullLength += seg.length;\n                this._segments.push(seg);\n            }\n\n            if (current.curveType != CurveType.CRSpline) {\n                if (splinePoints.length > 0) {\n                    splinePoints.push(new Vec2(current.x, current.y));\n                    this.createSplineSegment(splinePoints);\n                }\n            }\n            else\n                splinePoints.push(new Vec2(current.x, current.y));\n\n            prev = current;\n        }\n\n        if (splinePoints.length > 1)\n            this.createSplineSegment(splinePoints);\n    }\n\n    private createSplineSegment(splinePoints: Array<Vec2>): void {\n        var cnt: number = splinePoints.length;\n        splinePoints.splice(0, 0, splinePoints[0]);\n        splinePoints.push(splinePoints[cnt]);\n        splinePoints.push(splinePoints[cnt]);\n        cnt += 3;\n\n        var seg: Segment = {};\n        seg.type = CurveType.CRSpline;\n        seg.ptStart = this._points.length;\n        seg.ptCount = cnt;\n\n        this._points = this._points.concat(splinePoints);\n\n        seg.length = 0;\n        for (var i: number = 1; i < cnt; i++) {\n            seg.length += distance(splinePoints[i - 1].x, splinePoints[i - 1].y,\n                splinePoints[i].x, splinePoints[i].y);\n        }\n        this._fullLength += seg.length;\n        this._segments.push(seg);\n        splinePoints.length = 0;\n    }\n\n    public clear(): void {\n        this._segments.length = 0;\n        this._points.length = 0;\n    }\n\n    public getPointAt(t: number, result?: Vec2): Vec2 {\n        if (!result)\n            result = new Vec2();\n        else\n            result.set(0, 0);\n\n        t = math.clamp01(t);\n        var cnt: number = this._segments.length;\n        if (cnt == 0) {\n            return result;\n        }\n\n        var seg: Segment;\n        if (t == 1) {\n            seg = this._segments[cnt - 1];\n\n            if (seg.type == CurveType.Straight) {\n                result.x = math.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                result.y = math.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n\n                return result;\n            }\n            else if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                return this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n            else\n                return this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n        }\n\n        var len: number = t * this._fullLength;\n        for (var i: number = 0; i < cnt; i++) {\n            seg = this._segments[i];\n\n            len -= seg.length;\n            if (len < 0) {\n                t = 1 + len / seg.length;\n\n                if (seg.type == CurveType.Straight) {\n                    result.x = math.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                    result.y = math.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                }\n                else if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                    result = this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n                else\n                    result = this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    public get segmentCount(): number {\n        return this._segments.length;\n    }\n\n    public getAnchorsInSegment(segmentIndex: number, points?: Array<Vec2>): Array<Vec2> {\n        if (points == null)\n            points = new Array<Vec2>();\n\n        var seg: Segment = this._segments[segmentIndex];\n        for (var i: number = 0; i < seg.ptCount; i++)\n            points.push(new Vec2(this._points[seg.ptStart + i].x, this._points[seg.ptStart + i].y));\n\n        return points;\n    }\n\n    public getPointsInSegment(segmentIndex: number, t0: number, t1: number, points?: Array<Vec2>, ts?: Array<number>, pointDensity?: number): Array<Vec2> {\n        if (points == null)\n            points = new Array<Vec2>();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n\n        if (ts)\n            ts.push(t0);\n        var seg: Segment = this._segments[segmentIndex];\n        if (seg.type == CurveType.Straight) {\n            points.push(new Vec2(math.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t0),\n            math.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t0)));\n            points.push(new Vec2(math.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t1),\n            math.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t1)));\n        }\n        else {\n            var func: Function;\n            if (seg.type == CurveType.Bezier || seg.type == CurveType.CubicBezier)\n                func = this.onBezierCurve;\n            else\n                func = this.onCRSplineCurve;\n\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t0, new Vec2()));\n            var SmoothAmount: number = Math.min(seg.length * pointDensity, 50);\n            for (var j: number = 0; j <= SmoothAmount; j++) {\n                var t: number = j / SmoothAmount;\n                if (t > t0 && t < t1) {\n                    points.push(func.call(this, seg.ptStart, seg.ptCount, t, new Vec2()));\n                    if (ts)\n                        ts.push(t);\n                }\n            }\n            points.push(func.call(this, seg.ptStart, seg.ptCount, t1, new Vec2()));\n        }\n\n        if (ts)\n            ts.push(t1);\n\n        return points;\n    }\n\n    public getAllPoints(points?: Array<Vec2>, ts?: Array<number>, pointDensity?: number): Array<Vec2> {\n        if (points == null)\n            points = new Array<Vec2>();\n        if (!pointDensity || isNaN(pointDensity))\n            pointDensity = 0.1;\n\n        var cnt: number = this._segments.length;\n        for (var i: number = 0; i < cnt; i++)\n            this.getPointsInSegment(i, 0, 1, points, ts, pointDensity);\n\n        return points;\n    }\n\n    private onCRSplineCurve(ptStart: number, ptCount: number, t: number, result: Vec2): Vec2 {\n        var adjustedIndex: number = Math.floor(t * (ptCount - 4)) + ptStart; //Since the equation works with 4 points, we adjust the starting point depending on t to return a point on the specific segment\n\n        var p0x: number = this._points[adjustedIndex].x;\n        var p0y: number = this._points[adjustedIndex].y;\n        var p1x: number = this._points[adjustedIndex + 1].x;\n        var p1y: number = this._points[adjustedIndex + 1].y;\n        var p2x: number = this._points[adjustedIndex + 2].x;\n        var p2y: number = this._points[adjustedIndex + 2].y;\n        var p3x: number = this._points[adjustedIndex + 3].x;\n        var p3y: number = this._points[adjustedIndex + 3].y;\n\n        var adjustedT: number = (t == 1) ? 1 : math.repeat(t * (ptCount - 4), 1); // Then we adjust t to be that value on that new piece of segment... for t == 1f don't use repeat (that would return 0f);\n\n        var t0: number = ((-adjustedT + 2) * adjustedT - 1) * adjustedT * 0.5;\n        var t1: number = (((3 * adjustedT - 5) * adjustedT) * adjustedT + 2) * 0.5;\n        var t2: number = ((-3 * adjustedT + 4) * adjustedT + 1) * adjustedT * 0.5;\n        var t3: number = ((adjustedT - 1) * adjustedT * adjustedT) * 0.5;\n\n        result.x = p0x * t0 + p1x * t1 + p2x * t2 + p3x * t3;\n        result.y = p0y * t0 + p1y * t1 + p2y * t2 + p3y * t3;\n\n        return result;\n    }\n\n    private onBezierCurve(ptStart: number, ptCount: number, t: number, result: Vec2): Vec2 {\n        var t2: number = 1 - t;\n        var p0x: number = this._points[ptStart].x;\n        var p0y: number = this._points[ptStart].y;\n        var p1x: number = this._points[ptStart + 1].x;\n        var p1y: number = this._points[ptStart + 1].y;\n        var cp0x: number = this._points[ptStart + 2].x;\n        var cp0y: number = this._points[ptStart + 2].y;\n\n        if (ptCount == 4) {\n            var cp1x: number = this._points[ptStart + 3].x;\n            var cp1y: number = this._points[ptStart + 3].y;\n            result.x = t2 * t2 * t2 * p0x + 3 * t2 * t2 * t * cp0x + 3 * t2 * t * t * cp1x + t * t * t * p1x;\n            result.y = t2 * t2 * t2 * p0y + 3 * t2 * t2 * t * cp0y + 3 * t2 * t * t * cp1y + t * t * t * p1y;\n        }\n        else {\n            result.x = t2 * t2 * p0x + 2 * t2 * t * cp0x + t * t * p1x;\n            result.y = t2 * t2 * p0y + 2 * t2 * t * cp0y + t * t * p1y;\n        }\n\n        return result;\n    }\n}\n\ninterface Segment {\n    type?: number;\n    length?: number;\n    ptStart?: number;\n    ptCount?: number;\n}\n\nfunction distance(x1: number, y1: number, x2: number, y2: number): number {\n    return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n}","import { Color, AudioClip } from \"cc\";\r\nimport { ObjectPropID } from \"./FieldTypes\";\r\nimport { GComponent } from \"./GComponent\";\r\nimport { Decls, GObject } from \"./GObject\";\r\nimport { PackageItem } from \"./PackageItem\";\r\nimport { EaseType } from \"./tween/EaseType\";\r\nimport { GPath } from \"./tween/GPath\";\r\nimport { GPathPoint, CurveType } from \"./tween/GPathPoint\";\r\nimport { GTween } from \"./tween/GTween\";\r\nimport { GTweener } from \"./tween/GTweener\";\r\nimport { UIPackage } from \"./UIPackage\";\r\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\r\n\r\nexport class Transition {\r\n    public name: string;\r\n\r\n    private _owner: GComponent;\r\n    private _ownerBaseX: number = 0;\r\n    private _ownerBaseY: number = 0;\r\n    private _items: Array<Item>;\r\n    private _totalTimes: number = 0;\r\n    private _totalTasks: number = 0;\r\n    private _playing: boolean;\r\n    private _paused?: boolean;\r\n    private _onComplete?: () => void;\r\n    private _options: number = 0;\r\n    private _reversed?: boolean;\r\n    private _totalDuration: number = 0;\r\n    private _autoPlay?: boolean;\r\n    private _autoPlayTimes: number = 1;\r\n    private _autoPlayDelay: number = 0;\r\n    private _timeScale: number = 1;\r\n    private _startTime: number = 0;\r\n    private _endTime: number = 0;\r\n\r\n    public constructor(owner: GComponent) {\r\n        this._owner = owner;\r\n        this._items = new Array<Item>();\r\n    }\r\n\r\n    public play(onComplete?: (() => void) | null, times?: number, delay?: number, startTime?: number, endTime?: number) {\r\n        this._play(onComplete, times, delay, startTime, endTime, false);\r\n    }\r\n\r\n    public playReverse(onComplete?: (() => void) | null, times?: number, delay?: number) {\r\n        this._play(onComplete, times, delay, 0, -1, true);\r\n    }\r\n\r\n    public changePlayTimes(value: number): void {\r\n        this._totalTimes = value;\r\n    }\r\n\r\n    public setAutoPlay(value: boolean, times?: number, delay?: number) {\r\n        if (times == undefined) times = -1;\r\n        if (delay == undefined) delay = 0;\r\n        if (this._autoPlay != value) {\r\n            this._autoPlay = value;\r\n            this._autoPlayTimes = times;\r\n            this._autoPlayDelay = delay;\r\n\r\n            if (this._autoPlay) {\r\n                if (this._owner.onStage)\r\n                    this.play(null, this._autoPlayTimes, this._autoPlayDelay);\r\n            }\r\n            else {\r\n                if (!this._owner.onStage)\r\n                    this.stop(false, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _play(onComplete?: () => void, times?: number, delay?: number, startTime?: number, endTime?: number, reversed?: boolean) {\r\n        if (times == undefined) times = 1;\r\n        if (delay == undefined) delay = 0;\r\n        if (startTime == undefined) startTime = 0;\r\n        if (endTime == undefined) endTime = -1;\r\n\r\n        this.stop(true, true);\r\n\r\n        this._totalTimes = times;\r\n        this._reversed = reversed;\r\n        this._startTime = startTime;\r\n        this._endTime = endTime;\r\n        this._playing = true;\r\n        this._paused = false;\r\n        this._onComplete = onComplete;\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.target == null) {\r\n                if (item.targetId)\r\n                    item.target = this._owner.getChildById(item.targetId);\r\n                else\r\n                    item.target = this._owner;\r\n            }\r\n            else if (item.target != this._owner && item.target.parent != this._owner)\r\n                item.target = null;\r\n\r\n            if (item.target && item.type == ActionType.Transition) {\r\n                var trans: Transition = (<GComponent>item.target).getTransition(item.value.transName);\r\n                if (trans == this)\r\n                    trans = null;\r\n                if (trans) {\r\n                    if (item.value.playTimes == 0) //stop\r\n                    {\r\n                        var j: number;\r\n                        for (j = i - 1; j >= 0; j--) {\r\n                            var item2: Item = this._items[j];\r\n                            if (item2.type == ActionType.Transition) {\r\n                                if (item2.value.trans == trans) {\r\n                                    item2.value.stopTime = item.time - item2.time;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (j < 0)\r\n                            item.value.stopTime = 0;\r\n                        else\r\n                            trans = null;//no need to handle stop anymore\r\n                    }\r\n                    else\r\n                        item.value.stopTime = -1;\r\n                }\r\n                item.value.trans = trans;\r\n            }\r\n        }\r\n\r\n        if (delay == 0)\r\n            this.onDelayedPlay();\r\n        else\r\n            GTween.delayedCall(delay).setTarget(this).onComplete(this.onDelayedPlay, this);\r\n    }\r\n\r\n    public stop(setToComplete?: boolean, processCallback?: boolean): void {\r\n        if (setToComplete == undefined) setToComplete = true;\r\n        if (!this._playing)\r\n            return;\r\n\r\n        this._playing = false;\r\n        this._totalTasks = 0;\r\n        this._totalTimes = 0;\r\n        var func: () => void = this._onComplete;\r\n        this._onComplete = null;\r\n\r\n        GTween.kill(this);//delay start\r\n\r\n        var cnt: number = this._items.length;\r\n        if (this._reversed) {\r\n            for (var i: number = cnt - 1; i >= 0; i--) {\r\n                var item: Item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.stopItem(item, setToComplete);\r\n            }\r\n        }\r\n        else {\r\n            for (i = 0; i < cnt; i++) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.stopItem(item, setToComplete);\r\n            }\r\n        }\r\n\r\n        if (processCallback && func != null) {\r\n            func();\r\n        }\r\n    }\r\n\r\n    private stopItem(item: Item, setToComplete: boolean): void {\r\n        if (item.displayLockToken != 0) {\r\n            item.target.releaseDisplayLock(item.displayLockToken);\r\n            item.displayLockToken = 0;\r\n        }\r\n\r\n        if (item.tweener) {\r\n            item.tweener.kill(setToComplete);\r\n            item.tweener = null;\r\n\r\n            if (item.type == ActionType.Shake && !setToComplete) //震动必须归位，否则下次就越震越远了。\r\n            {\r\n                item.target._gearLocked = true;\r\n                item.target.setPosition(item.target.x - item.value.lastOffsetX, item.target.y - item.value.lastOffsetY);\r\n                item.target._gearLocked = false;\r\n            }\r\n        }\r\n\r\n        if (item.type == ActionType.Transition) {\r\n            var trans: Transition = item.value.trans;\r\n            if (trans)\r\n                trans.stop(setToComplete, false);\r\n        }\r\n    }\r\n\r\n    public setPaused(paused: boolean): void {\r\n        if (!this._playing || this._paused == paused)\r\n            return;\r\n\r\n        this._paused = paused;\r\n        var tweener: GTweener = GTween.getTween(this);\r\n        if (tweener)\r\n            tweener.setPaused(paused);\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.target == null)\r\n                continue;\r\n\r\n            if (item.type == ActionType.Transition) {\r\n                if (item.value.trans)\r\n                    item.value.trans.setPaused(paused);\r\n            }\r\n            else if (item.type == ActionType.Animation) {\r\n                if (paused) {\r\n                    item.value.flag = item.target.getProp(ObjectPropID.Playing);\r\n                    item.target.setProp(ObjectPropID.Playing, false);\r\n                }\r\n                else\r\n                    item.target.setProp(ObjectPropID.Playing, item.value.flag);\r\n            }\r\n\r\n            if (item.tweener)\r\n                item.tweener.setPaused(paused);\r\n        }\r\n    }\r\n\r\n    public dispose(): void {\r\n        if (this._playing)\r\n            GTween.kill(this);//delay start\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.tweener) {\r\n                item.tweener.kill();\r\n                item.tweener = null;\r\n            }\r\n\r\n            item.target = null;\r\n            item.hook = null;\r\n            if (item.tweenConfig)\r\n                item.tweenConfig.endHook = null;\r\n        }\r\n\r\n        this._items.length = 0;\r\n        this._playing = false;\r\n        this._onComplete = null;\r\n    }\r\n\r\n    public get playing(): boolean {\r\n        return this._playing;\r\n    }\r\n\r\n    public setValue(label: string, ...args: any[]): void {\r\n        var cnt: number = this._items.length;\r\n        var value: TValue;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                if (item.tweenConfig)\r\n                    value = item.tweenConfig.startValue;\r\n                else\r\n                    value = item.value;\r\n            }\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\r\n                value = item.tweenConfig.endValue;\r\n            }\r\n            else\r\n                continue;\r\n\r\n            switch (item.type) {\r\n                case ActionType.XY:\r\n                case ActionType.Size:\r\n                case ActionType.Pivot:\r\n                case ActionType.Scale:\r\n                case ActionType.Skew:\r\n                    value.b1 = true;\r\n                    value.b2 = true;\r\n                    value.f1 = parseFloat(args[0]);\r\n                    value.f2 = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Alpha:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Rotation:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Color:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    break;\r\n\r\n                case ActionType.Animation:\r\n                    value.frame = parseInt(args[0]);\r\n                    if (args.length > 1)\r\n                        value.playing = args[1];\r\n                    break;\r\n\r\n                case ActionType.Visible:\r\n                    value.visible = args[0];\r\n                    break;\r\n\r\n                case ActionType.Sound:\r\n                    value.sound = args[0];\r\n                    if (args.length > 1)\r\n                        value.volume = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Transition:\r\n                    value.transName = args[0];\r\n                    if (args.length > 1)\r\n                        value.playTimes = parseInt(args[1]);\r\n                    break;\r\n\r\n                case ActionType.Shake:\r\n                    value.amplitude = parseFloat(args[0]);\r\n                    if (args.length > 1)\r\n                        value.duration = parseFloat(args[1]);\r\n                    break;\r\n\r\n                case ActionType.ColorFilter:\r\n                    value.f1 = parseFloat(args[0]);\r\n                    value.f2 = parseFloat(args[1]);\r\n                    value.f3 = parseFloat(args[2]);\r\n                    value.f4 = parseFloat(args[3]);\r\n                    break;\r\n\r\n                case ActionType.Text:\r\n                case ActionType.Icon:\r\n                    value.text = args[0];\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setHook(label: string, callback: (label?: string) => void): void {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                item.hook = callback;\r\n                break;\r\n            }\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label) {\r\n                item.tweenConfig.endHook = callback;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearHooks(): void {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            item.hook = null;\r\n            if (item.tweenConfig)\r\n                item.tweenConfig.endHook = null;\r\n        }\r\n    }\r\n\r\n    public setTarget(label: string, newTarget: GObject): void {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label) {\r\n                item.targetId = newTarget.id;\r\n                item.target = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setDuration(label: string, value: number): void {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.tweenConfig && item.label == label)\r\n                item.tweenConfig.duration = value;\r\n        }\r\n    }\r\n\r\n    public getLabelTime(label: string): number {\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.label == label)\r\n                return item.time;\r\n            else if (item.tweenConfig && item.tweenConfig.endLabel == label)\r\n                return item.time + item.tweenConfig.duration;\r\n        }\r\n\r\n        return Number.NaN;\r\n    }\r\n\r\n    public get timeScale(): number {\r\n        return this._timeScale;\r\n    }\r\n\r\n    public set timeScale(value: number) {\r\n        if (this._timeScale != value) {\r\n            this._timeScale = value;\r\n            if (this._playing) {\r\n                var cnt: number = this._items.length;\r\n                for (var i: number = 0; i < cnt; i++) {\r\n                    var item: Item = this._items[i];\r\n                    if (item.tweener)\r\n                        item.tweener.setTimeScale(value);\r\n                    else if (item.type == ActionType.Transition) {\r\n                        if (item.value.trans)\r\n                            item.value.trans.timeScale = value;\r\n                    }\r\n                    else if (item.type == ActionType.Animation) {\r\n                        if (item.target)\r\n                            item.target.setProp(ObjectPropID.TimeScale, value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public updateFromRelations(targetId: string, dx: number, dy: number): void {\r\n        var cnt: number = this._items.length;\r\n        if (cnt == 0)\r\n            return;\r\n\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var item: Item = this._items[i];\r\n            if (item.type == ActionType.XY && item.targetId == targetId) {\r\n                if (item.tweenConfig) {\r\n                    item.tweenConfig.startValue.f1 += dx;\r\n                    item.tweenConfig.startValue.f2 += dy;\r\n                    item.tweenConfig.endValue.f1 += dx;\r\n                    item.tweenConfig.endValue.f2 += dy;\r\n                }\r\n                else {\r\n                    item.value.f1 += dx;\r\n                    item.value.f2 += dy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public onEnable(): void {\r\n        if (this._autoPlay && !this._playing)\r\n            this.play(null, this._autoPlayTimes, this._autoPlayDelay);\r\n    }\r\n\r\n    public onDisable(): void {\r\n        if ((this._options & OPTION_AUTO_STOP_DISABLED) == 0)\r\n            this.stop((this._options & OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\r\n    }\r\n\r\n    private onDelayedPlay(): void {\r\n        this.internalPlay();\r\n\r\n        this._playing = this._totalTasks > 0;\r\n        if (this._playing) {\r\n            if ((this._options & OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\r\n                var cnt: number = this._items.length;\r\n                for (var i: number = 0; i < cnt; i++) {\r\n                    var item: Item = this._items[i];\r\n                    if (item.target && item.target != this._owner)\r\n                        item.displayLockToken = item.target.addDisplayLock();\r\n                }\r\n            }\r\n        }\r\n        else if (this._onComplete != null) {\r\n            var func: () => void = this._onComplete;\r\n            this._onComplete = null;\r\n            func();\r\n        }\r\n    }\r\n\r\n    private internalPlay(): void {\r\n        this._ownerBaseX = this._owner.x;\r\n        this._ownerBaseY = this._owner.y;\r\n\r\n        this._totalTasks = 1;\r\n\r\n        var cnt: number = this._items.length;\r\n        var item: Item;\r\n        var needSkipAnimations: boolean = false;\r\n        var i: number;\r\n\r\n        if (!this._reversed) {\r\n            for (i = 0; i < cnt; i++) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                if (item.type == ActionType.Animation && this._startTime != 0 && item.time <= this._startTime) {\r\n                    needSkipAnimations = true;\r\n                    item.value.flag = false;\r\n                }\r\n                else\r\n                    this.playItem(item);\r\n            }\r\n        }\r\n        else {\r\n            for (i = cnt - 1; i >= 0; i--) {\r\n                item = this._items[i];\r\n                if (item.target == null)\r\n                    continue;\r\n\r\n                this.playItem(item);\r\n            }\r\n        }\r\n\r\n        if (needSkipAnimations)\r\n            this.skipAnimations();\r\n\r\n        this._totalTasks--;\r\n    }\r\n\r\n    private playItem(item: Item): void {\r\n        var time: number;\r\n        if (item.tweenConfig) {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time - item.tweenConfig.duration);\r\n            else\r\n                time = item.time;\r\n            if (this._endTime == -1 || time <= this._endTime) {\r\n                var startValue: TValue;\r\n                var endValue: TValue;\r\n                if (this._reversed) {\r\n                    startValue = item.tweenConfig.endValue;\r\n                    endValue = item.tweenConfig.startValue;\r\n                }\r\n                else {\r\n                    startValue = item.tweenConfig.startValue;\r\n                    endValue = item.tweenConfig.endValue;\r\n                }\r\n\r\n                item.value.b1 = startValue.b1 || endValue.b1;\r\n                item.value.b2 = startValue.b2 || endValue.b2;\r\n\r\n                switch (item.type) {\r\n                    case ActionType.XY:\r\n                    case ActionType.Size:\r\n                    case ActionType.Scale:\r\n                    case ActionType.Skew:\r\n                        item.tweener = GTween.to2(startValue.f1, startValue.f2, endValue.f1, endValue.f2, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.Alpha:\r\n                    case ActionType.Rotation:\r\n                        item.tweener = GTween.to(startValue.f1, endValue.f1, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.Color:\r\n                        item.tweener = GTween.toColor(startValue.f1, endValue.f1, item.tweenConfig.duration);\r\n                        break;\r\n\r\n                    case ActionType.ColorFilter:\r\n                        item.tweener = GTween.to4(startValue.f1, startValue.f2, startValue.f3, startValue.f4,\r\n                            endValue.f1, endValue.f2, endValue.f3, endValue.f4, item.tweenConfig.duration);\r\n                        break;\r\n                }\r\n\r\n                item.tweener.setDelay(time)\r\n                    .setEase(item.tweenConfig.easeType)\r\n                    .setRepeat(item.tweenConfig.repeat, item.tweenConfig.yoyo)\r\n                    .setTimeScale(this._timeScale)\r\n                    .setTarget(item)\r\n                    .onStart(this.onTweenStart, this)\r\n                    .onUpdate(this.onTweenUpdate, this)\r\n                    .onComplete(this.onTweenComplete, this);\r\n\r\n                if (this._endTime >= 0)\r\n                    item.tweener.setBreakpoint(this._endTime - time);\r\n\r\n                this._totalTasks++;\r\n            }\r\n        }\r\n        else if (item.type == ActionType.Shake) {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time - item.value.duration);\r\n            else\r\n                time = item.time;\r\n\r\n            item.value.offsetX = item.value.offsetY = 0;\r\n            item.value.lastOffsetX = item.value.lastOffsetY = 0;\r\n            item.tweener = GTween.shake(0, 0, item.value.amplitude, item.value.duration)\r\n                .setDelay(time)\r\n                .setTimeScale(this._timeScale)\r\n                .setTarget(item)\r\n                .onUpdate(this.onTweenUpdate, this)\r\n                .onComplete(this.onTweenComplete, this);\r\n\r\n            if (this._endTime >= 0)\r\n                item.tweener.setBreakpoint(this._endTime - item.time);\r\n\r\n            this._totalTasks++;\r\n        }\r\n        else {\r\n            if (this._reversed)\r\n                time = (this._totalDuration - item.time);\r\n            else\r\n                time = item.time;\r\n\r\n            if (time <= this._startTime) {\r\n                this.applyValue(item);\r\n                this.callHook(item, false);\r\n            }\r\n            else if (this._endTime == -1 || time <= this._endTime) {\r\n                this._totalTasks++;\r\n                item.tweener = GTween.delayedCall(time)\r\n                    .setTimeScale(this._timeScale)\r\n                    .setTarget(item)\r\n                    .onComplete(this.onDelayedPlayItem, this);\r\n            }\r\n        }\r\n\r\n        if (item.tweener)\r\n            item.tweener.seek(this._startTime);\r\n    }\r\n\r\n    private skipAnimations(): void {\r\n        var frame: number;\r\n        var playStartTime: number;\r\n        var playTotalTime: number;\r\n        var value: TValue;\r\n        var target: GObject;\r\n        var item: Item;\r\n\r\n        var cnt: number = this._items.length;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            item = this._items[i];\r\n            if (item.type != ActionType.Animation || item.time > this._startTime)\r\n                continue;\r\n\r\n            value = item.value;\r\n            if (value.flag)\r\n                continue;\r\n\r\n            target = item.target;\r\n            frame = target.getProp(ObjectPropID.Frame);\r\n            playStartTime = target.getProp(ObjectPropID.Playing) ? 0 : -1;\r\n            playTotalTime = 0;\r\n\r\n            for (var j: number = i; j < cnt; j++) {\r\n                item = this._items[j];\r\n                if (item.type != ActionType.Animation || item.target != target || item.time > this._startTime)\r\n                    continue;\r\n\r\n                value = item.value;\r\n                value.flag = true;\r\n\r\n                if (value.frame != -1) {\r\n                    frame = value.frame;\r\n                    if (value.playing)\r\n                        playStartTime = item.time;\r\n                    else\r\n                        playStartTime = -1;\r\n                    playTotalTime = 0;\r\n                }\r\n                else {\r\n                    if (value.playing) {\r\n                        if (playStartTime < 0)\r\n                            playStartTime = item.time;\r\n                    }\r\n                    else {\r\n                        if (playStartTime >= 0)\r\n                            playTotalTime += (item.time - playStartTime);\r\n                        playStartTime = -1;\r\n                    }\r\n                }\r\n\r\n                this.callHook(item, false);\r\n            }\r\n\r\n            if (playStartTime >= 0)\r\n                playTotalTime += (this._startTime - playStartTime);\r\n\r\n            target.setProp(ObjectPropID.Playing, playStartTime >= 0);\r\n            target.setProp(ObjectPropID.Frame, frame);\r\n            if (playTotalTime > 0)\r\n                target.setProp(ObjectPropID.DeltaTime, playTotalTime);\r\n        }\r\n    }\r\n\r\n    private onDelayedPlayItem(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        item.tweener = null;\r\n        this._totalTasks--;\r\n\r\n        this.applyValue(item);\r\n        this.callHook(item, false);\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private onTweenStart(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n\r\n        if (item.type == ActionType.XY || item.type == ActionType.Size) //位置和大小要到start才最终确认起始值\r\n        {\r\n            var startValue: TValue;\r\n            var endValue: TValue;\r\n\r\n            if (this._reversed) {\r\n                startValue = item.tweenConfig.endValue;\r\n                endValue = item.tweenConfig.startValue;\r\n            }\r\n            else {\r\n                startValue = item.tweenConfig.startValue;\r\n                endValue = item.tweenConfig.endValue;\r\n            }\r\n\r\n            if (item.type == ActionType.XY) {\r\n                if (item.target != this._owner) {\r\n                    if (!startValue.b1)\r\n                        tweener.startValue.x = item.target.x;\r\n                    else if (startValue.b3) //percent\r\n                        tweener.startValue.x = startValue.f1 * this._owner.width;\r\n\r\n                    if (!startValue.b2)\r\n                        tweener.startValue.y = item.target.y;\r\n                    else if (startValue.b3) //percent\r\n                        tweener.startValue.y = startValue.f2 * this._owner.height;\r\n\r\n                    if (!endValue.b1)\r\n                        tweener.endValue.x = tweener.startValue.x;\r\n                    else if (endValue.b3)\r\n                        tweener.endValue.x = endValue.f1 * this._owner.width;\r\n\r\n                    if (!endValue.b2)\r\n                        tweener.endValue.y = tweener.startValue.y;\r\n                    else if (endValue.b3)\r\n                        tweener.endValue.y = endValue.f2 * this._owner.height;\r\n                }\r\n                else {\r\n                    if (!startValue.b1)\r\n                        tweener.startValue.x = item.target.x - this._ownerBaseX;\r\n                    if (!startValue.b2)\r\n                        tweener.startValue.y = item.target.y - this._ownerBaseY;\r\n\r\n                    if (!endValue.b1)\r\n                        tweener.endValue.x = tweener.startValue.x;\r\n                    if (!endValue.b2)\r\n                        tweener.endValue.y = tweener.startValue.y;\r\n                }\r\n            }\r\n            else {\r\n                if (!startValue.b1)\r\n                    tweener.startValue.x = item.target.width;\r\n                if (!startValue.b2)\r\n                    tweener.startValue.y = item.target.height;\r\n\r\n                if (!endValue.b1)\r\n                    tweener.endValue.x = tweener.startValue.x;\r\n                if (!endValue.b2)\r\n                    tweener.endValue.y = tweener.startValue.y;\r\n            }\r\n\r\n            if (item.tweenConfig.path) {\r\n                item.value.b1 = item.value.b2 = true;\r\n                tweener.setPath(item.tweenConfig.path);\r\n            }\r\n        }\r\n\r\n        this.callHook(item, false);\r\n    }\r\n\r\n    private onTweenUpdate(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n            case ActionType.Size:\r\n            case ActionType.Scale:\r\n            case ActionType.Skew:\r\n                item.value.f1 = tweener.value.x;\r\n                item.value.f2 = tweener.value.y;\r\n                if (item.tweenConfig.path) {\r\n                    item.value.f1 += tweener.startValue.x;\r\n                    item.value.f2 += tweener.startValue.y;\r\n                }\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n            case ActionType.Rotation:\r\n                item.value.f1 = tweener.value.x;\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                item.value.f1 = tweener.value.color;\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                item.value.f1 = tweener.value.x;\r\n                item.value.f2 = tweener.value.y;\r\n                item.value.f3 = tweener.value.z;\r\n                item.value.f4 = tweener.value.w;\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                item.value.offsetX = tweener.deltaValue.x;\r\n                item.value.offsetY = tweener.deltaValue.y;\r\n                break;\r\n        }\r\n\r\n        this.applyValue(item);\r\n    }\r\n\r\n    private onTweenComplete(tweener: GTweener): void {\r\n        var item: Item = <Item>tweener.target;\r\n        item.tweener = null;\r\n        this._totalTasks--;\r\n\r\n        if (tweener.allCompleted) //当整体播放结束时间在这个tween的中间时不应该调用结尾钩子\r\n            this.callHook(item, true);\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private onPlayTransCompleted(item: Item): void {\r\n        this._totalTasks--;\r\n\r\n        this.checkAllComplete();\r\n    }\r\n\r\n    private callHook(item: Item, tweenEnd: boolean): void {\r\n        if (tweenEnd) {\r\n            if (item.tweenConfig && item.tweenConfig.endHook != null)\r\n                item.tweenConfig.endHook(item.label);\r\n        }\r\n        else {\r\n            if (item.time >= this._startTime && item.hook != null)\r\n                item.hook(item.label);\r\n        }\r\n    }\r\n\r\n    private checkAllComplete(): void {\r\n        if (this._playing && this._totalTasks == 0) {\r\n            if (this._totalTimes < 0) {\r\n                this.internalPlay();\r\n                if (this._totalTasks == 0)\r\n                    GTween.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\r\n            }\r\n            else {\r\n                this._totalTimes--;\r\n                if (this._totalTimes > 0) {\r\n                    this.internalPlay();\r\n                    if (this._totalTasks == 0)\r\n                        GTween.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete, this);\r\n                }\r\n                else {\r\n                    this._playing = false;\r\n\r\n                    var cnt: number = this._items.length;\r\n                    for (var i: number = 0; i < cnt; i++) {\r\n                        var item: Item = this._items[i];\r\n                        if (item.target && item.displayLockToken != 0) {\r\n                            item.target.releaseDisplayLock(item.displayLockToken);\r\n                            item.displayLockToken = 0;\r\n                        }\r\n                    }\r\n\r\n                    if (this._onComplete != null) {\r\n                        var func: () => void = this._onComplete;\r\n                        this._onComplete = null;\r\n                        func();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyValue(item: Item): void {\r\n        item.target._gearLocked = true;\r\n        var value: TValue = item.value;\r\n\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n                if (item.target == this._owner) {\r\n                    if (value.b1 && value.b2)\r\n                        item.target.setPosition(value.f1 + this._ownerBaseX, value.f2 + this._ownerBaseY);\r\n                    else if (value.b1)\r\n                        item.target.x = value.f1 + this._ownerBaseX;\r\n                    else\r\n                        item.target.y = value.f2 + this._ownerBaseY;\r\n                }\r\n                else {\r\n                    if (value.b3) //position in percent\r\n                    {\r\n                        if (value.b1 && value.b2)\r\n                            item.target.setPosition(value.f1 * this._owner.width, value.f2 * this._owner.height);\r\n                        else if (value.b1)\r\n                            item.target.x = value.f1 * this._owner.width;\r\n                        else if (value.b2)\r\n                            item.target.y = value.f2 * this._owner.height;\r\n                    }\r\n                    else {\r\n                        if (value.b1 && value.b2)\r\n                            item.target.setPosition(value.f1, value.f2);\r\n                        else if (value.b1)\r\n                            item.target.x = value.f1;\r\n                        else if (value.b2)\r\n                            item.target.y = value.f2;\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case ActionType.Size:\r\n                if (!value.b1)\r\n                    value.f1 = item.target.width;\r\n                if (!value.b2)\r\n                    value.f2 = item.target.height;\r\n                item.target.setSize(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Pivot:\r\n                item.target.setPivot(value.f1, value.f2, item.target.pivotAsAnchor);\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n                item.target.alpha = value.f1;\r\n                break;\r\n\r\n            case ActionType.Rotation:\r\n                item.target.rotation = value.f1;\r\n                break;\r\n\r\n            case ActionType.Scale:\r\n                item.target.setScale(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Skew:\r\n                //item.target.setSkew(value.f1, value.f2);\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                let color: any = item.target.getProp(ObjectPropID.Color);\r\n                if (color instanceof Color) {\r\n                    let i = Math.floor(value.f1);\r\n                    color.r = ((i >> 16) & 0xFF);\r\n                    color.g = (i >> 8) & 0xFF;\r\n                    color.b = i & 0xFF;\r\n                    item.target.setProp(ObjectPropID.Color, color);\r\n                }\r\n                break;\r\n\r\n            case ActionType.Animation:\r\n                if (value.frame >= 0)\r\n                    item.target.setProp(ObjectPropID.Frame, value.frame);\r\n                item.target.setProp(ObjectPropID.Playing, value.playing);\r\n                item.target.setProp(ObjectPropID.TimeScale, this._timeScale);\r\n                break;\r\n\r\n            case ActionType.Visible:\r\n                item.target.visible = value.visible;\r\n                break;\r\n\r\n            case ActionType.Transition:\r\n                if (this._playing) {\r\n                    var trans: Transition = value.trans;\r\n                    if (trans) {\r\n                        this._totalTasks++;\r\n                        var startTime: number = this._startTime > item.time ? (this._startTime - item.time) : 0;\r\n                        var endTime: number = this._endTime >= 0 ? (this._endTime - item.time) : -1;\r\n                        if (value.stopTime >= 0 && (endTime < 0 || endTime > value.stopTime))\r\n                            endTime = value.stopTime;\r\n                        trans.timeScale = this._timeScale;\r\n                        let localThis = this;\r\n                        trans._play(() => { localThis.onPlayTransCompleted(item); }, value.playTimes, 0, startTime, endTime, this._reversed);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case ActionType.Sound:\r\n                if (this._playing && item.time >= this._startTime) {\r\n                    if (value.audioClip == null) {\r\n                        var pi: PackageItem = UIPackage.getItemByURL(value.sound);\r\n                        if (pi)\r\n                            value.audioClip = <AudioClip>pi.owner.getItemAsset(pi);\r\n                    }\r\n                    if (value.audioClip)\r\n                        Decls.GRoot.inst.playOneShotSound(value.audioClip, value.volume);\r\n                }\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                item.target.setPosition(item.target.x - value.lastOffsetX + value.offsetX, item.target.y - value.lastOffsetY + value.offsetY);\r\n                value.lastOffsetX = value.offsetX;\r\n                value.lastOffsetY = value.offsetY;\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                {\r\n                    //TODO: filter support\r\n                    break;\r\n                }\r\n            case ActionType.Text:\r\n                item.target.text = value.text;\r\n                break;\r\n\r\n            case ActionType.Icon:\r\n                item.target.icon = value.text;\r\n                break;\r\n        }\r\n\r\n        item.target._gearLocked = false;\r\n    }\r\n\r\n    public setup(buffer: ByteBuffer): void {\r\n        this.name = buffer.readS();\r\n        this._options = buffer.readInt();\r\n        this._autoPlay = buffer.readBool();\r\n        this._autoPlayTimes = buffer.readInt();\r\n        this._autoPlayDelay = buffer.readFloat();\r\n\r\n        var cnt: number = buffer.readShort();\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var dataLen: number = buffer.readShort();\r\n            var curPos: number = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var item: Item = new Item(buffer.readByte());\r\n            this._items[i] = item;\r\n\r\n            item.time = buffer.readFloat();\r\n            var targetId: number = buffer.readShort();\r\n            if (targetId < 0)\r\n                item.targetId = \"\";\r\n            else\r\n                item.targetId = this._owner.getChildAt(targetId).id;\r\n            item.label = buffer.readS();\r\n\r\n            if (buffer.readBool()) {\r\n                buffer.seek(curPos, 1);\r\n\r\n                item.tweenConfig = new TweenConfig();\r\n                item.tweenConfig.duration = buffer.readFloat();\r\n                if (item.time + item.tweenConfig.duration > this._totalDuration)\r\n                    this._totalDuration = item.time + item.tweenConfig.duration;\r\n                item.tweenConfig.easeType = buffer.readByte();\r\n                item.tweenConfig.repeat = buffer.readInt();\r\n                item.tweenConfig.yoyo = buffer.readBool();\r\n                item.tweenConfig.endLabel = buffer.readS();\r\n\r\n                buffer.seek(curPos, 2);\r\n\r\n                this.decodeValue(item, buffer, item.tweenConfig.startValue);\r\n\r\n                buffer.seek(curPos, 3);\r\n\r\n                this.decodeValue(item, buffer, item.tweenConfig.endValue);\r\n\r\n                if (buffer.version >= 2) {\r\n                    var pathLen: number = buffer.readInt();\r\n                    if (pathLen > 0) {\r\n                        item.tweenConfig.path = new GPath();\r\n                        var pts: Array<GPathPoint> = new Array<GPathPoint>();\r\n\r\n                        for (var j: number = 0; j < pathLen; j++) {\r\n                            var curveType: number = buffer.readByte();\r\n                            switch (curveType) {\r\n                                case CurveType.Bezier:\r\n                                    pts.push(GPathPoint.newBezierPoint(buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat()));\r\n                                    break;\r\n\r\n                                case CurveType.CubicBezier:\r\n                                    pts.push(GPathPoint.newCubicBezierPoint(buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat(),\r\n                                        buffer.readFloat(), buffer.readFloat()));\r\n                                    break;\r\n\r\n                                default:\r\n                                    pts.push(GPathPoint.newPoint(buffer.readFloat(), buffer.readFloat(), curveType));\r\n                                    break;\r\n                            }\r\n                        }\r\n\r\n                        item.tweenConfig.path.create(pts);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (item.time > this._totalDuration)\r\n                    this._totalDuration = item.time;\r\n\r\n                buffer.seek(curPos, 2);\r\n\r\n                this.decodeValue(item, buffer, item.value);\r\n            }\r\n\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n    }\r\n\r\n    private decodeValue(item: Item, buffer: ByteBuffer, value: TValue): void {\r\n        switch (item.type) {\r\n            case ActionType.XY:\r\n            case ActionType.Size:\r\n            case ActionType.Pivot:\r\n            case ActionType.Skew:\r\n                value.b1 = buffer.readBool();\r\n                value.b2 = buffer.readBool();\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n\r\n                if (buffer.version >= 2 && item.type == ActionType.XY)\r\n                    value.b3 = buffer.readBool(); //percent\r\n                break;\r\n\r\n            case ActionType.Alpha:\r\n            case ActionType.Rotation:\r\n                value.f1 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Scale:\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Color:\r\n                let color = buffer.readColor();\r\n                value.f1 = (color.r << 16) + (color.g << 8) + color.b;\r\n                break;\r\n\r\n            case ActionType.Animation:\r\n                value.playing = buffer.readBool();\r\n                value.frame = buffer.readInt();\r\n                break;\r\n\r\n            case ActionType.Visible:\r\n                value.visible = buffer.readBool();\r\n                break;\r\n\r\n            case ActionType.Sound:\r\n                value.sound = buffer.readS();\r\n                value.volume = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Transition:\r\n                value.transName = buffer.readS();\r\n                value.playTimes = buffer.readInt();\r\n                break;\r\n\r\n            case ActionType.Shake:\r\n                value.amplitude = buffer.readFloat();\r\n                value.duration = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.ColorFilter:\r\n                value.f1 = buffer.readFloat();\r\n                value.f2 = buffer.readFloat();\r\n                value.f3 = buffer.readFloat();\r\n                value.f4 = buffer.readFloat();\r\n                break;\r\n\r\n            case ActionType.Text:\r\n            case ActionType.Icon:\r\n                value.text = buffer.readS();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nconst OPTION_IGNORE_DISPLAY_CONTROLLER: number = 1;\r\nconst OPTION_AUTO_STOP_DISABLED: number = 2;\r\nconst OPTION_AUTO_STOP_AT_END: number = 4;\r\n\r\nenum ActionType {\r\n    XY = 0,\r\n    Size = 1,\r\n    Scale = 2,\r\n    Pivot = 3,\r\n    Alpha = 4,\r\n    Rotation = 5,\r\n    Color = 6,\r\n    Animation = 7,\r\n    Visible = 8,\r\n    Sound = 9,\r\n    Transition = 10,\r\n    Shake = 11,\r\n    ColorFilter = 12,\r\n    Skew = 13,\r\n    Text = 14,\r\n    Icon = 15,\r\n    Unknown = 16\r\n}\r\n\r\nclass Item {\r\n    public time: number;\r\n    public targetId: string;\r\n    public type: ActionType;\r\n    public tweenConfig?: TweenConfig;\r\n    public label?: string;\r\n    public value: TValue;\r\n    public hook?: (label?: string) => void;\r\n\r\n    public tweener?: GTweener;\r\n    public target: GObject;\r\n    public displayLockToken: number;\r\n\r\n    constructor(type: number) {\r\n        this.type = type;\r\n        this.value = {};\r\n        this.displayLockToken = 0;\r\n    }\r\n}\r\n\r\nclass TweenConfig {\r\n    public duration: number;\r\n    public easeType: number;\r\n    public repeat: number;\r\n    public yoyo?: boolean;\r\n    public startValue: TValue;\r\n    public endValue: TValue;\r\n    public endLabel: string;\r\n    public endHook?: (label?: string) => void;\r\n    public path?: GPath;\r\n\r\n    constructor() {\r\n        this.easeType = EaseType.QuadOut;\r\n        this.startValue = { b1: true, b2: true };\r\n        this.endValue = { b1: true, b2: true };\r\n    }\r\n}\r\n\r\ninterface TValue {\r\n    visible?: boolean;\r\n\r\n    frame?: number;\r\n    playing?: boolean;\r\n    flag?: boolean;\r\n\r\n    sound?: string;\r\n    volume?: number;\r\n    audioClip?: AudioClip;\r\n\r\n    transName?: string;\r\n    playTimes?: number;\r\n    trans?: Transition;\r\n    stopTime?: number;\r\n\r\n    amplitude?: number;\r\n    duration?: number;\r\n    offsetX?: number;\r\n    offsetY?: number;\r\n    lastOffsetX?: number;\r\n    lastOffsetY?: number;\r\n\r\n    text?: string;\r\n\r\n    f1?: number;\r\n    f2?: number;\r\n    f3?: number;\r\n    f4?: number;\r\n\r\n    b1?: boolean;\r\n    b2?: boolean;\r\n    b3?: boolean;\r\n}","import { Mask, Vec2, Size, Node, UITransform, Constructor } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { IHitTest, PixelHitTest, ChildHitArea } from \"./event/HitTest\";\nimport { ChildrenRenderOrder, OverflowType, ObjectType } from \"./FieldTypes\";\nimport { GGraph } from \"./GGraph\";\nimport { GGroup } from \"./GGroup\";\nimport { GImage } from \"./GImage\";\nimport { GObject } from \"./GObject\";\nimport { Margin } from \"./Margin\";\nimport { PackageItem } from \"./PackageItem\";\nimport { ScrollPane } from \"./ScrollPane\";\nimport { Transition } from \"./Transition\";\nimport { TranslationHelper } from \"./TranslationHelper\";\nimport { UIContentScaler } from \"./UIContentScaler\";\nimport { Decls, IObjectFactoryType, UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GComponent extends GObject {\n    public hitArea?: IHitTest;\n\n    private _sortingChildCount: number = 0;\n    private _opaque: boolean;\n    private _applyingController?: Controller;\n    private _rectMask?: Mask;\n    private _maskContent?: GObject;\n\n    protected _margin: Margin;\n    protected _trackBounds: boolean;\n    protected _boundsChanged: boolean;\n    protected _childrenRenderOrder: ChildrenRenderOrder = ChildrenRenderOrder.Ascent;\n    protected _apexIndex: number = 0;\n\n    public _buildingDisplayList: boolean;\n    public _children: Array<GObject>;\n    public _controllers: Array<Controller>;\n    public _transitions: Array<Transition>;\n    public _container: Node;\n    public _scrollPane?: ScrollPane;\n    public _alignOffset: Vec2;\n    public _customMask?: Mask\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GComponent\";\n        this._children = new Array<GObject>();\n        this._controllers = new Array<Controller>();\n        this._transitions = new Array<Transition>();\n        this._margin = new Margin();\n        this._alignOffset = new Vec2();\n\n        this._container = new Node(\"Container\");\n        this._container.addComponent(UITransform).setAnchorPoint(0, 1);\n        this._node.addChild(this._container);\n    }\n\n    public dispose(): void {\n        var i: number;\n        var cnt: number;\n\n        cnt = this._transitions.length;\n        for (i = 0; i < cnt; ++i) {\n            var trans: Transition = this._transitions[i];\n            trans.dispose();\n        }\n\n        cnt = this._controllers.length;\n        for (i = 0; i < cnt; ++i) {\n            var cc: Controller = this._controllers[i];\n            cc.dispose();\n        }\n\n        if (this._scrollPane)\n            this._scrollPane.destroy();\n\n        cnt = this._children.length;\n        for (i = cnt - 1; i >= 0; --i) {\n            var obj: GObject = this._children[i];\n            obj._parent = null;//avoid removeFromParent call\n            obj.dispose();\n        }\n\n        this._boundsChanged = false;\n        super.dispose();\n    }\n\n    public get displayListContainer(): Node {\n        return this._container;\n    }\n\n    public addChild(child: GObject): GObject {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n\n    public addChildAt(child: GObject, index: number): GObject {\n        if (!child)\n            throw \"child is null\";\n\n        var numChildren: number = this._children.length;\n\n        if (index >= 0 && index <= numChildren) {\n            if (child.parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                child.removeFromParent();\n                child._parent = this;\n\n                var cnt: number = this._children.length;\n                if (child.sortingOrder != 0) {\n                    this._sortingChildCount++;\n                    index = this.getInsertPosForSortingChild(child);\n                }\n                else if (this._sortingChildCount > 0) {\n                    if (index > (cnt - this._sortingChildCount))\n                        index = cnt - this._sortingChildCount;\n                }\n\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n\n                this.onChildAdd(child, index);\n                this.setBoundsChangedFlag();\n            }\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    private getInsertPosForSortingChild(target: GObject): number {\n        var cnt: number = this._children.length;\n        var i: number = 0;\n        for (i = 0; i < cnt; i++) {\n            var child: GObject = this._children[i];\n            if (child == target)\n                continue;\n\n            if (target.sortingOrder < child.sortingOrder)\n                break;\n        }\n        return i;\n    }\n\n    public removeChild(child: GObject, dispose?: boolean): GObject {\n        var childIndex: number = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex, dispose);\n        }\n        return child;\n    }\n\n    public removeChildAt(index: number, dispose?: boolean): GObject {\n        if (index >= 0 && index < this.numChildren) {\n            var child: GObject = this._children[index];\n            child._parent = null;\n\n            if (child.sortingOrder != 0)\n                this._sortingChildCount--;\n\n            this._children.splice(index, 1);\n            child.group = null;\n            this._container.removeChild(child.node);\n            if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                this._partner.callLater(this.buildNativeDisplayList);\n\n            if (dispose)\n                child.dispose();\n            else\n                child.node.parent = null;\n\n            this.setBoundsChangedFlag();\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    public removeChildren(beginIndex?: number, endIndex?: number, dispose?: boolean): void {\n        if (beginIndex == undefined) beginIndex = 0;\n        if (endIndex == undefined) endIndex = -1;\n\n        if (endIndex < 0 || endIndex >= this.numChildren)\n            endIndex = this.numChildren - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex, dispose);\n    }\n\n    public getChildAt<T extends GObject>(index: number, classType?: Constructor<T>): T {\n        if (index >= 0 && index < this.numChildren)\n            return this._children[index] as T;\n        else\n            throw \"Invalid child index\";\n    }\n\n    public getChild<T extends GObject>(name: string, classType?: Constructor<T>): T {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            if (this._children[i].name == name)\n                return this._children[i] as T;\n        }\n\n        return null;\n    }\n\n    public getChildByPath<T extends GObject>(path: String, classType?: Constructor<T>): T {\n        var arr: string[] = path.split(\".\");\n        var cnt: number = arr.length;\n        var gcom: GComponent = this;\n        var obj: GObject;\n        for (var i: number = 0; i < cnt; ++i) {\n            obj = gcom.getChild(arr[i]);\n            if (!obj)\n                break;\n\n            if (i != cnt - 1) {\n                if (!(obj instanceof GComponent)) {\n                    obj = null;\n                    break;\n                }\n                else\n                    gcom = obj;\n            }\n        }\n\n        return obj as T;\n    }\n\n    public getVisibleChild(name: string): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (child._finalVisible && child.name == name)\n                return child;\n        }\n\n        return null;\n    }\n\n    public getChildInGroup(name: string, group: GGroup): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (child.group == group && child.name == name)\n                return child;\n        }\n\n        return null;\n    }\n\n    public getChildById(id: string): GObject {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            if (this._children[i]._id == id)\n                return this._children[i];\n        }\n\n        return null;\n    }\n\n    public getChildIndex(child: GObject): number {\n        return this._children.indexOf(child);\n    }\n\n    public setChildIndex(child: GObject, index: number): void {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        if (child.sortingOrder != 0) //no effect\n            return;\n\n        var cnt: number = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n\n        this._setChildIndex(child, oldIndex, index);\n    }\n\n    public setChildIndexBefore(child: GObject, index: number): number {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        if (child.sortingOrder != 0) //no effect\n            return oldIndex;\n\n        var cnt: number = this._children.length;\n        if (this._sortingChildCount > 0) {\n            if (index > (cnt - this._sortingChildCount - 1))\n                index = cnt - this._sortingChildCount - 1;\n        }\n\n        if (oldIndex < index)\n            return this._setChildIndex(child, oldIndex, index - 1);\n        else\n            return this._setChildIndex(child, oldIndex, index);\n    }\n\n    private _setChildIndex(child: GObject, oldIndex: number, index: number): number {\n        var cnt: number = this._children.length;\n        if (index > cnt)\n            index = cnt;\n\n        if (oldIndex == index)\n            return oldIndex;\n\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n\n        if (this._childrenRenderOrder == ChildrenRenderOrder.Ascent)\n            child.node.setSiblingIndex(index);\n        else if (this._childrenRenderOrder == ChildrenRenderOrder.Descent)\n            child.node.setSiblingIndex(cnt - index);\n        else\n            this._partner.callLater(this.buildNativeDisplayList);\n\n        this.setBoundsChangedFlag();\n\n        return index;\n    }\n\n    public swapChildren(child1: GObject, child2: GObject): void {\n        var index1: number = this._children.indexOf(child1);\n        var index2: number = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n\n    public swapChildrenAt(index1: number, index2: number): void {\n        var child1: GObject = this._children[index1];\n        var child2: GObject = this._children[index2];\n\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n\n    public get numChildren(): number {\n        return this._children.length;\n    }\n\n    public isAncestorOf(child: GObject): boolean {\n        if (child == null)\n            return false;\n\n        var p: GComponent = child.parent;\n        while (p) {\n            if (p == this)\n                return true;\n\n            p = p.parent;\n        }\n        return false;\n    }\n\n    public addController(controller: Controller): void {\n        this._controllers.push(controller);\n        controller.parent = this;\n        this.applyController(controller);\n    }\n\n    public getControllerAt(index: number): Controller {\n        return this._controllers[index];\n    }\n\n    public getController(name: string): Controller {\n        var cnt: number = this._controllers.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var c: Controller = this._controllers[i];\n            if (c.name == name)\n                return c;\n        }\n\n        return null;\n    }\n\n    public removeController(c: Controller): void {\n        var index: number = this._controllers.indexOf(c);\n        if (index == -1)\n            throw \"controller not exists\";\n\n        c.parent = null;\n        this._controllers.splice(index, 1);\n\n        var length: number = this._children.length;\n        for (var i: number = 0; i < length; i++) {\n            var child: GObject = this._children[i];\n            child.handleControllerChanged(c);\n        }\n    }\n\n    public get controllers(): Array<Controller> {\n        return this._controllers;\n    }\n\n    private onChildAdd(child: GObject, index: number): void {\n        child.node.parent = this._container;\n        child.node.active = child._finalVisible;\n\n        if (this._buildingDisplayList)\n            return;\n\n        let cnt: number = this._children.length;\n        if (this._childrenRenderOrder == ChildrenRenderOrder.Ascent)\n            child.node.setSiblingIndex(index);\n        else if (this._childrenRenderOrder == ChildrenRenderOrder.Descent)\n            child.node.setSiblingIndex(cnt - index);\n        else\n            this._partner.callLater(this.buildNativeDisplayList);\n    }\n\n    private buildNativeDisplayList(dt?: number): void {\n        if (!isNaN(dt)) {\n            let _t = <GComponent>GObject.cast(this.node);\n            _t.buildNativeDisplayList();\n            return;\n        }\n\n        let cnt: number = this._children.length;\n        if (cnt == 0)\n            return;\n\n        let child: GObject;\n        switch (this._childrenRenderOrder) {\n            case ChildrenRenderOrder.Ascent:\n                {\n                    let j = 0;\n                    for (let i = 0; i < cnt; i++) {\n                        child = this._children[i];\n                        child.node.setSiblingIndex(j++);\n                    }\n                }\n                break;\n            case ChildrenRenderOrder.Descent:\n                {\n                    let j = 0;\n                    for (let i = cnt - 1; i >= 0; i--) {\n                        child = this._children[i];\n                        child.node.setSiblingIndex(j++);\n                    }\n                }\n                break;\n\n            case ChildrenRenderOrder.Arch:\n                {\n                    let j = 0;\n                    for (let i = 0; i < this._apexIndex; i++) {\n                        child = this._children[i];\n                        child.node.setSiblingIndex(j++);\n                    }\n                    for (let i = cnt - 1; i >= this._apexIndex; i--) {\n                        child = this._children[i];\n                        child.node.setSiblingIndex(j++);\n                    }\n                }\n                break;\n        }\n    }\n\n    public applyController(c: Controller): void {\n        this._applyingController = c;\n        var child: GObject;\n        var length: number = this._children.length;\n        for (var i: number = 0; i < length; i++) {\n            child = this._children[i];\n            child.handleControllerChanged(c);\n        }\n        this._applyingController = null;\n\n        c.runActions();\n    }\n\n    public applyAllControllers(): void {\n        var cnt: number = this._controllers.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this.applyController(this._controllers[i]);\n        }\n    }\n\n    public adjustRadioGroupDepth(obj: GObject, c: Controller): void {\n        var cnt: number = this._children.length;\n        var i: number;\n        var child: GObject;\n        var myIndex: number = -1, maxIndex: number = -1;\n        for (i = 0; i < cnt; i++) {\n            child = this._children[i];\n            if (child == obj) {\n                myIndex = i;\n            }\n            else if ((\"relatedController\" in child)/*is button*/ && (<any>child).relatedController == c) {\n                if (i > maxIndex)\n                    maxIndex = i;\n            }\n        }\n        if (myIndex < maxIndex) {\n            if (this._applyingController)\n                this._children[maxIndex].handleControllerChanged(this._applyingController);\n            this.swapChildrenAt(myIndex, maxIndex);\n        }\n    }\n\n    public getTransitionAt(index: number): Transition {\n        return this._transitions[index];\n    }\n\n    public getTransition(transName: string): Transition {\n        var cnt: number = this._transitions.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var trans: Transition = this._transitions[i];\n            if (trans.name == transName)\n                return trans;\n        }\n\n        return null;\n    }\n\n    public isChildInView(child: GObject): boolean {\n        if (this._rectMask) {\n            return child.x + child.width >= 0 && child.x <= this.width\n                && child.y + child.height >= 0 && child.y <= this.height;\n        }\n        else if (this._scrollPane) {\n            return this._scrollPane.isChildInView(child);\n        }\n        else\n            return true;\n    }\n\n    public getFirstChildInView(): number {\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            var child: GObject = this._children[i];\n            if (this.isChildInView(child))\n                return i;\n        }\n        return -1;\n    }\n\n    public get scrollPane(): ScrollPane {\n        return this._scrollPane;\n    }\n\n    public get opaque(): boolean {\n        return this._opaque;\n    }\n\n    public set opaque(value: boolean) {\n        this._opaque = value;\n    }\n\n    public get margin(): Margin {\n        return this._margin;\n    }\n\n    public set margin(value: Margin) {\n        this._margin.copy(value);\n        this.handleSizeChanged();\n    }\n\n    public get childrenRenderOrder(): ChildrenRenderOrder {\n        return this._childrenRenderOrder;\n    }\n\n    public set childrenRenderOrder(value: ChildrenRenderOrder) {\n        if (this._childrenRenderOrder != value) {\n            this._childrenRenderOrder = value;\n            this.buildNativeDisplayList();\n        }\n    }\n\n    public get apexIndex(): number {\n        return this._apexIndex;\n    }\n\n    public set apexIndex(value: number) {\n        if (this._apexIndex != value) {\n            this._apexIndex = value;\n\n            if (this._childrenRenderOrder == ChildrenRenderOrder.Arch)\n                this.buildNativeDisplayList();\n        }\n    }\n\n    public get mask(): GObject {\n        return this._maskContent;\n    }\n\n    public set mask(value: GObject) {\n        this.setMask(value, false);\n    }\n\n    public setMask(value: GObject, inverted: boolean): void {\n        if (this._maskContent) {\n            this._maskContent.node.off(Node.EventType.TRANSFORM_CHANGED, this.onMaskContentChanged, this);\n            this._maskContent.node.off(Node.EventType.SIZE_CHANGED, this.onMaskContentChanged, this);\n            this._maskContent.node.off(Node.EventType.ANCHOR_CHANGED, this.onMaskContentChanged, this);\n            this._maskContent.visible = true;\n        }\n\n        this._maskContent = value;\n        if (this._maskContent) {\n            if (!(value instanceof GImage) && !(value instanceof GGraph))\n                return;\n\n            if (!this._customMask) {\n                let maskNode: Node = new Node(\"Mask\");\n                maskNode.addComponent(UITransform);\n                maskNode.parent = this._node;\n                if (this._scrollPane)\n                    this._container.parent.parent = maskNode;\n                else\n                    this._container.parent = maskNode;\n                this._customMask = maskNode.addComponent(Mask);\n            }\n\n            value.visible = false;\n            value.node.on(Node.EventType.TRANSFORM_CHANGED, this.onMaskContentChanged, this);\n            value.node.on(Node.EventType.SIZE_CHANGED, this.onMaskContentChanged, this);\n            value.node.on(Node.EventType.ANCHOR_CHANGED, this.onMaskContentChanged, this);\n\n            this._customMask.inverted = inverted;\n            if (this._node.activeInHierarchy)\n                this.onMaskReady();\n            else\n                this.on(FUIEvent.DISPLAY, this.onMaskReady, this);\n\n            this.onMaskContentChanged();\n            if (this._scrollPane)\n                this._scrollPane.adjustMaskContainer();\n            else\n                this._container.setPosition(0, 0);\n        }\n        else if (this._customMask) {\n            if (this._scrollPane)\n                this._container.parent.parent = this._node;\n            else\n                this._container.parent = this._node;\n            this._customMask.node.destroy();\n            this._customMask = null;\n\n            if (this._scrollPane)\n                this._scrollPane.adjustMaskContainer();\n            else\n                this._container.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n        }\n    }\n\n    private onMaskReady() {\n        this.off(FUIEvent.DISPLAY, this.onMaskReady, this);\n\n        if (this._maskContent instanceof GImage) {\n            this._customMask.type = Mask.Type.IMAGE_STENCIL;\n            this._customMask.alphaThreshold = 0.0001;\n            this._customMask.spriteFrame = this._maskContent._content.spriteFrame;\n        }\n        else if (this._maskContent instanceof GGraph) {\n            if (this._maskContent.type == 2)\n                this._customMask.type = Mask.Type.ELLIPSE;\n            else\n                this._customMask.type = Mask.Type.RECT;\n        }\n    }\n\n    private onMaskContentChanged() {\n        let maskNode: Node = this._customMask.node;\n        let maskUITrans: UITransform = maskNode.getComponent(UITransform);\n\n        let contentNode: Node = this._maskContent.node;\n        let contentUITrans: UITransform = this._maskContent._uiTrans;\n\n        let w: number = this._maskContent.width * this._maskContent.scaleX;\n        let h: number = this._maskContent.height * this._maskContent.scaleY;\n\n        maskUITrans.setContentSize(w, h);\n\n        let left: number = contentNode.position.x - contentUITrans.anchorX * w;\n        let top: number = contentNode.position.y - contentUITrans.anchorY * h;\n        maskUITrans.setAnchorPoint(-left / maskUITrans.width, -top / maskUITrans.height);\n\n        maskNode.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n    }\n\n    public get _pivotCorrectX(): number {\n        return -this.pivotX * this._width + this._margin.left;\n    }\n\n    public get _pivotCorrectY(): number {\n        return this.pivotY * this._height - this._margin.top;\n    }\n\n    public get baseUserData(): string {\n        var buffer: ByteBuffer = this.packageItem.rawData;\n        buffer.seek(0, 4);\n        return buffer.readS();\n    }\n\n    protected setupScroll(buffer: ByteBuffer): void {\n        this._scrollPane = this._node.addComponent(ScrollPane);\n        this._scrollPane.setup(buffer);\n    }\n\n    protected setupOverflow(overflow: OverflowType): void {\n        if (overflow == OverflowType.Hidden)\n            this._rectMask = this._container.addComponent(Mask);\n\n        if (!this._margin.isNone)\n            this.handleSizeChanged();\n    }\n\n    protected handleAnchorChanged(): void {\n        super.handleAnchorChanged();\n\n        if (this._customMask)\n            this._customMask.node.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n        else if (this._scrollPane)\n            this._scrollPane.adjustMaskContainer();\n        else\n            this._container.setPosition(this._pivotCorrectX + this._alignOffset.x, this._pivotCorrectY - this._alignOffset.y);\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._customMask)\n            this._customMask.node.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n        else if (!this._scrollPane)\n            this._container.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n\n        if (this._scrollPane)\n            this._scrollPane.onOwnerSizeChanged();\n        else\n            this._container._uiProps.uiTransformComp.setContentSize(this.viewWidth, this.viewHeight);\n    }\n\n    protected handleGrayedChanged(): void {\n        var c: Controller = this.getController(\"grayed\");\n        if (c) {\n            c.selectedIndex = this.grayed ? 1 : 0;\n            return;\n        }\n\n        var v: boolean = this.grayed;\n        var cnt: number = this._children.length;\n        for (var i: number = 0; i < cnt; ++i) {\n            this._children[i].grayed = v;\n        }\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._scrollPane)\n            this._scrollPane.handleControllerChanged(c);\n    }\n\n    protected _hitTest(pt: Vec2, globalPt: Vec2): GObject {\n        if (this._customMask) {\n            s_vec2.set(globalPt);\n            s_vec2.y = UIContentScaler.rootSize.height - globalPt.y;\n            let b = this._customMask.isHit(s_vec2) || false;\n            if (!b)\n                return null;\n        }\n\n        if (this.hitArea) {\n            if (!this.hitArea.hitTest(pt, globalPt))\n                return null;\n        }\n        else if (this._rectMask) {\n            s_vec2.set(pt);\n            s_vec2.x += this._container.position.x;\n            s_vec2.y += this._container.position.y;\n\n            let clippingSize: Size = this._container._uiProps.uiTransformComp.contentSize;\n            if (s_vec2.x < 0 || s_vec2.y < 0 || s_vec2.x >= clippingSize.width || s_vec2.y >= clippingSize.height)\n                return null;\n        }\n\n        if (this._scrollPane) {\n            let target = this._scrollPane.hitTest(pt, globalPt);\n            if (!target)\n                return null;\n\n            if (target != this)\n                return target;\n        }\n\n        let target: GObject = null;\n\n        let cnt = this._children.length;\n        for (let i = cnt - 1; i >= 0; i--) {\n            let child = this._children[i];\n            if (this._maskContent == child || child._touchDisabled)\n                continue;\n\n            target = child.hitTest(globalPt);\n            if (target)\n                break;\n        }\n\n        if (!target && this._opaque && (this.hitArea || pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height))\n            target = this;\n\n        return target;\n    }\n\n    public setBoundsChangedFlag(): void {\n        if (!this._scrollPane && !this._trackBounds)\n            return;\n\n        if (!this._boundsChanged) {\n            this._boundsChanged = true;\n\n            this._partner.callLater(this.refresh);\n        }\n    }\n\n    private refresh(dt?: number): void {\n        if (!isNaN(dt)) {\n            let _t = <GComponent>GObject.cast(this.node);\n            _t.refresh();\n            return;\n        }\n\n        if (this._boundsChanged) {\n            var len: number = this._children.length;\n            if (len > 0) {\n                for (var i: number = 0; i < len; i++) {\n                    var child: GObject = this._children[i];\n                    child.ensureSizeCorrect();\n                }\n            }\n\n            this.updateBounds();\n        }\n    }\n\n    public ensureBoundsCorrect(): void {\n        var len: number = this._children.length;\n        if (len > 0) {\n            for (var i: number = 0; i < len; i++) {\n                var child: GObject = this._children[i];\n                child.ensureSizeCorrect();\n            }\n        }\n\n        if (this._boundsChanged)\n            this.updateBounds();\n    }\n\n    protected updateBounds(): void {\n        var ax: number = 0, ay: number = 0, aw: number = 0, ah: number = 0;\n        var len: number = this._children.length;\n        if (len > 0) {\n            ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n            var ar: number = Number.NEGATIVE_INFINITY, ab: number = Number.NEGATIVE_INFINITY;\n            var tmp: number = 0;\n            var i: number = 0;\n\n            for (var i: number = 0; i < len; i++) {\n                var child: GObject = this._children[i];\n                tmp = child.x;\n                if (tmp < ax)\n                    ax = tmp;\n                tmp = child.y;\n                if (tmp < ay)\n                    ay = tmp;\n                tmp = child.x + child.actualWidth;\n                if (tmp > ar)\n                    ar = tmp;\n                tmp = child.y + child.actualHeight;\n                if (tmp > ab)\n                    ab = tmp;\n            }\n            aw = ar - ax;\n            ah = ab - ay;\n        }\n\n        this.setBounds(ax, ay, aw, ah);\n    }\n\n    public setBounds(ax: number, ay: number, aw: number, ah: number = 0): void {\n        this._boundsChanged = false;\n\n        if (this._scrollPane)\n            this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\n    }\n\n    public get viewWidth(): number {\n        if (this._scrollPane)\n            return this._scrollPane.viewWidth;\n        else\n            return this.width - this._margin.left - this._margin.right;\n    }\n\n    public set viewWidth(value: number) {\n        if (this._scrollPane)\n            this._scrollPane.viewWidth = value;\n        else\n            this.width = value + this._margin.left + this._margin.right;\n    }\n\n    public get viewHeight(): number {\n        if (this._scrollPane)\n            return this._scrollPane.viewHeight;\n        else\n            return this.height - this._margin.top - this._margin.bottom;\n    }\n\n    public set viewHeight(value: number) {\n        if (this._scrollPane)\n            this._scrollPane.viewHeight = value;\n        else\n            this.height = value + this._margin.top + this._margin.bottom;\n    }\n\n    public getSnappingPosition(xValue: number, yValue: number, resultPoint?: Vec2): Vec2 {\n        if (!resultPoint)\n            resultPoint = new Vec2();\n\n        var cnt: number = this._children.length;\n        if (cnt == 0) {\n            resultPoint.x = 0;\n            resultPoint.y = 0;\n            return resultPoint;\n        }\n\n        this.ensureBoundsCorrect();\n\n        var obj: GObject = null;\n        var prev: GObject = null;\n        var i: number = 0;\n        if (yValue != 0) {\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (yValue < obj.y) {\n                    if (i == 0) {\n                        yValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (yValue < prev.y + prev.actualHeight / 2) //top half part\n                            yValue = prev.y;\n                        else //bottom half part\n                            yValue = obj.y;\n                        break;\n                    }\n                }\n            }\n\n            if (i == cnt)\n                yValue = obj.y;\n        }\n\n        if (xValue != 0) {\n            if (i > 0)\n                i--;\n            for (; i < cnt; i++) {\n                obj = this._children[i];\n                if (xValue < obj.x) {\n                    if (i == 0) {\n                        xValue = 0;\n                        break;\n                    }\n                    else {\n                        prev = this._children[i - 1];\n                        if (xValue < prev.x + prev.actualWidth / 2) //top half part\n                            xValue = prev.x;\n                        else //bottom half part\n                            xValue = obj.x;\n                        break;\n                    }\n                }\n            }\n\n            if (i == cnt)\n                xValue = obj.x;\n        }\n\n        resultPoint.x = xValue;\n        resultPoint.y = yValue;\n        return resultPoint;\n    }\n\n    public childSortingOrderChanged(child: GObject, oldValue: number, newValue: number = 0): void {\n        if (newValue == 0) {\n            this._sortingChildCount--;\n            this.setChildIndex(child, this._children.length);\n        }\n        else {\n            if (oldValue == 0)\n                this._sortingChildCount++;\n\n            var oldIndex: number = this._children.indexOf(child);\n            var index: number = this.getInsertPosForSortingChild(child);\n            if (oldIndex < index)\n                this._setChildIndex(child, oldIndex, index - 1);\n            else\n                this._setChildIndex(child, oldIndex, index);\n        }\n    }\n\n    public constructFromResource(): void {\n        this.constructFromResource2(null, 0);\n    }\n\n    public constructFromResource2(objectPool: Array<GObject>, poolIndex: number): void {\n        var contentItem: PackageItem = this.packageItem.getBranch();\n\n        if (!contentItem.decoded) {\n            contentItem.decoded = true;\n            TranslationHelper.translateComponent(contentItem);\n        }\n\n        var i: number;\n        var dataLen: number;\n        var curPos: number;\n        var nextPos: number;\n        var f1: number;\n        var f2: number;\n        var i1: number;\n        var i2: number;\n\n        var buffer: ByteBuffer = contentItem.rawData;\n        buffer.seek(0, 0);\n\n        this._underConstruct = true;\n\n        this.sourceWidth = buffer.readInt();\n        this.sourceHeight = buffer.readInt();\n        this.initWidth = this.sourceWidth;\n        this.initHeight = this.sourceHeight;\n\n        this.setSize(this.sourceWidth, this.sourceHeight);\n\n        if (buffer.readBool()) {\n            this.minWidth = buffer.readInt();\n            this.maxWidth = buffer.readInt();\n            this.minHeight = buffer.readInt();\n            this.maxHeight = buffer.readInt();\n        }\n\n        if (buffer.readBool()) {\n            f1 = buffer.readFloat();\n            f2 = buffer.readFloat();\n            this.setPivot(f1, f2, buffer.readBool());\n        }\n\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n\n        var overflow: number = buffer.readByte();\n        if (overflow == OverflowType.Scroll) {\n            var savedPos: number = buffer.position;\n            buffer.seek(0, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n\n        if (buffer.readBool())\n            buffer.skip(8);\n\n        this._buildingDisplayList = true;\n\n        buffer.seek(0, 1);\n\n        var controllerCount: number = buffer.readShort();\n        for (i = 0; i < controllerCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var controller: Controller = new Controller();\n            this._controllers.push(controller);\n            controller.parent = this;\n            controller.setup(buffer);\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 2);\n\n        var child: GObject;\n        var childCount: number = buffer.readShort();\n        for (i = 0; i < childCount; i++) {\n            dataLen = buffer.readShort();\n            curPos = buffer.position;\n\n            if (objectPool)\n                child = objectPool[poolIndex + i];\n            else {\n                buffer.seek(curPos, 0);\n\n                var type: ObjectType = buffer.readByte();\n                var src: string = buffer.readS();\n                var pkgId: string = buffer.readS();\n\n                var pi: PackageItem = null;\n                if (src != null) {\n                    var pkg: UIPackage;\n                    if (pkgId != null)\n                        pkg = UIPackage.getById(pkgId);\n                    else\n                        pkg = contentItem.owner;\n\n                    pi = pkg ? pkg.getItemById(src) : null;\n                }\n\n                if (pi) {\n                    child = Decls.UIObjectFactory.newObject(pi);\n                    child.constructFromResource();\n                }\n                else\n                    child = Decls.UIObjectFactory.newObject(type);\n            }\n\n            child._underConstruct = true;\n            child.setup_beforeAdd(buffer, curPos);\n            child._parent = this;\n            child.node.parent = this._container;\n            this._children.push(child);\n\n            buffer.position = curPos + dataLen;\n        }\n\n        buffer.seek(0, 3);\n        this.relations.setup(buffer, true);\n\n        buffer.seek(0, 2);\n        buffer.skip(2);\n\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            buffer.seek(buffer.position, 3);\n            this._children[i].relations.setup(buffer, false);\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 2);\n        buffer.skip(2);\n\n        for (i = 0; i < childCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            child = this._children[i];\n            child.setup_afterAdd(buffer, buffer.position);\n            child._underConstruct = false;\n\n            buffer.position = nextPos;\n        }\n\n        buffer.seek(0, 4);\n\n        buffer.skip(2); //customData\n        this.opaque = buffer.readBool();\n        var maskId: number = buffer.readShort();\n        if (maskId != -1) {\n            this.setMask(this.getChildAt(maskId), buffer.readBool());\n        }\n\n        var hitTestId: string = buffer.readS();\n        i1 = buffer.readInt();\n        i2 = buffer.readInt();\n\n        if (hitTestId != null) {\n            pi = contentItem.owner.getItemById(hitTestId);\n            if (pi && pi.hitTestData)\n                this.hitArea = new PixelHitTest(pi.hitTestData, i1, i2);\n        }\n        else if (i1 != 0 && i2 != -1) {\n            this.hitArea = new ChildHitArea(this.getChildAt(i2));\n        }\n\n        buffer.seek(0, 5);\n\n        var transitionCount: number = buffer.readShort();\n        for (i = 0; i < transitionCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            var trans: Transition = new Transition(this);\n            trans.setup(buffer);\n            this._transitions.push(trans);\n\n            buffer.position = nextPos;\n        }\n\n        this.applyAllControllers();\n\n        this._buildingDisplayList = false;\n        this._underConstruct = false;\n\n        this.buildNativeDisplayList();\n        this.setBoundsChangedFlag();\n\n        if (contentItem.objectType != ObjectType.Component)\n            this.constructExtension(buffer);\n\n        this.onConstruct();\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n    }\n\n    protected onConstruct(): void {\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 4);\n\n        var pageController: number = buffer.readShort();\n        if (pageController != -1 && this._scrollPane)\n            this._scrollPane.pageController = this._parent.getControllerAt(pageController);\n\n        var cnt: number = buffer.readShort();\n        for (var i: number = 0; i < cnt; i++) {\n            var cc: Controller = this.getController(buffer.readS());\n            var pageId: string = buffer.readS();\n            if (cc)\n                cc.selectedPageId = pageId;\n        }\n\n        if (buffer.version >= 2) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var target: string = buffer.readS();\n                var propertyId: number = buffer.readShort();\n                var value: String = buffer.readS();\n                var obj: GObject = this.getChildByPath(target);\n                if (obj)\n                    obj.setProp(propertyId, value);\n            }\n        }\n    }\n\n    protected onEnable(): void {\n        let cnt: number = this._transitions.length;\n        for (let i: number = 0; i < cnt; ++i)\n            this._transitions[i].onEnable();\n    }\n\n    protected onDisable(): void {\n        let cnt: number = this._transitions.length;\n        for (let i: number = 0; i < cnt; ++i)\n            this._transitions[i].onDisable();\n    }\n}\n\nvar s_vec2: Vec2 = new Vec2();","import { Node, Vec2 } from \"cc\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { RelationType } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { GRoot } from \"./GRoot\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\n\nexport interface IUISource {\n    fileName: string;\n    loaded: boolean;\n\n    load(callback: () => void, target: any): void;\n}\n\nexport class Window extends GComponent {\n    private _contentPane: GComponent;\n    private _modalWaitPane: GObject;\n    private _closeButton: GObject;\n    private _dragArea: GObject;\n    private _contentArea: GObject;\n    private _frame: GComponent;\n    private _modal: boolean;\n\n    private _uiSources?: Array<IUISource>;\n    private _inited?: boolean;\n    private _loading?: boolean;\n\n    protected _requestingCmd: number = 0;\n\n    public bringToFontOnClick: boolean;\n\n    public constructor() {\n        super();\n        this._uiSources = new Array<IUISource>();\n        this.bringToFontOnClick = UIConfig.bringWindowToFrontOnClick;\n\n        this._node.on(FUIEvent.TOUCH_BEGIN, this.onTouchBegin_1, this, true);\n    }\n\n    public addUISource(source: IUISource): void {\n        this._uiSources.push(source);\n    }\n\n    public set contentPane(val: GComponent) {\n        if (this._contentPane != val) {\n            if (this._contentPane)\n                this.removeChild(this._contentPane);\n            this._contentPane = val;\n            if (this._contentPane) {\n                this.addChild(this._contentPane);\n                this.setSize(this._contentPane.width, this._contentPane.height);\n                this._contentPane.addRelation(this, RelationType.Size);\n                this._frame = <GComponent>(this._contentPane.getChild(\"frame\"));\n                if (this._frame) {\n                    this.closeButton = this._frame.getChild(\"closeButton\");\n                    this.dragArea = this._frame.getChild(\"dragArea\");\n                    this.contentArea = this._frame.getChild(\"contentArea\");\n                }\n            }\n        }\n    }\n\n    public get contentPane(): GComponent {\n        return this._contentPane;\n    }\n\n    public get frame(): GComponent {\n        return this._frame;\n    }\n\n    public get closeButton(): GObject {\n        return this._closeButton;\n    }\n\n    public set closeButton(value: GObject) {\n        if (this._closeButton)\n            this._closeButton.offClick(this.closeEventHandler, this);\n        this._closeButton = value;\n        if (this._closeButton)\n            this._closeButton.onClick(this.closeEventHandler, this);\n    }\n\n    public get dragArea(): GObject {\n        return this._dragArea;\n    }\n\n    public set dragArea(value: GObject) {\n        if (this._dragArea != value) {\n            if (this._dragArea) {\n                this._dragArea.draggable = false;\n                this._dragArea.off(FUIEvent.DRAG_START, this.onDragStart_1, this);\n            }\n\n            this._dragArea = value;\n            if (this._dragArea) {\n                this._dragArea.draggable = true;\n                this._dragArea.on(FUIEvent.DRAG_START, this.onDragStart_1, this);\n            }\n        }\n    }\n\n    public get contentArea(): GObject {\n        return this._contentArea;\n    }\n\n    public set contentArea(value: GObject) {\n        this._contentArea = value;\n    }\n\n    public show(): void {\n        GRoot.inst.showWindow(this);\n    }\n\n    public showOn(root: GRoot): void {\n        root.showWindow(this);\n    }\n\n    public hide(): void {\n        if (this.isShowing)\n            this.doHideAnimation();\n    }\n\n    public hideImmediately(): void {\n        var r: GRoot = (this.parent instanceof GRoot) ? this.parent : null;\n        if (!r)\n            r = GRoot.inst;\n        r.hideWindowImmediately(this);\n    }\n\n    public centerOn(r: GRoot, restraint?: boolean) {\n        this.setPosition(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\n        if (restraint) {\n            this.addRelation(r, RelationType.Center_Center);\n            this.addRelation(r, RelationType.Middle_Middle);\n        }\n    }\n\n    public toggleStatus(): void {\n        if (this.isTop)\n            this.hide();\n        else\n            this.show();\n    }\n\n    public get isShowing(): boolean {\n        return this.parent != null;\n    }\n\n    public get isTop(): boolean {\n        return this.parent && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\n    }\n\n    public get modal(): boolean {\n        return this._modal;\n    }\n\n    public set modal(val: boolean) {\n        this._modal = val;\n    }\n\n    public bringToFront(): void {\n        GRoot.inst.bringToFront(this);\n    }\n\n    public showModalWait(requestingCmd?: number): void {\n        if (requestingCmd != null)\n            this._requestingCmd = requestingCmd;\n\n        if (UIConfig.windowModalWaiting) {\n            if (!this._modalWaitPane)\n                this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig.windowModalWaiting);\n\n            this.layoutModalWaitPane();\n\n            this.addChild(this._modalWaitPane);\n        }\n    }\n\n    protected layoutModalWaitPane(): void {\n        if (this._contentArea) {\n            var pt: Vec2 = this._frame.localToGlobal();\n            pt = this.globalToLocal(pt.x, pt.y, pt);\n            this._modalWaitPane.setPosition(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\n            this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\n        }\n        else\n            this._modalWaitPane.setSize(this.width, this.height);\n    }\n\n    public closeModalWait(requestingCmd?: number): boolean {\n        if (requestingCmd != null) {\n            if (this._requestingCmd != requestingCmd)\n                return false;\n        }\n        this._requestingCmd = 0;\n\n        if (this._modalWaitPane && this._modalWaitPane.parent)\n            this.removeChild(this._modalWaitPane);\n\n        return true;\n    }\n\n    public get modalWaiting(): boolean {\n        return this._modalWaitPane && this._modalWaitPane.parent != null;\n    }\n\n\n    public init(): void {\n        if (this._inited || this._loading)\n            return;\n\n        if (this._uiSources.length > 0) {\n            this._loading = false;\n            var cnt: number = this._uiSources.length;\n            for (var i: number = 0; i < cnt; i++) {\n                var lib: IUISource = this._uiSources[i];\n                if (!lib.loaded) {\n                    lib.load(this.__uiLoadComplete, this);\n                    this._loading = true;\n                }\n            }\n\n            if (!this._loading)\n                this._init();\n        }\n        else\n            this._init();\n    }\n\n    protected onInit(): void {\n    }\n\n    protected onShown(): void {\n    }\n\n    protected onHide(): void {\n    }\n\n    protected doShowAnimation(): void {\n        this.onShown();\n    }\n\n    protected doHideAnimation(): void {\n        this.hideImmediately();\n    }\n\n    private __uiLoadComplete(): void {\n        var cnt: number = this._uiSources.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var lib: IUISource = this._uiSources[i];\n            if (!lib.loaded)\n                return;\n        }\n\n        this._loading = false;\n        this._init();\n    }\n\n    private _init(): void {\n        this._inited = true;\n        this.onInit();\n\n        if (this.isShowing)\n            this.doShowAnimation();\n    }\n\n    public dispose(): void {\n        if (this.parent)\n            this.hideImmediately();\n\n        super.dispose();\n    }\n\n    protected closeEventHandler(evt: Event): void {\n        this.hide();\n    }\n\n    protected onEnable(): void {\n        super.onEnable();\n\n        if (!this._inited)\n            this.init();\n        else\n            this.doShowAnimation();\n    }\n\n    protected onDisable(): void {\n        super.onDisable();\n\n        this.closeModalWait();\n        this.onHide();\n    }\n\n    private onTouchBegin_1(evt: FUIEvent): void {\n        if (this.isShowing && this.bringToFontOnClick)\n            this.bringToFront();\n    }\n\n    private onDragStart_1(evt: FUIEvent): void {\n        var original: GObject = GObject.cast(<Node>evt.currentTarget);\n        original.stopDrag();\n\n        this.startDrag(evt.touchId);\n    }\n}","import { director, Color, view, Vec2, AudioClip, View, AudioSourceComponent, Event, Node } from \"cc\";\nimport { EDITOR } from \"cc/env\";\nimport { InputProcessor } from \"./event/InputProcessor\";\nimport { RelationType, PopupDirection } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GGraph } from \"./GGraph\";\nimport { Decls, GObject } from \"./GObject\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIContentScaler, updateScaler } from \"./UIContentScaler\";\nimport { UIPackage } from \"./UIPackage\";\nimport { Window } from \"./Window\";\n\nexport class GRoot extends GComponent {\n    private _modalLayer: GGraph;\n    private _popupStack: Array<GObject>;\n    private _justClosedPopups: Array<GObject>;\n    private _modalWaitPane: GObject;\n    private _tooltipWin: GObject;\n    private _defaultTooltipWin: GObject;\n    private _volumeScale: number;\n    private _inputProcessor: InputProcessor;\n    private _thisOnResized: () => void;\n    private audioEngine: AudioSourceComponent;\n\n    private static _inst: GRoot;\n\n    public static get inst(): GRoot {\n        if (!GRoot._inst)\n            throw 'Call GRoot.create first!';\n\n        return GRoot._inst;\n    }\n\n    public static create(): GRoot {\n        GRoot._inst = new GRoot();\n        director.getScene().addChild(GRoot._inst.node);\n\n        return GRoot._inst;\n    }\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GRoot\";\n        this.opaque = false;\n        this._volumeScale = 1;\n        this._popupStack = new Array<GObject>();\n        this._justClosedPopups = new Array<GObject>();\n\n        this._modalLayer = new GGraph();\n        this._modalLayer.setSize(this.width, this.height);\n        this._modalLayer.drawRect(0, Color.TRANSPARENT, UIConfig.modalLayerColor);\n        this._modalLayer.addRelation(this, RelationType.Size);\n\n        this._thisOnResized = this.onWinResize.bind(this);\n\n        this._inputProcessor = this.node.addComponent(InputProcessor);\n        this._inputProcessor._captureCallback = this.onTouchBegin_1;\n\n        View.instance.on('design-resolution-changed', this.onWinResize, this);\n        if (!EDITOR) {\n            View.instance.on('canvas-resize', this._thisOnResized);\n            window.addEventListener('orientationchange', this._thisOnResized);\n        }\n\n        this.onWinResize();\n    }\n\n    protected onDestroy(): void {\n        View.instance.off('design-resolution-changed', this.onWinResize, this);\n        if (!EDITOR) {\n            View.instance.off('canvas-resize', this._thisOnResized);\n            window.removeEventListener('orientationchange', this._thisOnResized);\n        }\n\n        if (this == GRoot._inst)\n            GRoot._inst = null;\n    }\n\n    public getTouchPosition(touchId?: number): Vec2 {\n        return this._inputProcessor.getTouchPosition(touchId);\n    }\n\n    public get touchTarget(): GObject {\n        return this._inputProcessor.getTouchTarget();\n    }\n\n    public get inputProcessor(): InputProcessor {\n        return this._inputProcessor;\n    }\n\n    public showWindow(win: Window): void {\n        this.addChild(win);\n        win.requestFocus();\n\n        if (win.x > this.width)\n            win.x = this.width - win.width;\n        else if (win.x + win.width < 0)\n            win.x = 0;\n\n        if (win.y > this.height)\n            win.y = this.height - win.height;\n        else if (win.y + win.height < 0)\n            win.y = 0;\n\n        this.adjustModalLayer();\n    }\n\n    public hideWindow(win: Window): void {\n        win.hide();\n    }\n\n    public hideWindowImmediately(win: Window): void {\n        if (win.parent == this)\n            this.removeChild(win);\n\n        this.adjustModalLayer();\n    }\n\n    public bringToFront(win: Window): void {\n        var cnt: number = this.numChildren;\n        var i: number;\n        if (this._modalLayer.parent && !win.modal)\n            i = this.getChildIndex(this._modalLayer) - 1;\n        else\n            i = cnt - 1;\n\n        for (; i >= 0; i--) {\n            var g: GObject = this.getChildAt(i);\n            if (g == win)\n                return;\n            if (g instanceof Window)\n                break;\n        }\n\n        if (i >= 0)\n            this.setChildIndex(win, i);\n    }\n\n    public showModalWait(msg?: string): void {\n        if (UIConfig.globalModalWaiting != null) {\n            if (this._modalWaitPane == null)\n                this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig.globalModalWaiting);\n            this._modalWaitPane.setSize(this.width, this.height);\n            this._modalWaitPane.addRelation(this, RelationType.Size);\n\n            this.addChild(this._modalWaitPane);\n            this._modalWaitPane.text = msg;\n        }\n    }\n\n    public closeModalWait(): void {\n        if (this._modalWaitPane && this._modalWaitPane.parent)\n            this.removeChild(this._modalWaitPane);\n    }\n\n    public closeAllExceptModals(): void {\n        var arr: Array<GObject> = this._children.slice();\n        var cnt: number = arr.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var g: GObject = arr[i];\n            if ((g instanceof Window) && !g.modal)\n                g.hide();\n        }\n    }\n\n    public closeAllWindows(): void {\n        var arr: Array<GObject> = this._children.slice();\n        var cnt: number = arr.length;\n        for (var i: number = 0; i < cnt; i++) {\n            var g: GObject = arr[i];\n            if (g instanceof Window)\n                g.hide();\n        }\n    }\n\n    public getTopWindow(): Window {\n        var cnt: number = this.numChildren;\n        for (var i: number = cnt - 1; i >= 0; i--) {\n            var g: GObject = this.getChildAt(i);\n            if (g instanceof Window) {\n                return g;\n            }\n        }\n\n        return null;\n    }\n\n    public get modalLayer(): GGraph {\n        return this._modalLayer;\n    }\n\n    public get hasModalWindow(): boolean {\n        return this._modalLayer.parent != null;\n    }\n\n    public get modalWaiting(): boolean {\n        return this._modalWaitPane && this._modalWaitPane.node.activeInHierarchy;\n    }\n\n    public getPopupPosition(popup: GObject, target?: GObject, dir?: PopupDirection | boolean, result?: Vec2): Vec2 {\n        let pos = result || new Vec2();\n        var sizeW: number = 0, sizeH: number = 0;\n        if (target) {\n            pos = target.localToGlobal();\n            let pos2 = target.localToGlobal(target.width, target.height);\n            sizeW = pos2.x - pos.x;\n            sizeH = pos2.y - pos.y;\n        }\n        else {\n            pos = this.getTouchPosition();\n            pos = this.globalToLocal(pos.x, pos.y);\n        }\n\n        if (pos.x + popup.width > this.width)\n            pos.x = pos.x + sizeW - popup.width;\n        pos.y += sizeH;\n        if (((dir === undefined || dir === PopupDirection.Auto) && pos.y + popup.height > this.height)\n            || dir === false || dir === PopupDirection.Up) {\n            pos.y = pos.y - sizeH - popup.height - 1;\n            if (pos.y < 0) {\n                pos.y = 0;\n                pos.x += sizeW / 2;\n            }\n        }\n\n        return pos;\n    }\n\n    public showPopup(popup: GObject, target?: GObject, dir?: PopupDirection | boolean): void {\n        if (this._popupStack.length > 0) {\n            var k: number = this._popupStack.indexOf(popup);\n            if (k != -1) {\n                for (var i: number = this._popupStack.length - 1; i >= k; i--)\n                    this.removeChild(this._popupStack.pop());\n            }\n        }\n        this._popupStack.push(popup);\n\n        if (target) {\n            var p: GObject = target;\n            while (p) {\n                if (p.parent == this) {\n                    if (popup.sortingOrder < p.sortingOrder) {\n                        popup.sortingOrder = p.sortingOrder;\n                    }\n                    break;\n                }\n                p = p.parent;\n            }\n        }\n\n        this.addChild(popup);\n        this.adjustModalLayer();\n\n        let pt = this.getPopupPosition(popup, target, dir);\n        popup.setPosition(pt.x, pt.y);\n    }\n\n    public togglePopup(popup: GObject, target?: GObject, dir?: PopupDirection | boolean): void {\n        if (this._justClosedPopups.indexOf(popup) != -1)\n            return;\n\n        this.showPopup(popup, target, dir);\n    }\n\n    public hidePopup(popup?: GObject): void {\n        if (popup) {\n            var k: number = this._popupStack.indexOf(popup);\n            if (k != -1) {\n                for (var i: number = this._popupStack.length - 1; i >= k; i--)\n                    this.closePopup(this._popupStack.pop());\n            }\n        }\n        else {\n            var cnt: number = this._popupStack.length;\n            for (i = cnt - 1; i >= 0; i--)\n                this.closePopup(this._popupStack[i]);\n            this._popupStack.length = 0;\n        }\n    }\n\n    public get hasAnyPopup(): boolean {\n        return this._popupStack.length != 0;\n    }\n\n    private closePopup(target: GObject): void {\n        if (target.parent) {\n            if (target instanceof Window)\n                target.hide();\n            else\n                this.removeChild(target);\n        }\n    }\n\n    public showTooltips(msg: string): void {\n        if (this._defaultTooltipWin == null) {\n            var resourceURL: string = UIConfig.tooltipsWin;\n            if (!resourceURL) {\n                console.error(\"UIConfig.tooltipsWin not defined\");\n                return;\n            }\n\n            this._defaultTooltipWin = UIPackage.createObjectFromURL(resourceURL);\n        }\n\n        this._defaultTooltipWin.text = msg;\n        this.showTooltipsWin(this._defaultTooltipWin);\n    }\n\n    public showTooltipsWin(tooltipWin: GObject): void {\n        this.hideTooltips();\n\n        this._tooltipWin = tooltipWin;\n\n        let pt: Vec2 = this.getTouchPosition();\n        pt.x += 10;\n        pt.y += 20;\n\n        this.globalToLocal(pt.x, pt.y, pt);\n\n        if (pt.x + this._tooltipWin.width > this.width) {\n            pt.x = pt.x - this._tooltipWin.width - 1;\n            if (pt.x < 0)\n                pt.x = 10;\n        }\n        if (pt.y + this._tooltipWin.height > this.height) {\n            pt.y = pt.y - this._tooltipWin.height - 1;\n            if (pt.y < 0)\n                pt.y = 10;\n        }\n\n        this._tooltipWin.setPosition(pt.x, pt.y);\n        this.addChild(this._tooltipWin);\n    }\n\n    public hideTooltips(): void {\n        if (this._tooltipWin) {\n            if (this._tooltipWin.parent)\n                this.removeChild(this._tooltipWin);\n            this._tooltipWin = null;\n        }\n    }\n\n    public get volumeScale(): number {\n        return this._volumeScale;\n    }\n\n    public set volumeScale(value: number) {\n        this._volumeScale = value;\n    }\n\n    public playOneShotSound(clip: AudioClip, volumeScale?: number): void {\n        if (!this.audioEngine) {\n            this.audioEngine = this.node.addComponent(AudioSourceComponent);\n        }\n\n        if (volumeScale === undefined) volumeScale = 1;\n\n        if (this.audioEngine.isValid) {\n            this.audioEngine.clip = clip;\n            this.audioEngine.volume = this._volumeScale * volumeScale\n            this.audioEngine.loop = false;\n            this.audioEngine.play();\n        }\n    }\n\n    private adjustModalLayer(): void {\n        var cnt: number = this.numChildren;\n\n        if (this._modalWaitPane && this._modalWaitPane.parent)\n            this.setChildIndex(this._modalWaitPane, cnt - 1);\n\n        for (var i: number = cnt - 1; i >= 0; i--) {\n            var g: GObject = this.getChildAt(i);\n            if ((g instanceof Window) && g.modal) {\n                if (this._modalLayer.parent == null)\n                    this.addChildAt(this._modalLayer, i);\n                else\n                    this.setChildIndexBefore(this._modalLayer, i);\n                return;\n            }\n        }\n\n        if (this._modalLayer.parent)\n            this.removeChild(this._modalLayer);\n    }\n\n    private onTouchBegin_1(evt: Event): void {\n        if (this._tooltipWin)\n            this.hideTooltips();\n\n        this._justClosedPopups.length = 0;\n        if (this._popupStack.length > 0) {\n            let mc: GObject = GObject.cast(<Node>evt.target);\n            while (mc && mc != this) {\n                let pindex: number = this._popupStack.indexOf(mc);\n                if (pindex != -1) {\n                    for (let i: number = this._popupStack.length - 1; i > pindex; i--) {\n                        var popup: GObject = this._popupStack.pop();\n                        this.closePopup(popup);\n                        this._justClosedPopups.push(popup);\n                    }\n                    return;\n                }\n                mc = mc.findParent();\n            }\n\n            let cnt: number = this._popupStack.length;\n            for (let i: number = cnt - 1; i >= 0; i--) {\n                popup = this._popupStack[i];\n                this.closePopup(popup);\n                this._justClosedPopups.push(popup);\n            }\n            this._popupStack.length = 0;\n        }\n    }\n\n    private onWinResize(): void {\n        updateScaler();\n\n        let pos = view.getViewportRect().origin;\n        pos.x = pos.x / view.getScaleX();\n        pos.y = pos.y / view.getScaleY();\n\n        this.setSize(UIContentScaler.rootSize.width, UIContentScaler.rootSize.height);\n        this._node.setPosition(-pos.x, this._height - pos.y);\n    }\n\n    public handlePositionChanged() {\n        //nothing here\n    }\n}\n\nDecls.GRoot = GRoot;","import { Color, EditBox, HorizontalTextAlignment, VerticalTextAlignment } from \"cc\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { AutoSizeType } from \"./FieldTypes\";\nimport { GTextField } from \"./GTextField\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\nimport { defaultParser } from \"./utils/UBBParser\";\n\nexport class GTextInput extends GTextField {\n    public _editBox: EditBox;\n\n    private _promptText: string;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GTextInput\";\n        this._touchDisabled = false;\n    }\n\n    protected createRenderer() {\n        this._editBox = this._node.addComponent(MyEditBox);\n        this._editBox.maxLength = -1;\n        this._editBox[\"_updateTextLabel\"]();\n\n        this._node.on('text-changed', this.onTextChanged, this);\n        this.on(FUIEvent.TOUCH_END, this.onTouchEnd1, this);\n\n        this.autoSize = AutoSizeType.None;\n    }\n\n    public set editable(val: boolean) {\n        this._editBox.enabled = val;\n    }\n\n    public get editable(): boolean {\n        return this._editBox.enabled;\n    }\n\n    public set maxLength(val: number) {\n        if (val == 0)\n            val = -1;\n        this._editBox.maxLength = val;\n    }\n\n    public get maxLength(): number {\n        return this._editBox.maxLength;\n    }\n\n    public set promptText(val: string | null) {\n        this._promptText = val;\n        let newCreate: boolean = !this._editBox.placeholderLabel;\n        this._editBox[\"_updatePlaceholderLabel\"]();\n        if (newCreate)\n            this.assignFont(this._editBox.placeholderLabel, this._realFont);\n        this._editBox.placeholderLabel.string = defaultParser.parse(this._promptText, true);\n\n        if (defaultParser.lastColor) {\n            let c = this._editBox.placeholderLabel.color;\n            if (!c)\n                c = new Color();\n            c.fromHEX(defaultParser.lastColor);\n            this.assignFontColor(this._editBox.placeholderLabel, c);\n        }\n        else\n            this.assignFontColor(this._editBox.placeholderLabel, this._color);\n\n        if (defaultParser.lastSize)\n            this._editBox.placeholderLabel.fontSize = parseInt(defaultParser.lastSize);\n        else\n            this._editBox.placeholderLabel.fontSize = this._fontSize;\n    }\n\n    public get promptText(): string | null {\n        return this._promptText;\n    }\n\n    public set restrict(value: string | null) {\n        //not supported\n    }\n\n    public get restrict(): string | null {\n        return \"\";\n    }\n\n    public get password(): boolean {\n        return this._editBox.inputFlag == EditBox.InputFlag.PASSWORD;;\n    }\n\n    public set password(val: boolean) {\n        this._editBox.inputFlag = val ? EditBox.InputFlag.PASSWORD : EditBox.InputFlag.DEFAULT;\n    }\n\n    public get align(): HorizontalTextAlignment {\n        return this._editBox.textLabel.horizontalAlign;\n    }\n\n    public set align(value: HorizontalTextAlignment) {\n        this._editBox.textLabel.horizontalAlign = value;\n        if (this._editBox.placeholderLabel) {\n            this._editBox.placeholderLabel.horizontalAlign = value;\n        }\n    }\n\n    public get verticalAlign(): VerticalTextAlignment {\n        return this._editBox.textLabel.verticalAlign;\n    }\n\n    public set verticalAlign(value: VerticalTextAlignment) {\n        this._editBox.textLabel.verticalAlign = value;\n        if (this._editBox.placeholderLabel) {\n            this._editBox.placeholderLabel.verticalAlign = value;\n        }\n    }\n\n    public get singleLine(): boolean {\n        return this._editBox.inputMode != EditBox.InputMode.ANY;\n    }\n\n    public set singleLine(value: boolean) {\n        this._editBox.inputMode = value ? EditBox.InputMode.SINGLE_LINE : EditBox.InputMode.ANY;\n    }\n\n    public requestFocus(): void {\n        this._editBox.focus();\n    }\n\n    protected markSizeChanged(): void {\n        //不支持自动大小，所以这里空\n    }\n\n    protected updateText(): void {\n        var text2: string = this._text;\n\n        if (this._templateVars)\n            text2 = this.parseTemplate(text2);\n\n        if (this._ubbEnabled) //不支持同一个文本不同样式\n            text2 = defaultParser.parse(text2, true);\n\n        this._editBox.string = text2;\n    }\n\n    protected updateFont() {\n        this.assignFont(this._editBox.textLabel, this._realFont);\n        if (this._editBox.placeholderLabel)\n            this.assignFont(this._editBox.placeholderLabel, this._realFont);\n    }\n\n    protected updateFontColor() {\n        this.assignFontColor(this._editBox.textLabel, this._color);\n    }\n\n    protected updateFontSize() {\n        this._editBox.textLabel.fontSize = this._fontSize;\n        this._editBox.textLabel.lineHeight = this._fontSize + this._leading;\n        if (this._editBox.placeholderLabel)\n            this._editBox.placeholderLabel.fontSize = this._editBox.textLabel.fontSize;\n    }\n\n    protected updateOverflow() {\n        //not supported\n    }\n\n    private onTextChanged() {\n        this._text = this._editBox.string;\n    }\n\n    private onTouchEnd1(evt: FUIEvent) {\n        (<MyEditBox>this._editBox).openKeyboard(evt.touch);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 4);\n\n        var str: string = buffer.readS();\n        if (str != null)\n            this.promptText = str;\n\n        str = buffer.readS();\n        if (str != null)\n            this.restrict = str;\n\n        var iv: number = buffer.readInt();\n        if (iv != 0)\n            this.maxLength = iv;\n        iv = buffer.readInt();\n        if (iv != 0) {//keyboardType\n        }\n        if (buffer.readBool())\n            this.password = true;\n\n        //同步一下对齐方式\n\n        if (this._editBox.placeholderLabel) {\n            let hAlign = this._editBox.textLabel.horizontalAlign;\n            this._editBox.placeholderLabel.horizontalAlign = hAlign;\n\n            let vAlign = this._editBox.textLabel.verticalAlign;\n            this._editBox.placeholderLabel.verticalAlign = vAlign;\n        }\n    }\n}\n\nclass MyEditBox extends EditBox {\n    _registerEvent() {\n        //取消掉原来的事件处理\n    }\n\n    _syncSize() {\n        let size = this.node._uiProps.uiTransformComp.contentSize;\n        let impl = this[\"_impl\"];\n\n        impl.setSize(size.width, size.height);\n\n        if (this.textLabel)\n            this.textLabel.node._uiProps.uiTransformComp.setContentSize(size.width, size.height);\n        if (this.placeholderLabel)\n            this.placeholderLabel.node._uiProps.uiTransformComp.setContentSize(size.width, size.height);\n    }\n\n    public openKeyboard(touch: any) {\n        let impl = this[\"_impl\"];\n        if (impl) {\n            impl.beginEditing();\n        }\n    }\n}","import { GObject } from \"./GObject\";\r\nimport { UIPackage } from \"./UIPackage\";\r\n\r\nexport class GObjectPool {\r\n    private _pool: { [index: string]: Array<GObject> };\r\n    private _count: number = 0;\r\n\r\n    public constructor() {\r\n        this._pool = {};\r\n    }\r\n\r\n    public clear(): void {\r\n        for (var i1 in this._pool) {\r\n            var arr: Array<GObject> = this._pool[i1];\r\n            var cnt: number = arr.length;\r\n            for (var i: number = 0; i < cnt; i++)\r\n                arr[i].dispose();\r\n        }\r\n        this._pool = {};\r\n        this._count = 0;\r\n    }\r\n\r\n    public get count(): number {\r\n        return this._count;\r\n    }\r\n\r\n    public getObject(url: string): GObject {\r\n        url = UIPackage.normalizeURL(url);\r\n        if (url == null)\r\n            return null;\r\n\r\n        var arr: Array<GObject> = this._pool[url];\r\n        if (arr && arr.length) {\r\n            this._count--;\r\n            return arr.shift();\r\n        }\r\n\r\n        var child: GObject = UIPackage.createObjectFromURL(url);\r\n        return child;\r\n    }\r\n\r\n    public returnObject(obj: GObject): void {\r\n        var url: string = obj.resourceURL;\r\n        if (!url)\r\n            return;\r\n\r\n        var arr: Array<GObject> = this._pool[url];\r\n        if (arr == null) {\r\n            arr = new Array<GObject>();\r\n            this._pool[url] = arr;\r\n        }\r\n\r\n        this._count++;\r\n        arr.push(obj);\r\n    }\r\n}","import { Asset, assetManager, Color, isValid, Node, resources, Sprite, SpriteFrame, Texture2D, UITransform, Vec2 } from \"cc\";\nimport { MovieClip } from \"./display/MovieClip\";\nimport { AlignType, VertAlignType, LoaderFillType, FillMethod, FillOrigin, PackageItemType, ObjectPropID } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { GObjectPool } from \"./GObjectPool\";\nimport { PackageItem } from \"./PackageItem\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GLoader extends GObject {\n    public _content: MovieClip;\n\n    private _url: string;\n    private _align: AlignType;\n    private _verticalAlign: VertAlignType;\n    private _autoSize: boolean;\n    private _fill: LoaderFillType;\n    private _shrinkOnly: boolean;\n    private _showErrorSign: boolean;\n    private _playing: boolean;\n    private _frame: number = 0;\n    private _color: Color;\n    private _contentItem: PackageItem;\n    private _container: Node;\n    private _errorSign?: GObject;\n    private _content2?: GComponent;\n    private _updatingLayout: boolean;\n\n    private static _errorSignPool: GObjectPool = new GObjectPool();\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GLoader\";\n        this._playing = true;\n        this._url = \"\";\n        this._fill = LoaderFillType.None;\n        this._align = AlignType.Left;\n        this._verticalAlign = VertAlignType.Top;\n        this._showErrorSign = true;\n        this._color = new Color(255, 255, 255, 255);\n\n        this._container = new Node(\"Image\");\n        this._container.addComponent(UITransform).setAnchorPoint(0, 1);\n        this._node.addChild(this._container);\n\n        this._content = this._container.addComponent(MovieClip);\n        this._content.sizeMode = Sprite.SizeMode.CUSTOM;\n        this._content.trim = false;\n        this._content.setPlaySettings();\n    }\n\n    public dispose(): void {\n        if (this._contentItem == null) {\n            if (this._content.spriteFrame)\n                this.freeExternal(this._content.spriteFrame);\n        }\n        if (this._content2)\n            this._content2.dispose();\n        super.dispose();\n    }\n\n    public get url(): string | null {\n        return this._url;\n    }\n\n    public set url(value: string | null) {\n        if (this._url == value)\n            return;\n\n        this._url = value;\n        this.loadContent();\n        this.updateGear(7);\n    }\n\n    public get icon(): string | null {\n        return this._url;\n    }\n\n    public set icon(value: string | null) {\n        this.url = value;\n    }\n\n    public get align(): AlignType {\n        return this._align;\n    }\n\n    public set align(value: AlignType) {\n        if (this._align != value) {\n            this._align = value;\n            this.updateLayout();\n        }\n    }\n\n    public get verticalAlign(): VertAlignType {\n        return this._verticalAlign;\n    }\n\n    public set verticalAlign(value: VertAlignType) {\n        if (this._verticalAlign != value) {\n            this._verticalAlign = value;\n            this.updateLayout();\n        }\n    }\n\n    public get fill(): LoaderFillType {\n        return this._fill;\n    }\n\n    public set fill(value: LoaderFillType) {\n        if (this._fill != value) {\n            this._fill = value;\n            this.updateLayout();\n        }\n    }\n\n    public get shrinkOnly(): boolean {\n        return this._shrinkOnly;\n    }\n\n    public set shrinkOnly(value: boolean) {\n        if (this._shrinkOnly != value) {\n            this._shrinkOnly = value;\n            this.updateLayout();\n        }\n    }\n\n    public get autoSize(): boolean {\n        return this._autoSize;\n    }\n\n    public set autoSize(value: boolean) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this.updateLayout();\n        }\n    }\n\n    public get playing(): boolean {\n        return this._playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._playing != value) {\n            this._playing = value;\n            if (this._content instanceof MovieClip)\n                this._content.playing = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get frame(): number {\n        return this._frame;\n    }\n\n    public set frame(value: number) {\n        if (this._frame != value) {\n            this._frame = value;\n            if (this._content instanceof MovieClip)\n                this._content.frame = value;\n            this.updateGear(5);\n        }\n    }\n\n    public get color(): Color {\n        return this._color;\n    }\n\n    public set color(value: Color) {\n        this._color.set(value);\n        this.updateGear(4);\n        this._content.color = value;\n    }\n\n    public get fillMethod(): FillMethod {\n        return this._content.fillMethod;\n    }\n\n    public set fillMethod(value: FillMethod) {\n        this._content.fillMethod = value;\n    }\n\n    public get fillOrigin(): FillOrigin {\n        return this._content.fillOrigin;\n    }\n\n    public set fillOrigin(value: FillOrigin) {\n        this._content.fillOrigin = value;\n    }\n\n    public get fillClockwise(): boolean {\n        return this._content.fillClockwise;\n    }\n\n    public set fillClockwise(value: boolean) {\n        this._content.fillClockwise = value;\n    }\n\n    public get fillAmount(): number {\n        return this._content.fillAmount;\n    }\n\n    public set fillAmount(value: number) {\n        this._content.fillAmount = value;\n    }\n\n    public get showErrorSign(): boolean {\n        return this._showErrorSign;\n    }\n\n    public set showErrorSign(value: boolean) {\n        this._showErrorSign = value;\n    }\n\n    public get component(): GComponent {\n        return this._content2;\n    }\n\n    public get texture(): SpriteFrame {\n        return this._content.spriteFrame;\n    }\n\n    public set texture(value: SpriteFrame) {\n        this.url = null;\n\n        this._content.spriteFrame = value;\n        this._content.type = Sprite.Type.SIMPLE;\n        if (value != null) {\n            this.sourceWidth = value.getRect().width;\n            this.sourceHeight = value.getRect().height;\n        }\n        else {\n            this.sourceWidth = this.sourceHeight = 0;\n        }\n\n        this.updateLayout();\n    }\n\n    protected loadContent(): void {\n        this.clearContent();\n\n        if (!this._url)\n            return;\n\n        if (this._url.startsWith(\"ui://\"))\n            this.loadFromPackage(this._url);\n        else\n            this.loadExternal();\n    }\n\n    protected loadFromPackage(itemURL: string) {\n        this._contentItem = UIPackage.getItemByURL(itemURL);\n        if (this._contentItem) {\n            this._contentItem = this._contentItem.getBranch();\n            this.sourceWidth = this._contentItem.width;\n            this.sourceHeight = this._contentItem.height;\n            this._contentItem = this._contentItem.getHighResolution();\n            this._contentItem.load();\n\n            if (this._autoSize)\n                this.setSize(this.sourceWidth, this.sourceHeight);\n\n            if (this._contentItem.type == PackageItemType.Image) {\n                if (!this._contentItem.asset) {\n                    this.setErrorState();\n                }\n                else {\n                    this._content.spriteFrame = <SpriteFrame>this._contentItem.asset;\n                    if (this._content.fillMethod == 0) {\n                        if (this._contentItem.scale9Grid)\n                            this._content.type = Sprite.Type.SLICED;\n                        else if (this._contentItem.scaleByTile)\n                            this._content.type = Sprite.Type.TILED;\n                        else\n                            this._content.type = Sprite.Type.SIMPLE;\n                    }\n                    this.updateLayout();\n                }\n            }\n            else if (this._contentItem.type == PackageItemType.MovieClip) {\n                this._content.interval = this._contentItem.interval;\n                this._content.swing = this._contentItem.swing;\n                this._content.repeatDelay = this._contentItem.repeatDelay;\n                this._content.frames = this._contentItem.frames;\n                this.updateLayout();\n            }\n            else if (this._contentItem.type == PackageItemType.Component) {\n                var obj: GObject = UIPackage.createObjectFromURL(itemURL);\n                if (!obj)\n                    this.setErrorState();\n                else if (!(obj instanceof GComponent)) {\n                    obj.dispose();\n                    this.setErrorState();\n                }\n                else {\n                    this._content2 = obj;\n                    this._container.addChild(this._content2.node);\n                    this.updateLayout();\n                }\n            }\n            else\n                this.setErrorState();\n        }\n        else\n            this.setErrorState();\n    }\n\n    protected loadExternal(): void {\n        let url = this.url;\n        let callback = (err: Error | null, asset: Asset) => {\n            //因为是异步返回的，而这时可能url已经被改变，所以不能直接用返回的结果\n\n            if (this._url != url || !isValid(this._node))\n                return;\n\n            if (err)\n                console.warn(err);\n\n            if (asset instanceof SpriteFrame)\n                this.onExternalLoadSuccess(asset);\n            else if (asset instanceof Texture2D) {\n                let sf = new SpriteFrame();\n                sf.texture = asset;\n                this.onExternalLoadSuccess(sf);\n            }\n        };\n        if (this._url.startsWith(\"http://\")\n            || this._url.startsWith(\"https://\")\n            || this._url.startsWith('/'))\n            assetManager.loadRemote(this._url, callback);\n        else\n            resources.load(this._url, Asset, callback);\n    }\n\n    protected freeExternal(texture: SpriteFrame): void {\n    }\n\n    protected onExternalLoadSuccess(texture: SpriteFrame): void {\n        this._content.spriteFrame = texture;\n        this._content.type = Sprite.Type.SIMPLE;\n        this.sourceWidth = texture.getRect().width;\n        this.sourceHeight = texture.getRect().height;\n        if (this._autoSize)\n            this.setSize(this.sourceWidth, this.sourceHeight);\n        this.updateLayout();\n    }\n\n    protected onExternalLoadFailed(): void {\n        this.setErrorState();\n    }\n\n    private setErrorState(): void {\n        if (!this._showErrorSign)\n            return;\n\n        if (this._errorSign == null) {\n            if (UIConfig.loaderErrorSign != null) {\n                this._errorSign = GLoader._errorSignPool.getObject(UIConfig.loaderErrorSign);\n            }\n        }\n\n        if (this._errorSign) {\n            this._errorSign.setSize(this.width, this.height);\n            this._container.addChild(this._errorSign.node);\n        }\n    }\n\n    private clearErrorState(): void {\n        if (this._errorSign) {\n            this._container.removeChild(this._errorSign.node);\n            GLoader._errorSignPool.returnObject(this._errorSign);\n            this._errorSign = null;\n        }\n    }\n\n    private updateLayout(): void {\n        if (this._content2 == null && this._content == null) {\n            if (this._autoSize) {\n                this._updatingLayout = true;\n                this.setSize(50, 30);\n                this._updatingLayout = false;\n            }\n            return;\n        }\n\n        let cw = this.sourceWidth;\n        let ch = this.sourceHeight;\n\n        let pivotCorrectX = -this.pivotX * this._width;\n        let pivotCorrectY = this.pivotY * this._height;\n\n        if (this._autoSize) {\n            this._updatingLayout = true;\n            if (cw == 0)\n                cw = 50;\n            if (ch == 0)\n                ch = 30;\n\n            this.setSize(cw, ch);\n            this._updatingLayout = false;\n\n            this._container._uiProps.uiTransformComp.setContentSize(this._width, this._height);\n            this._container.setPosition(pivotCorrectX, pivotCorrectY);\n            if (this._content2) {\n                this._content2.setPosition(pivotCorrectX + this._width * this.pivotX, pivotCorrectY - this._height * this.pivotY);\n                this._content2.setScale(1, 1);\n            }\n            if (cw == this._width && ch == this._height)\n                return;\n        }\n\n        var sx: number = 1, sy: number = 1;\n        if (this._fill != LoaderFillType.None) {\n            sx = this.width / this.sourceWidth;\n            sy = this.height / this.sourceHeight;\n\n            if (sx != 1 || sy != 1) {\n                if (this._fill == LoaderFillType.ScaleMatchHeight)\n                    sx = sy;\n                else if (this._fill == LoaderFillType.ScaleMatchWidth)\n                    sy = sx;\n                else if (this._fill == LoaderFillType.Scale) {\n                    if (sx > sy)\n                        sx = sy;\n                    else\n                        sy = sx;\n                }\n                else if (this._fill == LoaderFillType.ScaleNoBorder) {\n                    if (sx > sy)\n                        sy = sx;\n                    else\n                        sx = sy;\n                }\n                if (this._shrinkOnly) {\n                    if (sx > 1)\n                        sx = 1;\n                    if (sy > 1)\n                        sy = 1;\n                }\n                cw = this.sourceWidth * sx;\n                ch = this.sourceHeight * sy;\n            }\n        }\n\n        this._container._uiProps.uiTransformComp.setContentSize(cw, ch);\n        if (this._content2) {\n            this._content2.setPosition(pivotCorrectX + this._width * this.pivotX, pivotCorrectY - this._height * this.pivotY);\n            this._content2.setScale(sx, sy);\n        }\n\n        var nx: number, ny: number;\n        if (this._align == AlignType.Left)\n            nx = 0;\n        else if (this._align == AlignType.Center)\n            nx = Math.floor((this._width - cw) / 2);\n        else\n            nx = this._width - cw;\n        if (this._verticalAlign == VertAlignType.Top)\n            ny = 0;\n        else if (this._verticalAlign == VertAlignType.Middle)\n            ny = Math.floor((this._height - ch) / 2);\n        else\n            ny = this._height - ch;\n        ny = -ny;\n        this._container.setPosition(pivotCorrectX + nx, pivotCorrectY + ny);\n    }\n\n    private clearContent(): void {\n        this.clearErrorState();\n\n        if (!this._contentItem) {\n            var texture: SpriteFrame = this._content.spriteFrame;\n            if (texture)\n                this.freeExternal(texture);\n        }\n        if (this._content2) {\n            this._container.removeChild(this._content2.node);\n            this._content2.dispose();\n            this._content2 = null;\n        }\n        this._content.frames = null;\n        this._content.spriteFrame = null;\n        this._contentItem = null;\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n\n    protected handleAnchorChanged(): void {\n        super.handleAnchorChanged();\n\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n\n    protected handleGrayedChanged(): void {\n        this._content.grayscale = this._grayed;\n    }\n\n    protected _hitTest(pt: Vec2, globalPt: Vec2): GObject {\n        if (this._content2) {\n            let obj: GObject = this._content2.hitTest(globalPt);\n            if (obj)\n                return obj;\n        }\n\n        if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n            return this;\n        else\n            return null;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.Playing:\n                return this.playing;\n            case ObjectPropID.Frame:\n                return this.frame;\n            case ObjectPropID.TimeScale:\n                return this._content.timeScale;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.Playing:\n                this.playing = value;\n                break;\n            case ObjectPropID.Frame:\n                this.frame = value;\n                break;\n            case ObjectPropID.TimeScale:\n                this._content.timeScale = value;\n                break;\n            case ObjectPropID.DeltaTime:\n                this._content.advance(value);\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._url = buffer.readS();\n        this._align = buffer.readByte();\n        this._verticalAlign = buffer.readByte();\n        this._fill = buffer.readByte();\n        this._shrinkOnly = buffer.readBool();\n        this._autoSize = buffer.readBool();\n        this._showErrorSign = buffer.readBool();\n        this._playing = buffer.readBool();\n        this._frame = buffer.readInt();\n\n        if (buffer.readBool())\n            this.color = buffer.readColor();\n        this._content.fillMethod = buffer.readByte();\n        if (this._content.fillMethod != 0) {\n\n            this._content.fillOrigin = buffer.readByte();\n            this._content.fillClockwise = buffer.readBool();\n            this._content.fillAmount = buffer.readFloat();\n        }\n\n        if (this._url)\n            this.loadContent();\n    }\n}","import { sp, dragonBones, assetManager, Color, isValid, resources, Vec2, Node, UITransform, Asset, math } from \"cc\";\nimport { AlignType, LoaderFillType, ObjectPropID, PackageItemType, VertAlignType } from \"./FieldTypes\";\nimport { GObject } from \"./GObject\";\nimport { PackageItem } from \"./PackageItem\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GLoader3D extends GObject {\n    private _url: string;\n    private _align: AlignType;\n    private _verticalAlign: VertAlignType;\n    private _autoSize: boolean;\n    private _fill: LoaderFillType;\n    private _shrinkOnly: boolean;\n    private _playing: boolean;\n    private _frame: number = 0;\n    private _loop: boolean;\n    private _animationName: string;\n    private _skinName: string;\n    private _color: Color;\n    private _contentItem: PackageItem;\n    private _container: Node;\n    private _content: sp.Skeleton | dragonBones.ArmatureDisplay;\n    private _updatingLayout: boolean;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GLoader3D\";\n        this._playing = true;\n        this._url = \"\";\n        this._fill = LoaderFillType.None;\n        this._align = AlignType.Left;\n        this._verticalAlign = VertAlignType.Top;\n        this._color = new Color(255, 255, 255, 255);\n\n        this._container = new Node(\"Wrapper\");\n        this._container.addComponent(UITransform).setAnchorPoint(0, 1);\n        this._node.addChild(this._container);\n    }\n\n    public dispose(): void {\n        super.dispose();\n    }\n\n    public get url(): string | null {\n        return this._url;\n    }\n\n    public set url(value: string | null) {\n        if (this._url == value)\n            return;\n\n        this._url = value;\n        this.loadContent();\n        this.updateGear(7);\n    }\n\n    public get icon(): string | null {\n        return this._url;\n    }\n\n    public set icon(value: string | null) {\n        this.url = value;\n    }\n\n    public get align(): AlignType {\n        return this._align;\n    }\n\n    public set align(value: AlignType) {\n        if (this._align != value) {\n            this._align = value;\n            this.updateLayout();\n        }\n    }\n\n    public get verticalAlign(): VertAlignType {\n        return this._verticalAlign;\n    }\n\n    public set verticalAlign(value: VertAlignType) {\n        if (this._verticalAlign != value) {\n            this._verticalAlign = value;\n            this.updateLayout();\n        }\n    }\n\n    public get fill(): LoaderFillType {\n        return this._fill;\n    }\n\n    public set fill(value: LoaderFillType) {\n        if (this._fill != value) {\n            this._fill = value;\n            this.updateLayout();\n        }\n    }\n\n    public get shrinkOnly(): boolean {\n        return this._shrinkOnly;\n    }\n\n    public set shrinkOnly(value: boolean) {\n        if (this._shrinkOnly != value) {\n            this._shrinkOnly = value;\n            this.updateLayout();\n        }\n    }\n\n    public get autoSize(): boolean {\n        return this._autoSize;\n    }\n\n    public set autoSize(value: boolean) {\n        if (this._autoSize != value) {\n            this._autoSize = value;\n            this.updateLayout();\n        }\n    }\n\n    public get playing(): boolean {\n        return this._playing;\n    }\n\n    public set playing(value: boolean) {\n        if (this._playing != value) {\n            this._playing = value;\n            this.updateGear(5);\n\n            this.onChange();\n        }\n    }\n\n    public get frame(): number {\n        return this._frame;\n    }\n\n    public set frame(value: number) {\n        if (this._frame != value) {\n            this._frame = value;\n            this.updateGear(5);\n\n            this.onChange();\n        }\n    }\n\n    public get animationName(): string | null {\n        return this._animationName;\n    }\n\n    public set animationName(value: string | null) {\n        if (this._animationName != value) {\n            this._animationName = value;\n            this.onChange();\n        }\n    }\n\n    public get skinName(): string | null {\n        return this._skinName;\n    }\n\n    public set skinName(value: string | null) {\n        if (this._skinName != value) {\n            this._skinName = value;\n            this.onChange();\n        }\n    }\n\n    public get loop(): boolean {\n        return this._loop;\n    }\n\n    public set loop(value: boolean) {\n        if (this._loop != value) {\n            this._loop = value;\n            this.onChange();\n        }\n    }\n\n    public get color(): Color {\n        return this._color;\n    }\n\n    public set color(value: Color) {\n        this._color.set(value);\n        this.updateGear(4);\n\n        if (this._content)\n            this._content.color = value;\n    }\n\n    public get content(): sp.Skeleton | dragonBones.ArmatureDisplay {\n        return this._content;\n    }\n\n    protected loadContent(): void {\n        this.clearContent();\n\n        if (!this._url)\n            return;\n\n        if (this._url.startsWith(\"ui://\"))\n            this.loadFromPackage(this._url);\n        else\n            this.loadExternal();\n    }\n\n    protected loadFromPackage(itemURL: string) {\n        this._contentItem = UIPackage.getItemByURL(itemURL);\n        if (this._contentItem) {\n            this._contentItem = this._contentItem.getBranch();\n            this.sourceWidth = this._contentItem.width;\n            this.sourceHeight = this._contentItem.height;\n            this._contentItem = this._contentItem.getHighResolution();\n\n            if (this._autoSize)\n                this.setSize(this.sourceWidth, this.sourceHeight);\n\n            if (this._contentItem.type == PackageItemType.Spine || this._contentItem.type == PackageItemType.DragonBones)\n                this._contentItem.owner.getItemAssetAsync(this._contentItem, this.onLoaded.bind(this));\n        }\n    }\n\n    private onLoaded(err: Error, item: PackageItem): void {\n        if (this._contentItem != item)\n            return;\n\n        if (err)\n            console.warn(err);\n\n        if (!this._contentItem.asset)\n            return;\n\n        if (this._contentItem.type == PackageItemType.Spine)\n            this.setSpine(<sp.SkeletonData>this._contentItem.asset, this._contentItem.skeletonAnchor);\n        else if (this._contentItem.type == PackageItemType.DragonBones)\n            this.setDragonBones(<dragonBones.DragonBonesAsset>this._contentItem.asset, this._contentItem.atlasAsset, this._contentItem.skeletonAnchor);\n    }\n\n    public setSpine(asset: sp.SkeletonData, anchor: Vec2, pma?: boolean): void {\n        this.url = null;\n        this.clearContent();\n\n        let node = new Node();\n        this._container.addChild(node);\n        node.setPosition(anchor.x, -anchor.y);\n\n        this._content = node.addComponent(sp.Skeleton);\n        this._content.premultipliedAlpha = pma;\n        this._content.skeletonData = asset;\n        this._content.color = this._color;\n        this.onChangeSpine();\n\n        this.updateLayout();\n    }\n\n    public setDragonBones(asset: dragonBones.DragonBonesAsset, atlasAsset: dragonBones.DragonBonesAtlasAsset, anchor: Vec2, pma?: boolean): void {\n        this.url = null;\n        this.clearContent();\n\n        let node = new Node();\n        this._container.addChild(node);\n        node.setPosition(anchor.x, -anchor.y);\n\n        this._content = node.addComponent(dragonBones.ArmatureDisplay);\n        this._content.premultipliedAlpha = pma;\n        this._content.dragonAsset = asset;\n        this._content.dragonAtlasAsset = atlasAsset;\n        this._content.color = this._color;\n\n        let armatureKey = asset[\"init\"](dragonBones.CCFactory.getInstance(), atlasAsset[\"_uuid\"]);\n        let dragonBonesData = this._content[\"_factory\"].getDragonBonesData(armatureKey);\n        this._content.armatureName = dragonBonesData.armatureNames[0];\n\n        this.onChangeDragonBones();\n\n        this.updateLayout();\n    }\n\n    private onChange(): void {\n        this.onChangeSpine();\n        this.onChangeDragonBones();\n    }\n\n    private onChangeSpine(): void {\n        if (!(this._content instanceof sp.Skeleton))\n            return;\n\n        if (this._animationName) {\n            let trackEntry = this._content.getCurrent(0);\n            if (!trackEntry || trackEntry.animation.name != this._animationName || trackEntry.isComplete() && !trackEntry.loop) {\n                this._content.animation = this._animationName;\n                trackEntry = this._content.setAnimation(0, this._animationName, this._loop);\n            }\n\n            if (this._playing)\n                this._content.paused = false;\n            else {\n                this._content.paused = true;\n                trackEntry.trackTime = math.lerp(0, trackEntry.animationEnd - trackEntry.animationStart, this._frame / 100);\n            }\n        }\n        else\n            this._content.clearTrack(0);\n\n        let skin = this._skinName || this._content.skeletonData.getRuntimeData().skins[0].name;\n        if (this._content[\"_skeleton\"].skin != skin)\n            this._content.setSkin(skin);\n    }\n\n    private onChangeDragonBones(): void {\n        if (!(this._content instanceof dragonBones.ArmatureDisplay))\n            return;\n\n        if (this._animationName) {\n            if (this._playing)\n                this._content.playAnimation(this._animationName, this._loop ? 0 : 1);\n            else\n                this._content.armature().animation.gotoAndStopByFrame(this._animationName, this._frame);\n        }\n        else\n            this._content.armature().animation.reset();\n    }\n\n    protected loadExternal(): void {\n        if (this._url.startsWith(\"http://\")\n            || this._url.startsWith(\"https://\")\n            || this._url.startsWith('/'))\n            assetManager.loadRemote(this._url, sp.SkeletonData, this.onLoaded2.bind(this));\n        else\n            resources.load(this._url, sp.SkeletonData, this.onLoaded2.bind(this));\n    }\n\n    private onLoaded2(err: Error, asset: Asset): void {\n        //因为是异步返回的，而这时可能url已经被改变，所以不能直接用返回的结果\n\n        if (!this._url || !isValid(this._node))\n            return;\n\n        if (err)\n            console.warn(err);\n    }\n\n    private updateLayout(): void {\n        let cw = this.sourceWidth;\n        let ch = this.sourceHeight;\n\n        let pivotCorrectX = -this.pivotX * this._width;\n        let pivotCorrectY = this.pivotY * this._height;\n\n        if (this._autoSize) {\n            this._updatingLayout = true;\n            if (cw == 0)\n                cw = 50;\n            if (ch == 0)\n                ch = 30;\n\n            this.setSize(cw, ch);\n            this._updatingLayout = false;\n\n            if (cw == this._width && ch == this._height) {\n                this._container.setScale(1, 1);\n                this._container.setPosition(pivotCorrectX, pivotCorrectY);\n\n                return;\n            }\n        }\n\n        var sx: number = 1, sy: number = 1;\n        if (this._fill != LoaderFillType.None) {\n            sx = this.width / this.sourceWidth;\n            sy = this.height / this.sourceHeight;\n\n            if (sx != 1 || sy != 1) {\n                if (this._fill == LoaderFillType.ScaleMatchHeight)\n                    sx = sy;\n                else if (this._fill == LoaderFillType.ScaleMatchWidth)\n                    sy = sx;\n                else if (this._fill == LoaderFillType.Scale) {\n                    if (sx > sy)\n                        sx = sy;\n                    else\n                        sy = sx;\n                }\n                else if (this._fill == LoaderFillType.ScaleNoBorder) {\n                    if (sx > sy)\n                        sy = sx;\n                    else\n                        sx = sy;\n                }\n                if (this._shrinkOnly) {\n                    if (sx > 1)\n                        sx = 1;\n                    if (sy > 1)\n                        sy = 1;\n                }\n                cw = this.sourceWidth * sx;\n                ch = this.sourceHeight * sy;\n            }\n        }\n\n        this._container.setScale(sx, sy);\n\n        var nx: number, ny: number;\n        if (this._align == AlignType.Left)\n            nx = 0;\n        else if (this._align == AlignType.Center)\n            nx = Math.floor((this._width - cw) / 2);\n        else\n            nx = this._width - cw;\n        if (this._verticalAlign == VertAlignType.Top)\n            ny = 0;\n        else if (this._verticalAlign == VertAlignType.Middle)\n            ny = Math.floor((this._height - ch) / 2);\n        else\n            ny = this._height - ch;\n        ny = -ny;\n        this._container.setPosition(pivotCorrectX + nx, pivotCorrectY + ny);\n    }\n\n    private clearContent(): void {\n        this._contentItem = null;\n        if (this._content) {\n            this._content.node.destroy();\n            this._content = null;\n        }\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n\n    protected handleAnchorChanged(): void {\n        super.handleAnchorChanged();\n\n        if (!this._updatingLayout)\n            this.updateLayout();\n    }\n\n    protected handleGrayedChanged(): void {\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.color;\n            case ObjectPropID.Playing:\n                return this.playing;\n            case ObjectPropID.Frame:\n                return this.frame;\n            case ObjectPropID.TimeScale:\n                return 1;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.color = value;\n                break;\n            case ObjectPropID.Playing:\n                this.playing = value;\n                break;\n            case ObjectPropID.Frame:\n                this.frame = value;\n                break;\n            case ObjectPropID.TimeScale:\n                break;\n            case ObjectPropID.DeltaTime:\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._url = buffer.readS();\n        this._align = buffer.readByte();\n        this._verticalAlign = buffer.readByte();\n        this._fill = buffer.readByte();\n        this._shrinkOnly = buffer.readBool();\n        this._autoSize = buffer.readBool();\n        this._animationName = buffer.readS();\n        this._skinName = buffer.readS();\n        this._playing = buffer.readBool();\n        this._frame = buffer.readInt();\n        this._loop = buffer.readBool();\n\n        if (buffer.readBool())\n            this.color = buffer.readColor();\n\n        if (this._url)\n            this.loadContent();\n    }\n}","import { Color } from \"cc\";\nimport { ObjectPropID } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { GTextField } from \"./GTextField\";\nimport { GTextInput } from \"./GTextInput\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GLabel extends GComponent {\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GLabel\";\n    }\n\n    public get icon(): string | null {\n        if (this._iconObject)\n            return this._iconObject.icon;\n    }\n\n    public set icon(value: string | null) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get title(): string | null {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n\n    public set title(value: string | null) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n\n    public get text(): string | null {\n        return this.title;\n    }\n\n    public set text(value: string | null) {\n        this.title = value;\n    }\n\n    public get titleColor(): Color {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return Color.WHITE;\n    }\n\n    public set titleColor(value: Color) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n        this.updateGear(4);\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n\n    public set editable(val: boolean) {\n        if (this._titleObject && (this._titleObject instanceof GTextInput))\n            this._titleObject.editable = val;\n    }\n\n    public get editable(): boolean {\n        if (this._titleObject && (this._titleObject instanceof GTextInput))\n            return this._titleObject.editable;\n        else\n            return false;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ('getTextField' in this._titleObject)\n            return (<any>this._titleObject).getTextField();\n        else\n            return null;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                return this.titleFontSize;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                this.titleFontSize = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var str: string;\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColor();\n        var iv: number = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n\n        if (buffer.readBool()) {\n            var input: GTextField = this.getTextField();\n            if (input instanceof GTextInput) {\n                str = buffer.readS();\n                if (str != null)\n                    input.promptText = str;\n\n                str = buffer.readS();\n                if (str != null)\n                    input.restrict = str;\n\n                iv = buffer.readInt();\n                if (iv != 0)\n                    input.maxLength = iv;\n                iv = buffer.readInt();\n                if (iv != 0) {\n                    //keyboardType\n                }\n                if (buffer.readBool())\n                    input.password = true;\n            }\n            else\n                buffer.skip(13);\n        }\n    }\n}","import { AudioClip, Color, EventMouse } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { ButtonMode, ObjectPropID } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { GRoot } from \"./GRoot\";\nimport { GTextField } from \"./GTextField\";\nimport { PackageItem } from \"./PackageItem\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\nimport { Window } from \"./Window\";\n\nexport class GButton extends GComponent {\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n\n    private _mode: ButtonMode;\n    private _selected: boolean;\n    private _title: string;\n    private _selectedTitle: string;\n    private _icon: string;\n    private _selectedIcon: string;\n    private _sound: string;\n    private _soundVolumeScale: number;\n    private _buttonController: Controller;\n    private _relatedController?: Controller;\n    private _relatedPageId: string;\n    private _changeStateOnClick: boolean;\n    private _linkedPopup?: GObject;\n    private _downEffect: number;\n    private _downEffectValue: number;\n    private _downColor?: Color;\n    private _downScaled?: boolean;\n    private _down: boolean;\n    private _over: boolean;\n\n    public static UP: string = \"up\";\n    public static DOWN: string = \"down\";\n    public static OVER: string = \"over\";\n    public static SELECTED_OVER: string = \"selectedOver\";\n    public static DISABLED: string = \"disabled\";\n    public static SELECTED_DISABLED: string = \"selectedDisabled\";\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GButton\";\n        this._mode = ButtonMode.Common;\n        this._title = \"\";\n        this._icon = \"\";\n        this._sound = UIConfig.buttonSound;\n        this._soundVolumeScale = UIConfig.buttonSoundVolumeScale;\n        this._changeStateOnClick = true;\n        this._downEffect = 0;\n        this._downEffectValue = 0.8;\n    }\n\n    public get icon(): string | null {\n        return this._icon;\n    }\n\n    public set icon(value: string | null) {\n        this._icon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get selectedIcon(): string | null {\n        return this._selectedIcon;\n    }\n\n    public set selectedIcon(value: string | null) {\n        this._selectedIcon = value;\n        value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n        if (this._iconObject)\n            this._iconObject.icon = value;\n    }\n\n    public get title(): string | null {\n        return this._title;\n    }\n\n    public set title(value: string | null) {\n        this._title = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n        this.updateGear(6);\n    }\n\n    public get text(): string | null {\n        return this.title;\n    }\n\n    public set text(value: string | null) {\n        this.title = value;\n    }\n\n    public get selectedTitle(): string | null {\n        return this._selectedTitle;\n    }\n\n    public set selectedTitle(value: string | null) {\n        this._selectedTitle = value;\n        if (this._titleObject)\n            this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n    }\n\n    public get titleColor(): Color {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return Color.BLACK;\n    }\n\n    public set titleColor(value: Color) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n    \n    public get sound(): string | null {\n        return this._sound;\n    }\n\n    public set sound(val: string | null) {\n        this._sound = val;\n    }\n\n    public get soundVolumeScale(): number {\n        return this._soundVolumeScale;\n    }\n\n    public set soundVolumeScale(value: number) {\n        this._soundVolumeScale = value;\n    }\n\n    public set selected(val: boolean) {\n        if (this._mode == ButtonMode.Common)\n            return;\n\n        if (this._selected != val) {\n            this._selected = val;\n            this.setCurrentState();\n            if (this._selectedTitle && this._titleObject)\n                this._titleObject.text = this._selected ? this._selectedTitle : this._title;\n            if (this._selectedIcon) {\n                var str: string = this._selected ? this._selectedIcon : this._icon;\n                if (this._iconObject)\n                    this._iconObject.icon = str;\n            }\n            if (this._relatedController\n                && this._parent\n                && !this._parent._buildingDisplayList) {\n                if (this._selected) {\n                    this._relatedController.selectedPageId = this._relatedPageId;\n                    if (this._relatedController.autoRadioGroupDepth)\n                        this._parent.adjustRadioGroupDepth(this, this._relatedController);\n                }\n                else if (this._mode == ButtonMode.Check && this._relatedController.selectedPageId == this._relatedPageId)\n                    this._relatedController.oppositePageId = this._relatedPageId;\n            }\n        }\n    }\n\n    public get selected(): boolean {\n        return this._selected;\n    }\n\n    public get mode(): ButtonMode {\n        return this._mode;\n    }\n\n    public set mode(value: ButtonMode) {\n        if (this._mode != value) {\n            if (value == ButtonMode.Common)\n                this.selected = false;\n            this._mode = value;\n        }\n    }\n\n    public get relatedController(): Controller {\n        return this._relatedController;\n    }\n\n    public set relatedController(val: Controller) {\n        this._relatedController = val;\n    }\n\n    public get relatedPageId(): string | null {\n        return this._relatedPageId;\n    }\n\n    public set relatedPageId(val: string | null) {\n        this._relatedPageId = val;\n    }\n\n    public get changeStateOnClick(): boolean {\n        return this._changeStateOnClick;\n    }\n\n    public set changeStateOnClick(value: boolean) {\n        this._changeStateOnClick = value;\n    }\n\n    public get linkedPopup(): GObject {\n        return this._linkedPopup;\n    }\n\n    public set linkedPopup(value: GObject) {\n        this._linkedPopup = value;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ('getTextField' in this._titleObject)\n            return (<any>this._titleObject).getTextField();\n        else\n            return null;\n    }\n\n    public fireClick(): void {\n        GRoot.inst.inputProcessor.simulateClick(this);\n    }\n\n    protected setState(val: string): void {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n\n        if (this._downEffect == 1) {\n            var cnt: number = this.numChildren;\n            if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n\n                if (!this._downColor)\n                    this._downColor = new Color();\n                var r: number = this._downEffectValue * 255;\n                this._downColor.r = this._downColor.g = this._downColor.b = r;\n                for (var i: number = 0; i < cnt; i++) {\n                    var obj: GObject = this.getChildAt(i);\n                    if (!(obj instanceof GTextField))\n                        obj.setProp(ObjectPropID.Color, this._downColor);\n                }\n            }\n            else {\n                for (var i: number = 0; i < cnt; i++) {\n                    var obj: GObject = this.getChildAt(i);\n                    if (!(obj instanceof GTextField))\n                        obj.setProp(ObjectPropID.Color, Color.WHITE);\n                }\n            }\n        }\n        else if (this._downEffect == 2) {\n            if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n                if (!this._downScaled) {\n                    this._downScaled = true;\n                    this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\n                }\n            }\n            else {\n                if (this._downScaled) {\n                    this._downScaled = false;\n                    this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\n                }\n            }\n        }\n    }\n\n    protected setCurrentState() {\n        if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n            if (this._selected)\n                this.setState(GButton.SELECTED_DISABLED);\n            else\n                this.setState(GButton.DISABLED);\n        }\n        else {\n            if (this._selected)\n                this.setState(this._over ? GButton.SELECTED_OVER : GButton.DOWN);\n            else\n                this.setState(this._over ? GButton.OVER : GButton.UP);\n        }\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._relatedController == c)\n            this.selected = this._relatedPageId == c.selectedPageId;\n    }\n\n    protected handleGrayedChanged(): void {\n        if (this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n            if (this.grayed) {\n                if (this._selected && this._buttonController.hasPage(GButton.SELECTED_DISABLED))\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else if (this._selected)\n                this.setState(GButton.DOWN);\n            else\n                this.setState(GButton.UP);\n        }\n        else\n            super.handleGrayedChanged();\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                return this.titleFontSize;\n            case ObjectPropID.Selected:\n                return this.selected;\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                this.titleFontSize = value;\n                break;\n            case ObjectPropID.Selected:\n                this.selected = value;\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._mode = buffer.readByte();\n        var str: string = buffer.readS();\n        if (str)\n            this._sound = str;\n        this._soundVolumeScale = buffer.readFloat();\n        this._downEffect = buffer.readByte();\n        this._downEffectValue = buffer.readFloat();\n        if (this._downEffect == 2)\n            this.setPivot(0.5, 0.5, this.pivotAsAnchor);\n\n        this._buttonController = this.getController(\"button\");\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n        if (this._titleObject)\n            this._title = this._titleObject.text;\n        if (this._iconObject)\n            this._icon = this._iconObject.icon;\n\n        if (this._mode == ButtonMode.Common)\n            this.setState(GButton.UP);\n\n        this._node.on(FUIEvent.TOUCH_BEGIN, this.onTouchBegin_1, this);\n        this._node.on(FUIEvent.TOUCH_END, this.onTouchEnd_1, this);\n        this._node.on(FUIEvent.ROLL_OVER, this.onRollOver_1, this);\n        this._node.on(FUIEvent.ROLL_OUT, this.onRollOut_1, this);\n        this._node.on(FUIEvent.CLICK, this.onClick_1, this);\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var str: string;\n        var iv: number;\n\n        str = buffer.readS();\n        if (str != null)\n            this.title = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n        str = buffer.readS();\n        if (str != null)\n            this.selectedIcon = str;\n        if (buffer.readBool())\n            this.titleColor = buffer.readColor();\n        iv = buffer.readInt();\n        if (iv != 0)\n            this.titleFontSize = iv;\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._relatedController = this.parent.getControllerAt(iv);\n        this._relatedPageId = buffer.readS();\n\n        str = buffer.readS();\n        if (str != null)\n            this._sound = str;\n        if (buffer.readBool())\n            this._soundVolumeScale = buffer.readFloat();\n\n        this.selected = buffer.readBool();\n    }\n\n    private onRollOver_1(): void {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n\n        this._over = true;\n        if (this._down)\n            return;\n\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n\n        this.setState(this._selected ? GButton.SELECTED_OVER : GButton.OVER);\n    }\n\n    private onRollOut_1(): void {\n        if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n            return;\n\n        this._over = false;\n        if (this._down)\n            return;\n\n        if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n            return;\n\n        this.setState(this._selected ? GButton.DOWN : GButton.UP);\n    }\n\n    private onTouchBegin_1(evt: FUIEvent): void {\n        if (evt.button != EventMouse.BUTTON_LEFT)\n            return;\n\n        this._down = true;\n        evt.captureTouch();\n\n        if (this._mode == ButtonMode.Common) {\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                this.setState(GButton.SELECTED_DISABLED);\n            else\n                this.setState(GButton.DOWN);\n        }\n\n        if (this._linkedPopup) {\n            if (this._linkedPopup instanceof Window)\n                this._linkedPopup.toggleStatus();\n            else\n                GRoot.inst.togglePopup(this._linkedPopup, this);\n        }\n    }\n\n    private onTouchEnd_1(evt: FUIEvent): void {\n        if (evt.button != EventMouse.BUTTON_LEFT)\n            return;\n\n        if (this._down) {\n            this._down = false;\n\n            if (this._node == null)\n                return;\n\n            if (this._mode == ButtonMode.Common) {\n                if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                    this.setState(GButton.DISABLED);\n                else if (this._over)\n                    this.setState(GButton.OVER);\n                else\n                    this.setState(GButton.UP);\n            }\n            else {\n                if (!this._over\n                    && this._buttonController != null\n                    && (this._buttonController.selectedPage == GButton.OVER\n                        || this._buttonController.selectedPage == GButton.SELECTED_OVER)) {\n                    this.setCurrentState();\n                }\n            }\n        }\n    }\n\n    private onClick_1(): void {\n        if (this._sound) {\n            var pi: PackageItem = UIPackage.getItemByURL(this._sound);\n            if (pi) {\n                var sound: AudioClip = <AudioClip>pi.owner.getItemAsset(pi);\n                if (sound)\n                    GRoot.inst.playOneShotSound(sound, this._soundVolumeScale);\n            }\n        }\n\n        if (this._mode == ButtonMode.Check) {\n            if (this._changeStateOnClick) {\n                this.selected = !this._selected;\n                this._node.emit(FUIEvent.STATUS_CHANGED, this);\n            }\n        }\n        else if (this._mode == ButtonMode.Radio) {\n            if (this._changeStateOnClick && !this._selected) {\n                this.selected = true;\n                this._node.emit(FUIEvent.STATUS_CHANGED, this);\n            }\n        }\n        else {\n            if (this._relatedController)\n                this._relatedController.selectedPageId = this._relatedPageId;\n        }\n    }\n}","import { Size, Vec2, Rect, Node, Constructor } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { ListLayoutType, ListSelectionMode, AlignType, VertAlignType, ChildrenRenderOrder, OverflowType } from \"./FieldTypes\";\nimport { GButton } from \"./GButton\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { GObjectPool } from \"./GObjectPool\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport type ListItemRenderer = (index: number, item: GObject) => void;\n\nexport class GList extends GComponent {\n    public itemRenderer: ListItemRenderer;\n    public itemProvider: (index: number) => string;\n\n    public scrollItemToViewOnClick: boolean = true;\n    public foldInvisibleItems: boolean = false;\n\n    private _layout: ListLayoutType;\n    private _lineCount: number = 0;\n    private _columnCount: number = 0;\n    private _lineGap: number = 0;\n    private _columnGap: number = 0;\n    private _defaultItem: string;\n    private _autoResizeItem: boolean;\n    private _selectionMode: ListSelectionMode;\n    private _align: AlignType;\n    private _verticalAlign: VertAlignType;\n    private _selectionController?: Controller;\n\n    private _lastSelectedIndex: number = 0;\n    private _pool: GObjectPool;\n\n    //Virtual List support\n    private _virtual?: boolean;\n    private _loop?: boolean;\n    private _numItems: number = 0;\n    private _realNumItems: number = 0;\n    private _firstIndex: number = 0; //the top left index\n    private _curLineItemCount: number = 0; //item count in one line\n    private _curLineItemCount2: number = 0; //只用在页面模式，表示垂直方向的项目数\n    private _itemSize?: Size;\n    private _virtualListChanged: number = 0; //1-content changed, 2-size changed\n    private _virtualItems?: Array<ItemInfo>;\n    private _eventLocked?: boolean;\n    private itemInfoVer: number = 0; //用来标志item是否在本次处理中已经被重用了\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GList\";\n        this._trackBounds = true;\n        this._pool = new GObjectPool();\n        this._layout = ListLayoutType.SingleColumn;\n        this._autoResizeItem = true;\n        this._lastSelectedIndex = -1;\n        this._selectionMode = ListSelectionMode.Single;\n        this.opaque = true;\n        this._align = AlignType.Left;\n        this._verticalAlign = VertAlignType.Top;\n    }\n\n    public dispose(): void {\n        this._partner.unschedule(this._refreshVirtualList);\n        this._pool.clear();\n        super.dispose();\n    }\n\n    public get layout(): ListLayoutType {\n        return this._layout;\n    }\n\n    public set layout(value: ListLayoutType) {\n        if (this._layout != value) {\n            this._layout = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get lineCount(): number {\n        return this._lineCount;\n    }\n\n    public set lineCount(value: number) {\n        if (this._lineCount != value) {\n            this._lineCount = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get columnCount(): number {\n        return this._columnCount;\n    }\n\n    public set columnCount(value: number) {\n        if (this._columnCount != value) {\n            this._columnCount = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get lineGap(): number {\n        return this._lineGap;\n    }\n\n    public set lineGap(value: number) {\n        if (this._lineGap != value) {\n            this._lineGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get columnGap(): number {\n        return this._columnGap;\n    }\n\n    public set columnGap(value: number) {\n        if (this._columnGap != value) {\n            this._columnGap = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get align(): AlignType {\n        return this._align;\n    }\n\n    public set align(value: AlignType) {\n        if (this._align != value) {\n            this._align = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get verticalAlign(): VertAlignType {\n        return this._verticalAlign;\n    }\n\n    public set verticalAlign(value: VertAlignType) {\n        if (this._verticalAlign != value) {\n            this._verticalAlign = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get virtualItemSize(): Size {\n        return this._itemSize;\n    }\n\n    public set virtualItemSize(value: Size) {\n        if (this._virtual) {\n            if (this._itemSize == null)\n                this._itemSize = new Size(0, 0);\n            this._itemSize.width = value.width;\n            this._itemSize.height = value.height;\n            this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get defaultItem(): string | null {\n        return this._defaultItem;\n    }\n\n    public set defaultItem(val: string | null) {\n        this._defaultItem = val;\n    }\n\n    public get autoResizeItem(): boolean {\n        return this._autoResizeItem;\n    }\n\n    public set autoResizeItem(value: boolean) {\n        if (this._autoResizeItem != value) {\n            this._autoResizeItem = value;\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    public get selectionMode(): ListSelectionMode {\n        return this._selectionMode;\n    }\n\n    public set selectionMode(value: ListSelectionMode) {\n        this._selectionMode = value;\n    }\n\n    public get selectionController(): Controller {\n        return this._selectionController;\n    }\n\n    public set selectionController(value: Controller) {\n        this._selectionController = value;\n    }\n\n    public get itemPool(): GObjectPool {\n        return this._pool;\n    }\n\n    public getFromPool(url?: string): GObject {\n        if (!url)\n            url = this._defaultItem;\n\n        var obj: GObject = this._pool.getObject(url);\n        if (obj)\n            obj.visible = true;\n        return obj;\n    }\n\n    public returnToPool(obj: GObject): void {\n        this._pool.returnObject(obj);\n    }\n\n    public addChildAt(child: GObject, index: number): GObject {\n        super.addChildAt(child, index);\n\n        if (child instanceof GButton) {\n            child.selected = false;\n            child.changeStateOnClick = false;\n        }\n        child.on(FUIEvent.CLICK, this.onClickItem, this);\n\n        return child;\n    }\n\n    public addItem(url?: string): GObject {\n        if (!url)\n            url = this._defaultItem;\n\n        return this.addChild(UIPackage.createObjectFromURL(url));\n    }\n\n    public addItemFromPool(url?: string): GObject {\n        return this.addChild(this.getFromPool(url));\n    }\n\n    public removeChildAt(index: number, dispose?: boolean): GObject {\n        var child: GObject = super.removeChildAt(index, dispose);\n        if (!dispose)\n            child.off(FUIEvent.CLICK, this.onClickItem, this);\n\n        return child;\n    }\n\n    public removeChildToPoolAt(index: number): void {\n        var child: GObject = super.removeChildAt(index);\n        this.returnToPool(child);\n    }\n\n    public removeChildToPool(child: GObject): void {\n        super.removeChild(child);\n        this.returnToPool(child);\n    }\n\n    public removeChildrenToPool(beginIndex?: number, endIndex?: number): void {\n        if (beginIndex == undefined) beginIndex = 0;\n        if (endIndex == undefined) endIndex = -1;\n        if (endIndex < 0 || endIndex >= this._children.length)\n            endIndex = this._children.length - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildToPoolAt(beginIndex);\n    }\n\n    public get selectedIndex(): number {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && ii.obj.selected || !ii.obj && ii.selected) {\n                    if (this._loop)\n                        return i % this._numItems;\n                    else\n                        return i;\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj.selected)\n                    return i;\n            }\n        }\n\n        return -1;\n    }\n\n    public set selectedIndex(value: number) {\n        if (value >= 0 && value < this.numItems) {\n            if (this._selectionMode != ListSelectionMode.Single)\n                this.clearSelection();\n            this.addSelection(value);\n        }\n        else\n            this.clearSelection();\n    }\n\n    public getSelection(result?: number[]): number[] {\n        if (!result)\n            result = new Array<number>();\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && ii.obj.selected || !ii.obj && ii.selected) {\n                    var j: number = i;\n                    if (this._loop) {\n                        j = i % this._numItems;\n                        if (result.indexOf(j) != -1)\n                            continue;\n                    }\n                    result.push(j);\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj.selected)\n                    result.push(i);\n            }\n        }\n        return result;\n    }\n\n    public addSelection(index: number, scrollItToView?: boolean): void {\n        if (this._selectionMode == ListSelectionMode.None)\n            return;\n\n        this.checkVirtualList();\n\n        if (this._selectionMode == ListSelectionMode.Single)\n            this.clearSelection();\n\n        if (scrollItToView)\n            this.scrollToView(index);\n\n        this._lastSelectedIndex = index;\n        var obj: GObject;\n        if (this._virtual) {\n            var ii: ItemInfo = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = true;\n        }\n        else\n            obj = this.getChildAt(index);\n\n        if ((obj instanceof GButton) && !obj.selected) {\n            obj.selected = true;\n            this.updateSelectionController(index);\n        }\n    }\n\n    public removeSelection(index: number): void {\n        if (this._selectionMode == ListSelectionMode.None)\n            return;\n\n        var obj: GObject;\n        if (this._virtual) {\n            var ii: ItemInfo = this._virtualItems[index];\n            if (ii.obj)\n                obj = ii.obj;\n            ii.selected = false;\n        }\n        else\n            obj = this.getChildAt(index);\n\n        if (obj instanceof GButton)\n            obj.selected = false;\n    }\n\n    public clearSelection(): void {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj instanceof GButton)\n                    ii.obj.selected = false;\n                ii.selected = false;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj = this._children[i];\n                if (obj instanceof GButton)\n                    obj.selected = false;\n            }\n        }\n    }\n\n    private clearSelectionExcept(g: GObject): void {\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj != g) {\n                    if (ii.obj instanceof GButton)\n                        ii.obj.selected = false;\n                    ii.selected = false;\n                }\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && obj != g)\n                    obj.selected = false;\n            }\n        }\n    }\n\n    public selectAll(): void {\n        this.checkVirtualList();\n\n        var last: number = -1;\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if ((ii.obj instanceof GButton) && !ii.obj.selected) {\n                    ii.obj.selected = true;\n                    last = i;\n                }\n                ii.selected = true;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if ((obj instanceof GButton) && !obj.selected) {\n                    obj.selected = true;\n                    last = i;\n                }\n            }\n        }\n\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n\n    public selectNone(): void {\n        this.clearSelection();\n    }\n\n    public selectReverse(): void {\n        this.checkVirtualList();\n\n        var last: number = -1;\n        var i: number;\n        if (this._virtual) {\n            for (i = 0; i < this._realNumItems; i++) {\n                var ii: ItemInfo = this._virtualItems[i];\n                if (ii.obj instanceof GButton) {\n                    ii.obj.selected = !ii.obj.selected;\n                    if (ii.obj.selected)\n                        last = i;\n                }\n                ii.selected = !ii.selected;\n            }\n        }\n        else {\n            var cnt: number = this._children.length;\n            for (i = 0; i < cnt; i++) {\n                var obj: GObject = this._children[i];\n                if (obj instanceof GButton) {\n                    obj.selected = !obj.selected;\n                    if (obj.selected)\n                        last = i;\n                }\n            }\n        }\n\n        if (last != -1)\n            this.updateSelectionController(last);\n    }\n\n\n    public handleArrowKey(dir: number): void {\n        var index: number = this.selectedIndex;\n        if (index == -1)\n            return;\n\n        switch (dir) {\n            case 1://up\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowVertical) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    var current: GObject = this._children[index];\n                    var k: number = 0;\n                    for (var i: number = index - 1; i >= 0; i--) {\n                        var obj: GObject = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 3://right\n                if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    index++;\n                    if (index < this._children.length) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    var cnt: number = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 5://down\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowVertical) {\n                    index++;\n                    if (index < this._children.length) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    current = this._children[index];\n                    k = 0;\n                    cnt = this._children.length;\n                    for (i = index + 1; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i < cnt; i++) {\n                        obj = this._children[i];\n                        if (obj.y != current.y) {\n                            this.clearSelection();\n                            this.addSelection(i - k - 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n\n            case 7://left\n                if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.Pagination) {\n                    index--;\n                    if (index >= 0) {\n                        this.clearSelection();\n                        this.addSelection(index, true);\n                    }\n                }\n                else if (this._layout == ListLayoutType.FlowVertical) {\n                    current = this._children[index];\n                    k = 0;\n                    for (i = index - 1; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            current = obj;\n                            break;\n                        }\n                        k++;\n                    }\n                    for (; i >= 0; i--) {\n                        obj = this._children[i];\n                        if (obj.x != current.x) {\n                            this.clearSelection();\n                            this.addSelection(i + k + 1, true);\n                            break;\n                        }\n                    }\n                }\n                break;\n        }\n    }\n\n    private onClickItem(evt: FUIEvent): void {\n        if (this._scrollPane && this._scrollPane.isDragged)\n            return;\n\n        var item: GObject = GObject.cast(<Node>evt.currentTarget);\n        this.setSelectionOnEvent(item, evt);\n\n        if (this._scrollPane && this.scrollItemToViewOnClick)\n            this._scrollPane.scrollToView(item, true);\n\n        this.dispatchItemEvent(item, evt);\n    }\n\n    protected dispatchItemEvent(item: GObject, evt: FUIEvent): void {\n        this._node.emit(FUIEvent.CLICK_ITEM, item, evt);\n    }\n\n    private setSelectionOnEvent(item: GObject, evt: FUIEvent): void {\n        if (!(item instanceof GButton) || this._selectionMode == ListSelectionMode.None)\n            return;\n\n        var dontChangeLastIndex: boolean = false;\n        var index: number = this.childIndexToItemIndex(this.getChildIndex(item));\n\n        if (this._selectionMode == ListSelectionMode.Single) {\n            if (!item.selected) {\n                this.clearSelectionExcept(item);\n                item.selected = true;\n            }\n        }\n        else {\n            if (evt.isShiftDown) {\n                if (!item.selected) {\n                    if (this._lastSelectedIndex != -1) {\n                        var min: number = Math.min(this._lastSelectedIndex, index);\n                        var max: number = Math.max(this._lastSelectedIndex, index);\n                        max = Math.min(max, this.numItems - 1);\n                        var i: number;\n                        if (this._virtual) {\n                            for (i = min; i <= max; i++) {\n                                var ii: ItemInfo = this._virtualItems[i];\n                                if (ii.obj instanceof GButton)\n                                    ii.obj.selected = true;\n                                ii.selected = true;\n                            }\n                        }\n                        else {\n                            for (i = min; i <= max; i++) {\n                                var obj: GObject = this.getChildAt(i);\n                                if (obj instanceof GButton)\n                                    obj.selected = true;\n                            }\n                        }\n\n                        dontChangeLastIndex = true;\n                    }\n                    else {\n                        item.selected = true;\n                    }\n                }\n            }\n            else if (evt.isCtrlDown || this._selectionMode == ListSelectionMode.Multiple_SingleClick) {\n                item.selected = !item.selected;\n            }\n            else {\n                if (!item.selected) {\n                    this.clearSelectionExcept(item);\n                    item.selected = true;\n                }\n                else\n                    this.clearSelectionExcept(item);\n            }\n        }\n\n        if (!dontChangeLastIndex)\n            this._lastSelectedIndex = index;\n\n        if (item.selected)\n            this.updateSelectionController(index);\n    }\n\n    public resizeToFit(itemCount: number = Number.POSITIVE_INFINITY, minSize: number = 0): void {\n        this.ensureBoundsCorrect();\n\n        var curCount: number = this.numItems;\n        if (itemCount > curCount)\n            itemCount = curCount;\n\n        if (this._virtual) {\n            var lineCount: number = Math.ceil(itemCount / this._curLineItemCount);\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                this.viewHeight = lineCount * this._itemSize.height + Math.max(0, lineCount - 1) * this._lineGap;\n            else\n                this.viewWidth = lineCount * this._itemSize.width + Math.max(0, lineCount - 1) * this._columnGap;\n        }\n        else if (itemCount == 0) {\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                this.viewHeight = minSize;\n            else\n                this.viewWidth = minSize;\n        }\n        else {\n            var i: number = itemCount - 1;\n            var obj: GObject = null;\n            while (i >= 0) {\n                obj = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible)\n                    break;\n                i--;\n            }\n            if (i < 0) {\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal)\n                    this.viewHeight = minSize;\n                else\n                    this.viewWidth = minSize;\n            }\n            else {\n                var size: number = 0;\n                if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                    size = obj.y + obj.height;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewHeight = size;\n                }\n                else {\n                    size = obj.x + obj.width;\n                    if (size < minSize)\n                        size = minSize;\n                    this.viewWidth = size;\n                }\n            }\n        }\n    }\n\n    public getMaxItemWidth(): number {\n        var cnt: number = this._children.length;\n        var max: number = 0;\n        for (var i: number = 0; i < cnt; i++) {\n            var child: GObject = this.getChildAt(i);\n            if (child.width > max)\n                max = child.width;\n        }\n        return max;\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        this.setBoundsChangedFlag();\n        if (this._virtual)\n            this.setVirtualListChangedFlag(true);\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n\n    private updateSelectionController(index: number): void {\n        if (this._selectionController && !this._selectionController.changing\n            && index < this._selectionController.pageCount) {\n            var c: Controller = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = index;\n            this._selectionController = c;\n        }\n    }\n\n    public getSnappingPosition(xValue: number, yValue: number, resultPoint?: Vec2): Vec2 {\n        if (this._virtual) {\n            resultPoint = resultPoint || new Vec2();\n\n            var saved: number;\n            var index: number;\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                saved = yValue;\n                s_n = yValue;\n                index = this.getIndexOnPos1(false);\n                yValue = s_n;\n                if (index < this._virtualItems.length && saved - yValue > this._virtualItems[index].height / 2 && index < this._realNumItems)\n                    yValue += this._virtualItems[index].height + this._lineGap;\n            }\n            else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos2(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\n                    xValue += this._virtualItems[index].width + this._columnGap;\n            }\n            else {\n                saved = xValue;\n                s_n = xValue;\n                index = this.getIndexOnPos3(false);\n                xValue = s_n;\n                if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\n                    xValue += this._virtualItems[index].width + this._columnGap;\n            }\n\n            resultPoint.x = xValue;\n            resultPoint.y = yValue;\n            return resultPoint;\n        }\n        else {\n            return super.getSnappingPosition(xValue, yValue, resultPoint);\n        }\n    }\n\n    public scrollToView(index: number, ani?: boolean, setFirst?: boolean): void {\n        if (this._virtual) {\n            if (this._numItems == 0)\n                return;\n\n            this.checkVirtualList();\n\n            if (index >= this._virtualItems.length)\n                throw \"Invalid child index: \" + index + \">\" + this._virtualItems.length;\n\n            if (this._loop)\n                index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\n\n            var rect: Rect;\n            var ii: ItemInfo = this._virtualItems[index];\n            var pos: number = 0;\n            var i: number;\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n                    pos += this._virtualItems[i].height + this._lineGap;\n                rect = new Rect(0, pos, this._itemSize.width, ii.height);\n            }\n            else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n                for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n                    pos += this._virtualItems[i].width + this._columnGap;\n                rect = new Rect(pos, 0, ii.width, this._itemSize.height);\n            }\n            else {\n                var page: number = index / (this._curLineItemCount * this._curLineItemCount2);\n                rect = new Rect(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap),\n                    (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap),\n                    ii.width, ii.height);\n            }\n\n            if (this._scrollPane)\n                this._scrollPane.scrollToView(rect, ani, setFirst);\n        }\n        else {\n            var obj: GObject = this.getChildAt(index);\n            if (obj) {\n                if (this._scrollPane)\n                    this._scrollPane.scrollToView(obj, ani, setFirst);\n                else if (this.parent && this.parent.scrollPane)\n                    this.parent.scrollPane.scrollToView(obj, ani, setFirst);\n            }\n        }\n    }\n\n    public getFirstChildInView(): number {\n        return this.childIndexToItemIndex(super.getFirstChildInView());\n    }\n\n    public childIndexToItemIndex(index: number): number {\n        if (!this._virtual)\n            return index;\n\n        if (this._layout == ListLayoutType.Pagination) {\n            for (var i: number = this._firstIndex; i < this._realNumItems; i++) {\n                if (this._virtualItems[i].obj) {\n                    index--;\n                    if (index < 0)\n                        return i;\n                }\n            }\n\n            return index;\n        }\n        else {\n            index += this._firstIndex;\n            if (this._loop && this._numItems > 0)\n                index = index % this._numItems;\n\n            return index;\n        }\n    }\n\n    public itemIndexToChildIndex(index: number): number {\n        if (!this._virtual)\n            return index;\n\n        if (this._layout == ListLayoutType.Pagination) {\n            return this.getChildIndex(this._virtualItems[index].obj);\n        }\n        else {\n            if (this._loop && this._numItems > 0) {\n                var j: number = this._firstIndex % this._numItems;\n                if (index >= j)\n                    index = index - j;\n                else\n                    index = this._numItems - j + index;\n            }\n            else\n                index -= this._firstIndex;\n\n            return index;\n        }\n    }\n\n    public setVirtual(): void {\n        this._setVirtual(false);\n    }\n\n    /// <summary>\n    /// Set the list to be virtual list, and has loop behavior.\n    /// </summary>\n    public setVirtualAndLoop(): void {\n        this._setVirtual(true);\n    }\n\n    /// <summary>\n    /// Set the list to be virtual list.\n    /// </summary>\n    private _setVirtual(loop: boolean): void {\n        if (!this._virtual) {\n            if (!this._scrollPane)\n                throw \"Virtual list must be scrollable!\";\n\n            if (loop) {\n                if (this._layout == ListLayoutType.FlowHorizontal || this._layout == ListLayoutType.FlowVertical)\n                    throw \"Loop list is not supported for FlowHorizontal or FlowVertical layout!\";\n\n                this._scrollPane.bouncebackEffect = false;\n            }\n\n            this._virtual = true;\n            this._loop = loop;\n            this._virtualItems = new Array<ItemInfo>();\n            this.removeChildrenToPool();\n\n            if (this._itemSize == null) {\n                this._itemSize = new Size(0, 0);\n                var obj: GObject = this.getFromPool(null);\n                if (!obj) {\n                    throw \"Virtual List must have a default list item resource.\";\n                }\n                else {\n                    this._itemSize.width = obj.width;\n                    this._itemSize.height = obj.height;\n                }\n                this.returnToPool(obj);\n            }\n\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                this._scrollPane.scrollStep = this._itemSize.height;\n                if (this._loop)\n                    this._scrollPane._loop = 2;\n            }\n            else {\n                this._scrollPane.scrollStep = this._itemSize.width;\n                if (this._loop)\n                    this._scrollPane._loop = 1;\n            }\n\n            this._node.on(FUIEvent.SCROLL, this.__scrolled, this);\n            this.setVirtualListChangedFlag(true);\n        }\n    }\n\n    /// <summary>\n    /// Set the list item count. \n    /// If the list is not virtual, specified number of items will be created. \n    /// If the list is virtual, only items in view will be created.\n    /// </summary>\n    public get numItems(): number {\n        if (this._virtual)\n            return this._numItems;\n        else\n            return this._children.length;\n    }\n\n    public set numItems(value: number) {\n        if (this._virtual) {\n            if (this.itemRenderer == null)\n                throw \"Set itemRenderer first!\";\n\n            this._numItems = value;\n            if (this._loop)\n                this._realNumItems = this._numItems * 6;//设置6倍数量，用于循环滚动\n            else\n                this._realNumItems = this._numItems;\n\n            //_virtualItems的设计是只增不减的\n            var oldCount: number = this._virtualItems.length;\n            if (this._realNumItems > oldCount) {\n                for (i = oldCount; i < this._realNumItems; i++) {\n                    var ii: ItemInfo = {\n                        width: this._itemSize.width,\n                        height: this._itemSize.height,\n                        updateFlag: 0\n                    };\n\n                    this._virtualItems.push(ii);\n                }\n            }\n            else {\n                for (i = this._realNumItems; i < oldCount; i++)\n                    this._virtualItems[i].selected = false;\n            }\n\n            if (this._virtualListChanged != 0)\n                this._partner.unschedule(this._refreshVirtualList);\n\n            //立即刷新\n            this._refreshVirtualList();\n        }\n        else {\n            var cnt: number = this._children.length;\n            if (value > cnt) {\n                for (var i: number = cnt; i < value; i++) {\n                    if (this.itemProvider == null)\n                        this.addItemFromPool();\n                    else\n                        this.addItemFromPool(this.itemProvider(i));\n                }\n            }\n            else {\n                this.removeChildrenToPool(value, cnt);\n            }\n            if (this.itemRenderer != null) {\n                for (i = 0; i < value; i++)\n                    this.itemRenderer(i, this.getChildAt(i));\n            }\n        }\n    }\n\n    public refreshVirtualList(): void {\n        this.setVirtualListChangedFlag(false);\n    }\n\n    private checkVirtualList(): void {\n        if (this._virtualListChanged != 0) {\n            this._refreshVirtualList();\n            this._partner.unschedule(this._refreshVirtualList);\n        }\n    }\n\n    private setVirtualListChangedFlag(layoutChanged: boolean): void {\n        if (layoutChanged)\n            this._virtualListChanged = 2;\n        else if (this._virtualListChanged == 0)\n            this._virtualListChanged = 1;\n\n        this._partner.callLater(this._refreshVirtualList);\n    }\n\n    private _refreshVirtualList(dt?: number): void {\n        if (!isNaN(dt)) {\n            let _t = <GList>GObject.cast(this.node);\n            _t._refreshVirtualList();\n            return;\n        }\n\n        var layoutChanged: boolean = this._virtualListChanged == 2;\n        this._virtualListChanged = 0;\n        this._eventLocked = true;\n\n        if (layoutChanged) {\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.SingleRow)\n                this._curLineItemCount = 1;\n            else if (this._layout == ListLayoutType.FlowHorizontal) {\n                if (this._columnCount > 0)\n                    this._curLineItemCount = this._columnCount;\n                else {\n                    this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.width + this._columnGap));\n                    if (this._curLineItemCount <= 0)\n                        this._curLineItemCount = 1;\n                }\n            }\n            else if (this._layout == ListLayoutType.FlowVertical) {\n                if (this._lineCount > 0)\n                    this._curLineItemCount = this._lineCount;\n                else {\n                    this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.height + this._lineGap));\n                    if (this._curLineItemCount <= 0)\n                        this._curLineItemCount = 1;\n                }\n            }\n            else //pagination\n            {\n                if (this._columnCount > 0)\n                    this._curLineItemCount = this._columnCount;\n                else {\n                    this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.width + this._columnGap));\n                    if (this._curLineItemCount <= 0)\n                        this._curLineItemCount = 1;\n                }\n\n                if (this._lineCount > 0)\n                    this._curLineItemCount2 = this._lineCount;\n                else {\n                    this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.height + this._lineGap));\n                    if (this._curLineItemCount2 <= 0)\n                        this._curLineItemCount2 = 1;\n                }\n            }\n        }\n\n        var ch: number = 0, cw: number = 0;\n        if (this._realNumItems > 0) {\n            var i: number;\n            var len: number = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\n            var len2: number = Math.min(this._curLineItemCount, this._realNumItems);\n            if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n                for (i = 0; i < len; i += this._curLineItemCount)\n                    ch += this._virtualItems[i].height + this._lineGap;\n                if (ch > 0)\n                    ch -= this._lineGap;\n\n                if (this._autoResizeItem)\n                    cw = this._scrollPane.viewWidth;\n                else {\n                    for (i = 0; i < len2; i++)\n                        cw += this._virtualItems[i].width + this._columnGap;\n                    if (cw > 0)\n                        cw -= this._columnGap;\n                }\n            }\n            else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n                for (i = 0; i < len; i += this._curLineItemCount)\n                    cw += this._virtualItems[i].width + this._columnGap;\n                if (cw > 0)\n                    cw -= this._columnGap;\n\n                if (this._autoResizeItem)\n                    ch = this._scrollPane.viewHeight;\n                else {\n                    for (i = 0; i < len2; i++)\n                        ch += this._virtualItems[i].height + this._lineGap;\n                    if (ch > 0)\n                        ch -= this._lineGap;\n                }\n            }\n            else {\n                var pageCount: number = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\n                cw = pageCount * this.viewWidth;\n                ch = this.viewHeight;\n            }\n        }\n\n        this.handleAlign(cw, ch);\n        this._scrollPane.setContentSize(cw, ch);\n\n        this._eventLocked = false;\n\n        this.handleScroll(true);\n    }\n\n    private __scrolled(evt: Event): void {\n        this.handleScroll(false);\n    }\n\n    private getIndexOnPos1(forceUpdate: boolean): number {\n        if (this._realNumItems < this._curLineItemCount) {\n            s_n = 0;\n            return 0;\n        }\n\n        var i: number;\n        var pos2: number;\n        var pos3: number;\n\n        if (this.numChildren > 0 && !forceUpdate) {\n            pos2 = this.getChildAt(0).y;\n            if (pos2 > s_n) {\n                for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n                    pos2 -= (this._virtualItems[i].height + this._lineGap);\n                    if (pos2 <= s_n) {\n                        s_n = pos2;\n                        return i;\n                    }\n                }\n\n                s_n = 0;\n                return 0;\n            }\n            else {\n                for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n                    pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n                    if (pos3 > s_n) {\n                        s_n = pos2;\n                        return i;\n                    }\n                    pos2 = pos3;\n                }\n\n                s_n = pos2;\n                return this._realNumItems - this._curLineItemCount;\n            }\n        }\n        else {\n            pos2 = 0;\n            for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n                pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n                if (pos3 > s_n) {\n                    s_n = pos2;\n                    return i;\n                }\n                pos2 = pos3;\n            }\n\n            s_n = pos2;\n            return this._realNumItems - this._curLineItemCount;\n        }\n    }\n\n    private getIndexOnPos2(forceUpdate: boolean): number {\n        if (this._realNumItems < this._curLineItemCount) {\n            s_n = 0;\n            return 0;\n        }\n\n        var i: number;\n        var pos2: number;\n        var pos3: number;\n\n        if (this.numChildren > 0 && !forceUpdate) {\n            pos2 = this.getChildAt(0).x;\n            if (pos2 > s_n) {\n                for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n                    pos2 -= (this._virtualItems[i].width + this._columnGap);\n                    if (pos2 <= s_n) {\n                        s_n = pos2;\n                        return i;\n                    }\n                }\n\n                s_n = 0;\n                return 0;\n            }\n            else {\n                for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n                    pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n                    if (pos3 > s_n) {\n                        s_n = pos2;\n                        return i;\n                    }\n                    pos2 = pos3;\n                }\n\n                s_n = pos2;\n                return this._realNumItems - this._curLineItemCount;\n            }\n        }\n        else {\n            pos2 = 0;\n            for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n                pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n                if (pos3 > s_n) {\n                    s_n = pos2;\n                    return i;\n                }\n                pos2 = pos3;\n            }\n\n            s_n = pos2;\n            return this._realNumItems - this._curLineItemCount;\n        }\n    }\n\n    private getIndexOnPos3(forceUpdate: boolean): number {\n        if (this._realNumItems < this._curLineItemCount) {\n            s_n = 0;\n            return 0;\n        }\n\n        var viewWidth: number = this.viewWidth;\n        var page: number = Math.floor(s_n / viewWidth);\n        var startIndex: number = page * (this._curLineItemCount * this._curLineItemCount2);\n        var pos2: number = page * viewWidth;\n        var i: number;\n        var pos3: number;\n        for (i = 0; i < this._curLineItemCount; i++) {\n            pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\n            if (pos3 > s_n) {\n                s_n = pos2;\n                return startIndex + i;\n            }\n            pos2 = pos3;\n        }\n\n        s_n = pos2;\n        return startIndex + this._curLineItemCount - 1;\n    }\n\n    private handleScroll(forceUpdate: boolean): void {\n        if (this._eventLocked)\n            return;\n\n        if (this._layout == ListLayoutType.SingleColumn || this._layout == ListLayoutType.FlowHorizontal) {\n            var enterCounter: number = 0;\n            while (this.handleScroll1(forceUpdate)) {\n                enterCounter++;\n                forceUpdate = false;\n                if (enterCounter > 20) {\n                    console.log(\"FairyGUI: list will never be filled as the item renderer function always returns a different size.\");\n                    break;\n                }\n            }\n            this.handleArchOrder1();\n        }\n        else if (this._layout == ListLayoutType.SingleRow || this._layout == ListLayoutType.FlowVertical) {\n            enterCounter = 0;\n            while (this.handleScroll2(forceUpdate)) {\n                enterCounter++;\n                forceUpdate = false;\n                if (enterCounter > 20) {\n                    console.log(\"FairyGUI: list will never be filled as the item renderer function always returns a different size.\");\n                    break;\n                }\n            }\n            this.handleArchOrder2();\n        }\n        else {\n            this.handleScroll3(forceUpdate);\n        }\n\n        this._boundsChanged = false;\n    }\n\n    private static pos_param: number;\n\n    private handleScroll1(forceUpdate: boolean): boolean {\n        var pos: number = this._scrollPane.scrollingPosY;\n        var max: number = pos + this._scrollPane.viewHeight;\n        var end: boolean = max == this._scrollPane.contentHeight;//这个标志表示当前需要滚动到最末，无论内容变化大小\n\n        //寻找当前位置的第一条项目\n        s_n = pos;\n        var newFirstIndex: number = this.getIndexOnPos1(forceUpdate);\n        pos = s_n;\n        if (newFirstIndex == this._firstIndex && !forceUpdate) {\n            return false;\n        }\n\n        var oldFirstIndex: number = this._firstIndex;\n        this._firstIndex = newFirstIndex;\n        var curIndex: number = newFirstIndex;\n        var forward: boolean = oldFirstIndex > newFirstIndex;\n        var childCount: number = this.numChildren;\n        var lastIndex: number = oldFirstIndex + childCount - 1;\n        var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        var curX: number = 0, curY: number = pos;\n        var needRender: boolean;\n        var deltaSize: number = 0;\n        var firstItemDeltaSize: number = 0;\n        var url: string = this.defaultItem;\n        var ii: ItemInfo, ii2: ItemInfo;\n        var i: number, j: number;\n        var partSize: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n\n        this.itemInfoVer++;\n\n        while (curIndex < this._realNumItems && (end || curY < max)) {\n            ii = this._virtualItems[curIndex];\n\n            if (!ii.obj || forceUpdate) {\n                if (this.itemProvider != null) {\n                    url = this.itemProvider(curIndex % this._numItems);\n                    if (url == null)\n                        url = this._defaultItem;\n                    url = UIPackage.normalizeURL(url);\n                }\n\n                if (ii.obj && ii.obj.resourceURL != url) {\n                    if (ii.obj instanceof GButton)\n                        ii.selected = ii.obj.selected;\n                    this.removeChildToPool(ii.obj);\n                    ii.obj = null;\n                }\n            }\n\n            if (!ii.obj) {\n                //搜索最适合的重用item，保证每次刷新需要新建或者重新render的item最少\n                if (forward) {\n                    for (j = reuseIndex; j >= oldFirstIndex; j--) {\n                        ii2 = this._virtualItems[j];\n                        if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                            if (ii2.obj instanceof GButton)\n                                ii2.selected = ii2.obj.selected;\n                            ii.obj = ii2.obj;\n                            ii2.obj = null;\n                            if (j == reuseIndex)\n                                reuseIndex--;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (j = reuseIndex; j <= lastIndex; j++) {\n                        ii2 = this._virtualItems[j];\n                        if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                            if (ii2.obj instanceof GButton)\n                                ii2.selected = ii2.obj.selected;\n                            ii.obj = ii2.obj;\n                            ii2.obj = null;\n                            if (j == reuseIndex)\n                                reuseIndex++;\n                            break;\n                        }\n                    }\n                }\n\n                if (ii.obj) {\n                    this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n                }\n                else {\n                    ii.obj = this._pool.getObject(url);\n                    if (forward)\n                        this.addChildAt(ii.obj, curIndex - newFirstIndex);\n                    else\n                        this.addChild(ii.obj);\n                }\n                if (ii.obj instanceof GButton)\n                    ii.obj.selected = ii.selected;\n\n                needRender = true;\n            }\n            else\n                needRender = forceUpdate;\n\n            if (needRender) {\n                if (this._autoResizeItem && (this._layout == ListLayoutType.SingleColumn || this._columnCount > 0))\n                    ii.obj.setSize(partSize, ii.obj.height, true);\n\n                this.itemRenderer(curIndex % this._numItems, ii.obj);\n                if (curIndex % this._curLineItemCount == 0) {\n                    deltaSize += Math.ceil(ii.obj.height) - ii.height;\n                    if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n                        //当内容向下滚动时，如果新出现的项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n                        firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\n                    }\n                }\n                ii.width = Math.ceil(ii.obj.width);\n                ii.height = Math.ceil(ii.obj.height);\n            }\n\n            ii.updateFlag = this.itemInfoVer;\n            ii.obj.setPosition(curX, curY);\n            if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n                max += ii.height;\n\n            curX += ii.width + this._columnGap;\n\n            if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n                curX = 0;\n                curY += ii.height + this._lineGap;\n            }\n            curIndex++;\n        }\n\n        for (i = 0; i < childCount; i++) {\n            ii = this._virtualItems[oldFirstIndex + i];\n            if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n                if (ii.obj instanceof GButton)\n                    ii.selected = ii.obj.selected;\n                this.removeChildToPool(ii.obj);\n                ii.obj = null;\n            }\n        }\n\n        childCount = this._children.length;\n        for (i = 0; i < childCount; i++) {\n            let obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n            if (this._children[i] != obj)\n                this.setChildIndex(obj, i);\n        }\n\n        if (deltaSize != 0 || firstItemDeltaSize != 0)\n            this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\n\n        if (curIndex > 0 && this.numChildren > 0 && this._container.position.y <= 0 && this.getChildAt(0).y > -this._container.position.y)//最后一页没填满！\n            return true;\n        else\n            return false;\n    }\n\n    private handleScroll2(forceUpdate: boolean): boolean {\n        var pos: number = this._scrollPane.scrollingPosX;\n        var max: number = pos + this._scrollPane.viewWidth;\n        var end: boolean = pos == this._scrollPane.contentWidth;//这个标志表示当前需要滚动到最末，无论内容变化大小\n\n        //寻找当前位置的第一条项目\n        s_n = pos;\n        var newFirstIndex: number = this.getIndexOnPos2(forceUpdate);\n        pos = s_n;\n        if (newFirstIndex == this._firstIndex && !forceUpdate) {\n            return false;\n        }\n\n        var oldFirstIndex: number = this._firstIndex;\n        this._firstIndex = newFirstIndex;\n        var curIndex: number = newFirstIndex;\n        var forward: boolean = oldFirstIndex > newFirstIndex;\n        var childCount: number = this.numChildren;\n        var lastIndex: number = oldFirstIndex + childCount - 1;\n        var reuseIndex: number = forward ? lastIndex : oldFirstIndex;\n        var curX: number = pos, curY: number = 0;\n        var needRender: boolean;\n        var deltaSize: number = 0;\n        var firstItemDeltaSize: number = 0;\n        var url: string = this.defaultItem;\n        var ii: ItemInfo, ii2: ItemInfo;\n        var i: number, j: number;\n        var partSize: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n\n        this.itemInfoVer++;\n\n        while (curIndex < this._realNumItems && (end || curX < max)) {\n            ii = this._virtualItems[curIndex];\n\n            if (!ii.obj || forceUpdate) {\n                if (this.itemProvider != null) {\n                    url = this.itemProvider(curIndex % this._numItems);\n                    if (url == null)\n                        url = this._defaultItem;\n                    url = UIPackage.normalizeURL(url);\n                }\n\n                if (ii.obj && ii.obj.resourceURL != url) {\n                    if (ii.obj instanceof GButton)\n                        ii.selected = ii.obj.selected;\n                    this.removeChildToPool(ii.obj);\n                    ii.obj = null;\n                }\n            }\n\n            if (!ii.obj) {\n                if (forward) {\n                    for (j = reuseIndex; j >= oldFirstIndex; j--) {\n                        ii2 = this._virtualItems[j];\n                        if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                            if (ii2.obj instanceof GButton)\n                                ii2.selected = ii2.obj.selected;\n                            ii.obj = ii2.obj;\n                            ii2.obj = null;\n                            if (j == reuseIndex)\n                                reuseIndex--;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (j = reuseIndex; j <= lastIndex; j++) {\n                        ii2 = this._virtualItems[j];\n                        if (ii2.obj && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                            if (ii2.obj instanceof GButton)\n                                ii2.selected = ii2.obj.selected;\n                            ii.obj = ii2.obj;\n                            ii2.obj = null;\n                            if (j == reuseIndex)\n                                reuseIndex++;\n                            break;\n                        }\n                    }\n                }\n\n                if (ii.obj) {\n                    this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n                }\n                else {\n                    ii.obj = this._pool.getObject(url);\n                    if (forward)\n                        this.addChildAt(ii.obj, curIndex - newFirstIndex);\n                    else\n                        this.addChild(ii.obj);\n                }\n                if (ii.obj instanceof GButton)\n                    ii.obj.selected = ii.selected;\n\n                needRender = true;\n            }\n            else\n                needRender = forceUpdate;\n\n            if (needRender) {\n                if (this._autoResizeItem && (this._layout == ListLayoutType.SingleRow || this._lineCount > 0))\n                    ii.obj.setSize(ii.obj.width, partSize, true);\n\n\n                this.itemRenderer(curIndex % this._numItems, ii.obj);\n                if (curIndex % this._curLineItemCount == 0) {\n                    deltaSize += Math.ceil(ii.obj.width) - ii.width;\n                    if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n                        //当内容向下滚动时，如果新出现的一个项目大小发生变化，需要做一个位置补偿，才不会导致滚动跳动\n                        firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\n                    }\n                }\n                ii.width = Math.ceil(ii.obj.width);\n                ii.height = Math.ceil(ii.obj.height);\n            }\n\n            ii.updateFlag = this.itemInfoVer;\n            ii.obj.setPosition(curX, curY);\n            if (curIndex == newFirstIndex) //要显示多一条才不会穿帮\n                max += ii.width;\n\n            curY += ii.height + this._lineGap;\n\n            if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n                curY = 0;\n                curX += ii.width + this._columnGap;\n            }\n            curIndex++;\n        }\n\n        for (i = 0; i < childCount; i++) {\n            ii = this._virtualItems[oldFirstIndex + i];\n            if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n                if (ii.obj instanceof GButton)\n                    ii.selected = ii.obj.selected;\n                this.removeChildToPool(ii.obj);\n                ii.obj = null;\n            }\n        }\n\n        childCount = this._children.length;\n        for (i = 0; i < childCount; i++) {\n            let obj: GObject = this._virtualItems[newFirstIndex + i].obj;\n            if (this._children[i] != obj)\n                this.setChildIndex(obj, i);\n        }\n\n        if (deltaSize != 0 || firstItemDeltaSize != 0)\n            this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\n\n        if (curIndex > 0 && this.numChildren > 0 && this._container.position.x <= 0 && this.getChildAt(0).x > - this._container.position.x)//最后一页没填满！\n            return true;\n        else\n            return false;\n    }\n\n    private handleScroll3(forceUpdate: boolean): void {\n        var pos: number = this._scrollPane.scrollingPosX;\n\n        //寻找当前位置的第一条项目\n        s_n = pos;\n        var newFirstIndex: number = this.getIndexOnPos3(forceUpdate);\n        pos = s_n;\n        if (newFirstIndex == this._firstIndex && !forceUpdate)\n            return;\n\n        var oldFirstIndex: number = this._firstIndex;\n        this._firstIndex = newFirstIndex;\n\n        //分页模式不支持不等高，所以渲染满一页就好了\n\n        var reuseIndex: number = oldFirstIndex;\n        var virtualItemCount: number = this._virtualItems.length;\n        var pageSize: number = this._curLineItemCount * this._curLineItemCount2;\n        var startCol: number = newFirstIndex % this._curLineItemCount;\n        var viewWidth: number = this.viewWidth;\n        var page: number = Math.floor(newFirstIndex / pageSize);\n        var startIndex: number = page * pageSize;\n        var lastIndex: number = startIndex + pageSize * 2; //测试两页\n        var needRender: boolean;\n        var i: number;\n        var ii: ItemInfo, ii2: ItemInfo;\n        var col: number;\n        var url: string = this._defaultItem;\n        var partWidth: number = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n        var partHeight: number = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\n\n        this.itemInfoVer++;\n\n        //先标记这次要用到的项目\n        for (i = startIndex; i < lastIndex; i++) {\n            if (i >= this._realNumItems)\n                continue;\n\n            col = i % this._curLineItemCount;\n            if (i - startIndex < pageSize) {\n                if (col < startCol)\n                    continue;\n            }\n            else {\n                if (col > startCol)\n                    continue;\n            }\n\n            ii = this._virtualItems[i];\n            ii.updateFlag = this.itemInfoVer;\n        }\n\n        var lastObj: GObject = null;\n        var insertIndex: number = 0;\n        for (i = startIndex; i < lastIndex; i++) {\n            if (i >= this._realNumItems)\n                continue;\n\n            ii = this._virtualItems[i];\n            if (ii.updateFlag != this.itemInfoVer)\n                continue;\n\n            if (!ii.obj) {\n                //寻找看有没有可重用的\n                while (reuseIndex < virtualItemCount) {\n                    ii2 = this._virtualItems[reuseIndex];\n                    if (ii2.obj && ii2.updateFlag != this.itemInfoVer) {\n                        if (ii2.obj instanceof GButton)\n                            ii2.selected = ii2.obj.selected;\n                        ii.obj = ii2.obj;\n                        ii2.obj = null;\n                        break;\n                    }\n                    reuseIndex++;\n                }\n\n                if (insertIndex == -1)\n                    insertIndex = this.getChildIndex(lastObj) + 1;\n\n                if (!ii.obj) {\n                    if (this.itemProvider != null) {\n                        url = this.itemProvider(i % this._numItems);\n                        if (url == null)\n                            url = this._defaultItem;\n                        url = UIPackage.normalizeURL(url);\n                    }\n\n                    ii.obj = this._pool.getObject(url);\n                    this.addChildAt(ii.obj, insertIndex);\n                }\n                else {\n                    insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\n                }\n                insertIndex++;\n\n                if (ii.obj instanceof GButton)\n                    ii.obj.selected = ii.selected;\n\n                needRender = true;\n            }\n            else {\n                needRender = forceUpdate;\n                insertIndex = -1;\n                lastObj = ii.obj;\n            }\n\n            if (needRender) {\n                if (this._autoResizeItem) {\n                    if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\n                        ii.obj.setSize(partWidth, partHeight, true);\n                    else if (this._curLineItemCount == this._columnCount)\n                        ii.obj.setSize(partWidth, ii.obj.height, true);\n                    else if (this._curLineItemCount2 == this._lineCount)\n                        ii.obj.setSize(ii.obj.width, partHeight, true);\n                }\n\n                this.itemRenderer(i % this._numItems, ii.obj);\n                ii.width = Math.ceil(ii.obj.width);\n                ii.height = Math.ceil(ii.obj.height);\n            }\n        }\n\n        //排列item\n        var borderX: number = (startIndex / pageSize) * viewWidth;\n        var xx: number = borderX;\n        var yy: number = 0;\n        var lineHeight: number = 0;\n        for (i = startIndex; i < lastIndex; i++) {\n            if (i >= this._realNumItems)\n                continue;\n\n            ii = this._virtualItems[i];\n            if (ii.updateFlag == this.itemInfoVer)\n                ii.obj.setPosition(xx, yy);\n\n            if (ii.height > lineHeight)\n                lineHeight = ii.height;\n            if (i % this._curLineItemCount == this._curLineItemCount - 1) {\n                xx = borderX;\n                yy += lineHeight + this._lineGap;\n                lineHeight = 0;\n\n                if (i == startIndex + pageSize - 1) {\n                    borderX += viewWidth;\n                    xx = borderX;\n                    yy = 0;\n                }\n            }\n            else\n                xx += ii.width + this._columnGap;\n        }\n\n        //释放未使用的\n        for (i = reuseIndex; i < virtualItemCount; i++) {\n            ii = this._virtualItems[i];\n            if (ii.updateFlag != this.itemInfoVer && ii.obj) {\n                if (ii.obj instanceof GButton)\n                    ii.selected = ii.obj.selected;\n                this.removeChildToPool(ii.obj);\n                ii.obj = null;\n            }\n        }\n    }\n\n    private handleArchOrder1(): void {\n        if (this._childrenRenderOrder == ChildrenRenderOrder.Arch) {\n            var mid: number = this._scrollPane.posY + this.viewHeight / 2;\n            var minDist: number = Number.POSITIVE_INFINITY;\n            var dist: number = 0;\n            var apexIndex: number = 0;\n            var cnt: number = this.numChildren;\n            for (var i: number = 0; i < cnt; i++) {\n                var obj: GObject = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible) {\n                    dist = Math.abs(mid - obj.y - obj.height / 2);\n                    if (dist < minDist) {\n                        minDist = dist;\n                        apexIndex = i;\n                    }\n                }\n            }\n            this.apexIndex = apexIndex;\n        }\n    }\n\n    private handleArchOrder2(): void {\n        if (this._childrenRenderOrder == ChildrenRenderOrder.Arch) {\n            var mid: number = this._scrollPane.posX + this.viewWidth / 2;\n            var minDist: number = Number.POSITIVE_INFINITY;\n            var dist: number = 0;\n            var apexIndex: number = 0;\n            var cnt: number = this.numChildren;\n            for (var i: number = 0; i < cnt; i++) {\n                var obj: GObject = this.getChildAt(i);\n                if (!this.foldInvisibleItems || obj.visible) {\n                    dist = Math.abs(mid - obj.x - obj.width / 2);\n                    if (dist < minDist) {\n                        minDist = dist;\n                        apexIndex = i;\n                    }\n                }\n            }\n            this.apexIndex = apexIndex;\n        }\n    }\n\n    private handleAlign(contentWidth: number, contentHeight: number): void {\n        var newOffsetX: number = 0;\n        var newOffsetY: number = 0;\n\n        if (contentHeight < this.viewHeight) {\n            if (this._verticalAlign == VertAlignType.Middle)\n                newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\n            else if (this._verticalAlign == VertAlignType.Bottom)\n                newOffsetY = this.viewHeight - contentHeight;\n        }\n\n        if (contentWidth < this.viewWidth) {\n            if (this._align == AlignType.Center)\n                newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\n            else if (this._align == AlignType.Right)\n                newOffsetX = this.viewWidth - contentWidth;\n        }\n\n\n        if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\n            this._alignOffset.x = newOffsetX;\n            this._alignOffset.y = newOffsetY;\n            if (this._scrollPane)\n                this._scrollPane.adjustMaskContainer();\n            else\n                this._container.setPosition(this._pivotCorrectX + this._alignOffset.x, this._pivotCorrectY - this._alignOffset.y);\n        }\n    }\n\n    protected updateBounds(): void {\n        if (this._virtual)\n            return;\n\n        var i: number;\n        var child: GObject;\n        var curX: number = 0;\n        var curY: number = 0;\n        var maxWidth: number = 0;\n        var maxHeight: number = 0;\n        var cw: number = 0, ch: number = 0;\n        var j: number = 0;\n        var page: number = 0;\n        var k: number = 0;\n        var cnt: number = this._children.length;\n        var viewWidth: number = this.viewWidth;\n        var viewHeight: number = this.viewHeight;\n        var lineSize: number = 0;\n        var lineStart: number = 0;\n        var ratio: number = 0;\n\n        if (this._layout == ListLayoutType.SingleColumn) {\n            for (i = 0; i < cnt; i++) {\n                child = this.getChildAt(i);\n                if (this.foldInvisibleItems && !child.visible)\n                    continue;\n\n                if (curY != 0)\n                    curY += this._lineGap;\n                child.y = curY;\n                if (this._autoResizeItem)\n                    child.setSize(viewWidth, child.height, true);\n                curY += Math.ceil(child.height);\n                if (child.width > maxWidth)\n                    maxWidth = child.width;\n            }\n            ch = curY;\n\n            if (ch <= viewHeight && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.vtScrollBar) {\n                viewWidth += this._scrollPane.vtScrollBar.width;\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    child.setSize(viewWidth, child.height, true);\n                    if (child.width > maxWidth)\n                        maxWidth = child.width;\n                }\n            }\n\n            cw = Math.ceil(maxWidth);\n        }\n        else if (this._layout == ListLayoutType.SingleRow) {\n            for (i = 0; i < cnt; i++) {\n                child = this.getChildAt(i);\n                if (this.foldInvisibleItems && !child.visible)\n                    continue;\n\n                if (curX != 0)\n                    curX += this._columnGap;\n                child.x = curX;\n                if (this._autoResizeItem)\n                    child.setSize(child.width, viewHeight, true);\n                curX += Math.ceil(child.width);\n                if (child.height > maxHeight)\n                    maxHeight = child.height;\n            }\n            cw = curX;\n\n            if (cw <= viewWidth && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.hzScrollBar) {\n                viewHeight += this._scrollPane.hzScrollBar.height;\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    child.setSize(child.width, viewHeight, true);\n                    if (child.height > maxHeight)\n                        maxHeight = child.height;\n                }\n            }\n\n            ch = Math.ceil(maxHeight);\n        }\n        else if (this._layout == ListLayoutType.FlowHorizontal) {\n            if (this._autoResizeItem && this._columnCount > 0) {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    lineSize += child.sourceWidth;\n                    j++;\n                    if (j == this._columnCount || i == cnt - 1) {\n                        ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n                        curX = 0;\n                        for (j = lineStart; j <= i; j++) {\n                            child = this.getChildAt(j);\n                            if (this.foldInvisibleItems && !child.visible)\n                                continue;\n\n                            child.setPosition(curX, curY);\n\n                            if (j < i) {\n                                child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\n                                curX += Math.ceil(child.width) + this._columnGap;\n                            }\n                            else {\n                                child.setSize(viewWidth - curX, child.height, true);\n                            }\n                            if (child.height > maxHeight)\n                                maxHeight = child.height;\n                        }\n                        //new line\n                        curY += Math.ceil(maxHeight) + this._lineGap;\n                        maxHeight = 0;\n                        j = 0;\n                        lineStart = i + 1;\n                        lineSize = 0;\n                    }\n                }\n                ch = curY + Math.ceil(maxHeight);\n                cw = viewWidth;\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    if (curX != 0)\n                        curX += this._columnGap;\n\n                    if (this._columnCount != 0 && j >= this._columnCount\n                        || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n                        //new line\n                        curX = 0;\n                        curY += Math.ceil(maxHeight) + this._lineGap;\n                        maxHeight = 0;\n                        j = 0;\n                    }\n                    child.setPosition(curX, curY);\n                    curX += Math.ceil(child.width);\n                    if (curX > maxWidth)\n                        maxWidth = curX;\n                    if (child.height > maxHeight)\n                        maxHeight = child.height;\n                    j++;\n                }\n                ch = curY + Math.ceil(maxHeight);\n                cw = Math.ceil(maxWidth);\n            }\n        }\n        else if (this._layout == ListLayoutType.FlowVertical) {\n            if (this._autoResizeItem && this._lineCount > 0) {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    lineSize += child.sourceHeight;\n                    j++;\n                    if (j == this._lineCount || i == cnt - 1) {\n                        ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\n                        curY = 0;\n                        for (j = lineStart; j <= i; j++) {\n                            child = this.getChildAt(j);\n                            if (this.foldInvisibleItems && !child.visible)\n                                continue;\n\n                            child.setPosition(curX, curY);\n\n                            if (j < i) {\n                                child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\n                                curY += Math.ceil(child.height) + this._lineGap;\n                            }\n                            else {\n                                child.setSize(child.width, viewHeight - curY, true);\n                            }\n                            if (child.width > maxWidth)\n                                maxWidth = child.width;\n                        }\n                        //new line\n                        curX += Math.ceil(maxWidth) + this._columnGap;\n                        maxWidth = 0;\n                        j = 0;\n                        lineStart = i + 1;\n                        lineSize = 0;\n                    }\n                }\n                cw = curX + Math.ceil(maxWidth);\n                ch = viewHeight;\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    if (curY != 0)\n                        curY += this._lineGap;\n\n                    if (this._lineCount != 0 && j >= this._lineCount\n                        || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\n                        curY = 0;\n                        curX += Math.ceil(maxWidth) + this._columnGap;\n                        maxWidth = 0;\n                        j = 0;\n                    }\n                    child.setPosition(curX, curY);\n                    curY += Math.ceil(child.height);\n                    if (curY > maxHeight)\n                        maxHeight = curY;\n                    if (child.width > maxWidth)\n                        maxWidth = child.width;\n                    j++;\n                }\n                cw = curX + Math.ceil(maxWidth);\n                ch = Math.ceil(maxHeight);\n            }\n        }\n        else //pagination\n        {\n            var eachHeight: number;\n            if (this._autoResizeItem && this._lineCount > 0)\n                eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\n\n            if (this._autoResizeItem && this._columnCount > 0) {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n\n                    if (j == 0 && (this._lineCount != 0 && k >= this._lineCount\n                        || this._lineCount == 0 && curY + (this._lineCount > 0 ? eachHeight : child.height) > viewHeight)) {\n                        //new page\n                        page++;\n                        curY = 0;\n                        k = 0;\n                    }\n\n                    lineSize += child.sourceWidth;\n                    j++;\n                    if (j == this._columnCount || i == cnt - 1) {\n                        ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n                        curX = 0;\n                        for (j = lineStart; j <= i; j++) {\n                            child = this.getChildAt(j);\n                            if (this.foldInvisibleItems && !child.visible)\n                                continue;\n\n                            child.setPosition(page * viewWidth + curX, curY);\n\n                            if (j < i) {\n                                child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio),\n                                    this._lineCount > 0 ? eachHeight : child.height, true);\n                                curX += Math.ceil(child.width) + this._columnGap;\n                            }\n                            else {\n                                child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\n                            }\n                            if (child.height > maxHeight)\n                                maxHeight = child.height;\n                        }\n                        //new line\n                        curY += Math.ceil(maxHeight) + this._lineGap;\n                        maxHeight = 0;\n                        j = 0;\n                        lineStart = i + 1;\n                        lineSize = 0;\n\n                        k++;\n                    }\n                }\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n\n                    if (curX != 0)\n                        curX += this._columnGap;\n\n                    if (this._autoResizeItem && this._lineCount > 0)\n                        child.setSize(child.width, eachHeight, true);\n\n                    if (this._columnCount != 0 && j >= this._columnCount\n                        || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n                        //new line\n                        curX = 0;\n                        curY += Math.ceil(maxHeight) + this._lineGap;\n                        maxHeight = 0;\n                        j = 0;\n                        k++;\n\n                        if (this._lineCount != 0 && k >= this._lineCount\n                            || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0)//new page\n                        {\n                            page++;\n                            curY = 0;\n                            k = 0;\n                        }\n                    }\n                    child.setPosition(page * viewWidth + curX, curY);\n                    curX += Math.ceil(child.width);\n                    if (curX > maxWidth)\n                        maxWidth = curX;\n                    if (child.height > maxHeight)\n                        maxHeight = child.height;\n                    j++;\n                }\n            }\n            ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\n            cw = (page + 1) * viewWidth;\n        }\n\n        this.handleAlign(cw, ch);\n        this.setBounds(0, 0, cw, ch);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 5);\n\n        this._layout = buffer.readByte();\n        this._selectionMode = buffer.readByte();\n        this._align = buffer.readByte();\n        this._verticalAlign = buffer.readByte();\n        this._lineGap = buffer.readShort();\n        this._columnGap = buffer.readShort();\n        this._lineCount = buffer.readShort();\n        this._columnCount = buffer.readShort();\n        this._autoResizeItem = buffer.readBool();\n        this._childrenRenderOrder = buffer.readByte();\n        this._apexIndex = buffer.readShort();\n\n        if (buffer.readBool()) {\n            this._margin.top = buffer.readInt();\n            this._margin.bottom = buffer.readInt();\n            this._margin.left = buffer.readInt();\n            this._margin.right = buffer.readInt();\n        }\n\n        var overflow: number = buffer.readByte();\n        if (overflow == OverflowType.Scroll) {\n            var savedPos: number = buffer.position;\n            buffer.seek(beginPos, 7);\n            this.setupScroll(buffer);\n            buffer.position = savedPos;\n        }\n        else\n            this.setupOverflow(overflow);\n\n        if (buffer.readBool()) //clipSoftness\n            buffer.skip(8);\n\n        if (buffer.version >= 2) {\n            this.scrollItemToViewOnClick = buffer.readBool();\n            this.foldInvisibleItems = buffer.readBool();\n        }\n\n        buffer.seek(beginPos, 8);\n\n        this._defaultItem = buffer.readS();\n        this.readItems(buffer);\n    }\n\n    protected readItems(buffer: ByteBuffer): void {\n        var cnt: number;\n        var i: number;\n        var nextPos: number;\n        var str: string;\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            str = buffer.readS();\n            if (str == null) {\n                str = this.defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n\n            var obj: GObject = this.getFromPool(str);\n            if (obj) {\n                this.addChild(obj);\n                this.setupItem(buffer, obj);\n            }\n\n            buffer.position = nextPos;\n        }\n    }\n\n    protected setupItem(buffer: ByteBuffer, obj: GObject): void {\n        var str: string;\n\n        str = buffer.readS();\n        if (str != null)\n            obj.text = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof GButton))\n            obj.selectedTitle = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.icon = str;\n        str = buffer.readS();\n        if (str != null && (obj instanceof GButton))\n            obj.selectedIcon = str;\n        str = buffer.readS();\n        if (str != null)\n            obj.name = str;\n\n        var cnt: number;\n        var i: number;\n\n        if (obj instanceof GComponent) {\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                var cc: Controller = obj.getController(buffer.readS());\n                str = buffer.readS();\n                if (cc)\n                    cc.selectedPageId = str;\n            }\n\n            if (buffer.version >= 2) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    var target: string = buffer.readS();\n                    var propertyId: number = buffer.readShort();\n                    var value: String = buffer.readS();\n                    var obj2: GObject = obj.getChildByPath(target);\n                    if (obj2)\n                        obj2.setProp(propertyId, value);\n                }\n            }\n        }\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 6);\n\n        var i: number = buffer.readShort();\n        if (i != -1)\n            this._selectionController = this.parent.getControllerAt(i);\n    }\n}\n\ninterface ItemInfo {\n    width: number;\n    height: number;\n    obj?: GObject;\n    updateFlag: number;\n    selected?: boolean;\n}\n\nvar s_n: number = 0;","import { Color, EventMouse } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { PopupDirection, ObjectPropID, RelationType } from \"./FieldTypes\";\nimport { GButton } from \"./GButton\";\nimport { GComponent } from \"./GComponent\";\nimport { GList } from \"./GList\";\nimport { GObject } from \"./GObject\";\nimport { GRoot } from \"./GRoot\";\nimport { GTextField } from \"./GTextField\";\nimport { GTextInput } from \"./GTextInput\";\nimport { UIConfig } from \"./UIConfig\";\nimport { UIPackage } from \"./UIPackage\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GComboBox extends GComponent {\n    public dropdown: GComponent;\n\n    protected _titleObject: GObject;\n    protected _iconObject: GObject;\n    protected _list: GList;\n\n    private _items: Array<string>;\n    private _values: Array<string>;\n    private _icons?: Array<string>;\n\n    private _visibleItemCount: number = 0;\n    private _itemsUpdated: boolean;\n    private _selectedIndex: number = 0;\n    private _buttonController: Controller;\n    private _popupDirection: number = PopupDirection.Auto;\n    private _selectionController: Controller;\n\n    private _over: boolean;\n    private _down: boolean;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GComboBox\";\n        this._visibleItemCount = UIConfig.defaultComboBoxVisibleItemCount;\n        this._itemsUpdated = true;\n        this._selectedIndex = -1;\n        this._items = [];\n        this._values = [];\n    }\n\n    public get text(): string | null {\n        if (this._titleObject)\n            return this._titleObject.text;\n        else\n            return null;\n    }\n\n    public set text(value: string | null) {\n        if (this._titleObject)\n            this._titleObject.text = value;\n        this.updateGear(6);\n    }\n\n    public get icon(): string | null {\n        if (this._iconObject)\n            return this._iconObject.icon;\n        else\n            return null;\n    }\n\n    public set icon(value: string | null) {\n        if (this._iconObject)\n            this._iconObject.icon = value;\n        this.updateGear(7);\n    }\n\n    public get titleColor(): Color {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.color;\n        else\n            return Color.BLACK;\n    }\n\n    public set titleColor(value: Color) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.color = value;\n    }\n\n    public get titleFontSize(): number {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            return tf.fontSize;\n        else\n            return 0;\n    }\n\n    public set titleFontSize(value: number) {\n        var tf: GTextField = this.getTextField();\n        if (tf)\n            tf.fontSize = value;\n    }\n\n    public get visibleItemCount(): number {\n        return this._visibleItemCount;\n    }\n\n    public set visibleItemCount(value: number) {\n        this._visibleItemCount = value;\n    }\n\n    public get popupDirection(): PopupDirection {\n        return this._popupDirection;\n    }\n\n    public set popupDirection(value: PopupDirection) {\n        this._popupDirection = value;\n    }\n\n    public get items(): Array<string> {\n        return this._items;\n    }\n\n    public set items(value: Array<string>) {\n        if (!value)\n            this._items.length = 0;\n        else\n            this._items = value.concat();\n        if (this._items.length > 0) {\n            if (this._selectedIndex >= this._items.length)\n                this._selectedIndex = this._items.length - 1;\n            else if (this._selectedIndex == -1)\n                this._selectedIndex = 0;\n\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n            this._selectedIndex = -1;\n        }\n        this._itemsUpdated = true;\n    }\n\n    public get icons(): Array<string> {\n        return this._icons;\n    }\n\n    public set icons(value: Array<string>) {\n        this._icons = value;\n        if (this._icons && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\n            this.icon = this._icons[this._selectedIndex];\n    }\n\n    public get values(): Array<string> {\n        return this._values;\n    }\n\n    public set values(value: Array<string>) {\n        if (!value)\n            this._values.length = 0;\n        else\n            this._values = value.concat();\n    }\n\n    public get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    public set selectedIndex(val: number) {\n        if (this._selectedIndex == val)\n            return;\n\n        this._selectedIndex = val;\n        if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\n            this.text = this._items[this._selectedIndex];\n            if (this._icons && this._selectedIndex < this._icons.length)\n                this.icon = this._icons[this._selectedIndex];\n        }\n        else {\n            this.text = \"\";\n            if (this._icons)\n                this.icon = null;\n        }\n\n        this.updateSelectionController();\n    }\n\n    public get value(): string | null {\n        return this._values[this._selectedIndex];\n    }\n\n    public set value(val: string | null) {\n        var index: number = this._values.indexOf(val);\n        if (index == -1 && val == null)\n            index = this._values.indexOf(\"\");\n        this.selectedIndex = index;\n    }\n\n    public get selectionController(): Controller {\n        return this._selectionController;\n    }\n\n    public set selectionController(value: Controller) {\n        this._selectionController = value;\n    }\n\n    public getTextField(): GTextField {\n        if (this._titleObject instanceof GTextField)\n            return this._titleObject;\n        else if ('getTextField' in this._titleObject)\n            return (<any>this._titleObject).getTextField();\n        else\n            return null;\n    }\n\n    protected setState(val: string): void {\n        if (this._buttonController)\n            this._buttonController.selectedPage = val;\n    }\n\n    public getProp(index: number): any {\n        switch (index) {\n            case ObjectPropID.Color:\n                return this.titleColor;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        return tf.strokeColor;\n                    else\n                        return 0;\n                }\n            case ObjectPropID.FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        return tf.fontSize;\n                    else\n                        return 0;\n                }\n            default:\n                return super.getProp(index);\n        }\n    }\n\n    public setProp(index: number, value: any): void {\n        switch (index) {\n            case ObjectPropID.Color:\n                this.titleColor = value;\n                break;\n            case ObjectPropID.OutlineColor:\n                {\n                    var tf: GTextField = this.getTextField();\n                    if (tf)\n                        tf.strokeColor = value;\n                }\n                break;\n            case ObjectPropID.FontSize:\n                {\n                    tf = this.getTextField();\n                    if (tf)\n                        tf.fontSize = value;\n                }\n                break;\n            default:\n                super.setProp(index, value);\n                break;\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        var str: string;\n\n        this._buttonController = this.getController(\"button\");\n        this._titleObject = this.getChild(\"title\");\n        this._iconObject = this.getChild(\"icon\");\n\n        str = buffer.readS();\n        if (str) {\n            let obj = UIPackage.createObjectFromURL(str);\n            if (!(obj instanceof GComponent)) {\n                console.error(\"下拉框必须为元件\");\n                return;\n            }\n            this.dropdown = obj;\n            this.dropdown.name = \"this.dropdown\";\n            this._list = this.dropdown.getChild(\"list\", GList);\n            if (this._list == null) {\n                console.error(this.resourceURL + \": 下拉框的弹出元件里必须包含名为list的列表\");\n                return;\n            }\n            this._list.on(FUIEvent.CLICK_ITEM, this.onClickItem, this);\n\n            this._list.addRelation(this.dropdown, RelationType.Width);\n            this._list.removeRelation(this.dropdown, RelationType.Height);\n\n            this.dropdown.addRelation(this._list, RelationType.Height);\n            this.dropdown.removeRelation(this._list, RelationType.Width);\n\n            this.dropdown.on(FUIEvent.UNDISPLAY, this.onPopupClosed, this);\n        }\n\n        this._node.on(FUIEvent.TOUCH_BEGIN, this.onTouchBegin_1, this);\n        this._node.on(FUIEvent.TOUCH_END, this.onTouchEnd_1, this);\n        this._node.on(FUIEvent.ROLL_OVER, this.onRollOver_1, this);\n        this._node.on(FUIEvent.ROLL_OUT, this.onRollOut_1, this);\n    }\n\n    public handleControllerChanged(c: Controller): void {\n        super.handleControllerChanged(c);\n\n        if (this._selectionController == c)\n            this.selectedIndex = c.selectedIndex;\n    }\n\n    private updateSelectionController(): void {\n        if (this._selectionController && !this._selectionController.changing\n            && this._selectedIndex < this._selectionController.pageCount) {\n            var c: Controller = this._selectionController;\n            this._selectionController = null;\n            c.selectedIndex = this._selectedIndex;\n            this._selectionController = c;\n        }\n    }\n\n    public dispose(): void {\n        if (this.dropdown) {\n            this.dropdown.dispose();\n            this.dropdown = null;\n        }\n\n        super.dispose();\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6))\n            return;\n\n        if (buffer.readByte() != this.packageItem.objectType)\n            return;\n\n        var i: number;\n        var iv: number;\n        var nextPos: number;\n        var str: string;\n        var itemCount: number = buffer.readShort();\n        for (i = 0; i < itemCount; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            this._items[i] = buffer.readS();\n            this._values[i] = buffer.readS();\n            str = buffer.readS();\n            if (str != null) {\n                if (this._icons == null)\n                    this._icons = new Array<string>();\n                this._icons[i] = str;\n            }\n\n            buffer.position = nextPos;\n        }\n\n        str = buffer.readS();\n        if (str != null) {\n            this.text = str;\n            this._selectedIndex = this._items.indexOf(str);\n        }\n        else if (this._items.length > 0) {\n            this._selectedIndex = 0;\n            this.text = this._items[0];\n        }\n        else\n            this._selectedIndex = -1;\n\n        str = buffer.readS();\n        if (str != null)\n            this.icon = str;\n\n        if (buffer.readBool())\n            this.titleColor = buffer.readColor();\n        iv = buffer.readInt();\n        if (iv > 0)\n            this._visibleItemCount = iv;\n        this._popupDirection = buffer.readByte();\n\n        iv = buffer.readShort();\n        if (iv >= 0)\n            this._selectionController = this.parent.getControllerAt(iv);\n    }\n\n    protected showDropdown(): void {\n        if (this._itemsUpdated) {\n            this._itemsUpdated = false;\n\n            this._list.removeChildrenToPool();\n            var cnt: number = this._items.length;\n            for (var i: number = 0; i < cnt; i++) {\n                var item: GObject = this._list.addItemFromPool();\n                item.name = i < this._values.length ? this._values[i] : \"\";\n                item.text = this._items[i];\n                item.icon = (this._icons && i < this._icons.length) ? this._icons[i] : null;\n            }\n            this._list.resizeToFit(this._visibleItemCount);\n        }\n        this._list.selectedIndex = -1;\n        this.dropdown.width = this.width;\n        this._list.ensureBoundsCorrect();\n\n        GRoot.inst.togglePopup(this.dropdown, this, this._popupDirection);\n        if (this.dropdown.parent)\n            this.setState(GButton.DOWN);\n    }\n\n    private onPopupClosed(): void {\n        if (this._over)\n            this.setState(GButton.OVER);\n        else\n            this.setState(GButton.UP);\n    }\n\n    private onClickItem(itemObject: GObject): void {\n        let _t = this;\n        let index = this._list.getChildIndex(itemObject);\n        this._partner.callLater((dt: number) => {\n            _t.onClickItem2(index);\n        }, 0.1);\n    }\n\n    private onClickItem2(index: number): void {\n        if (this.dropdown.parent instanceof GRoot)\n            this.dropdown.parent.hidePopup();\n\n        this._selectedIndex = -1;\n        this.selectedIndex = index;\n        this._node.emit(FUIEvent.STATUS_CHANGED, this);\n    }\n\n    private onRollOver_1(): void {\n        this._over = true;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n\n        this.setState(GButton.OVER);\n    }\n\n    private onRollOut_1(): void {\n        this._over = false;\n        if (this._down || this.dropdown && this.dropdown.parent)\n            return;\n\n        this.setState(GButton.UP);\n    }\n\n    private onTouchBegin_1(evt: FUIEvent): void {\n        if (evt.button != EventMouse.BUTTON_LEFT)\n            return;\n\n        if ((evt.initiator instanceof GTextInput) && evt.initiator.editable)\n            return;\n\n        this._down = true;\n        evt.captureTouch();\n\n        if (this.dropdown)\n            this.showDropdown();\n    }\n\n    private onTouchEnd_1(evt: FUIEvent): void {\n        if (evt.button != EventMouse.BUTTON_LEFT)\n            return;\n\n        if (this._down) {\n            this._down = false;\n\n            if (this.dropdown && !this.dropdown.parent) {\n                if (this._over)\n                    this.setState(GButton.OVER);\n                else\n                    this.setState(GButton.UP);\n            }\n        }\n    }\n}","import { math, Vec2 } from \"cc\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { ProgressTitleType } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GSlider extends GComponent {\n    private _min: number = 0;\n    private _max: number = 0;\n    private _value: number = 0;\n    private _titleType: ProgressTitleType;\n    private _reverse: boolean;\n    private _wholeNumbers: boolean;\n\n    private _titleObject: GObject;\n    private _barObjectH: GObject;\n    private _barObjectV: GObject;\n    private _barMaxWidth: number = 0;\n    private _barMaxHeight: number = 0;\n    private _barMaxWidthDelta: number = 0;\n    private _barMaxHeightDelta: number = 0;\n    private _gripObject: GObject;\n    private _clickPos: Vec2;\n    private _clickPercent: number = 0;\n    private _barStartX: number = 0;\n    private _barStartY: number = 0;\n\n    public changeOnClick: boolean = true;\n    public canDrag: boolean = true;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GSlider\";\n        this._titleType = ProgressTitleType.Percent;\n        this._value = 50;\n        this._max = 100;\n        this._clickPos = new Vec2();\n    }\n\n    public get titleType(): ProgressTitleType {\n        return this._titleType;\n    }\n\n    public set titleType(value: ProgressTitleType) {\n        this._titleType = value;\n    }\n\n    public get wholeNumbers(): boolean {\n        return this._wholeNumbers;\n    }\n\n    public set wholeNumbers(value: boolean) {\n        if (this._wholeNumbers != value) {\n            this._wholeNumbers = value;\n            this.update();\n        }\n    }\n\n    public get min(): number {\n        return this._min;\n    }\n\n    public set min(value: number) {\n        if (this._min != value) {\n            this._min = value;\n            this.update();\n        }\n    }\n\n    public get max(): number {\n        return this._max;\n    }\n\n    public set max(value: number) {\n        if (this._max != value) {\n            this._max = value;\n            this.update();\n        }\n    }\n\n    public get value(): number {\n        return this._value;\n    }\n\n    public set value(value: number) {\n        if (this._value != value) {\n            this._value = value;\n            this.update();\n        }\n    }\n\n    public update(): void {\n        this.updateWithPercent((this._value - this._min) / (this._max - this._min));\n    }\n\n    private updateWithPercent(percent: number, manual?: boolean): void {\n        percent = math.clamp01(percent);\n        if (manual) {\n            var newValue: number = math.clamp(this._min + (this._max - this._min) * percent, this._min, this._max);\n            if (this._wholeNumbers) {\n                newValue = Math.round(newValue);\n                percent = math.clamp01((newValue - this._min) / (this._max - this._min));\n            }\n\n            if (newValue != this._value) {\n                this._value = newValue;\n                this._node.emit(FUIEvent.STATUS_CHANGED, this);\n            }\n        }\n\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case ProgressTitleType.Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n\n                case ProgressTitleType.ValueAndMax:\n                    this._titleObject.text = this._value + \"/\" + this._max;\n                    break;\n\n                case ProgressTitleType.Value:\n                    this._titleObject.text = \"\" + this._value;\n                    break;\n\n                case ProgressTitleType.Max:\n                    this._titleObject.text = \"\" + this._max;\n                    break;\n            }\n        }\n\n        var fullWidth: number = this.width - this._barMaxWidthDelta;\n        var fullHeight: number = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH)\n                this._barObjectH.width = Math.round(fullWidth * percent);\n            if (this._barObjectV)\n                this._barObjectV.height = Math.round(fullHeight * percent);\n        }\n        else {\n            if (this._barObjectH) {\n                this._barObjectH.width = Math.round(fullWidth * percent);\n                this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n            }\n            if (this._barObjectV) {\n                this._barObjectV.height = Math.round(fullHeight * percent);\n                this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n            }\n        }\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n        if (buffer.version >= 2) {\n            this._wholeNumbers = buffer.readBool();\n            this.changeOnClick = buffer.readBool();\n        }\n\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._gripObject = this.getChild(\"grip\");\n\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n        if (this._gripObject) {\n            this._gripObject.on(FUIEvent.TOUCH_BEGIN, this.onGripTouchBegin, this);\n            this._gripObject.on(FUIEvent.TOUCH_MOVE, this.onGripTouchMove, this);\n        }\n\n        this._node.on(FUIEvent.TOUCH_BEGIN, this.onBarTouchBegin, this);\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update();\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6)) {\n            this.update();\n            return;\n        }\n\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update();\n            return;\n        }\n\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n\n        this.update();\n    }\n\n    private onGripTouchBegin(evt: FUIEvent): void {\n        this.canDrag = true;\n        evt.propagationStopped = true;\n        evt.captureTouch();\n\n        this._clickPos = this.globalToLocal(evt.pos.x, evt.pos.y);\n        this._clickPercent = math.clamp01((this._value - this._min) / (this._max - this._min));\n    }\n\n    private onGripTouchMove(evt: FUIEvent): void {\n        if (!this.canDrag) {\n            return;\n        }\n\n        var pt: Vec2 = this.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n        var deltaX: number = pt.x - this._clickPos.x;\n        var deltaY: number = pt.y - this._clickPos.y;\n        if (this._reverse) {\n            deltaX = -deltaX;\n            deltaY = -deltaY;\n        }\n\n        var percent: number;\n        if (this._barObjectH)\n            percent = this._clickPercent + deltaX / this._barMaxWidth;\n        else\n            percent = this._clickPercent + deltaY / this._barMaxHeight;\n        this.updateWithPercent(percent, true);\n    }\n\n    private onBarTouchBegin(evt: FUIEvent): void {\n        if (!this.changeOnClick)\n            return;\n\n        var pt: Vec2 = this._gripObject.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n        var percent: number = math.clamp01((this._value - this._min) / (this._max - this._min));\n        var delta: number = 0;\n        if (this._barObjectH != null)\n            delta = (pt.x - this._gripObject.width / 2) / this._barMaxWidth;\n        if (this._barObjectV != null)\n            delta = (pt.y - this._gripObject.height / 2) / this._barMaxHeight;\n        if (this._reverse)\n            percent -= delta;\n        else\n            percent += delta;\n        this.updateWithPercent(percent, true);\n    }\n}\n\nvar s_vec2: Vec2 = new Vec2();","import { math } from \"cc\";\nimport { ProgressTitleType, ObjectPropID, FillMethod } from \"./FieldTypes\";\nimport { GComponent } from \"./GComponent\";\nimport { GImage } from \"./GImage\";\nimport { GLoader } from \"./GLoader\";\nimport { GObject } from \"./GObject\";\nimport { EaseType } from \"./tween/EaseType\";\nimport { GTween } from \"./tween/GTween\";\nimport { GTweener } from \"./tween/GTweener\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GProgressBar extends GComponent {\n    private _min: number = 0;\n    private _max: number = 0;\n    private _value: number = 0;\n    private _titleType: ProgressTitleType;\n    private _reverse: boolean;\n\n    private _titleObject: GObject;\n    private _aniObject: GObject;\n    private _barObjectH: GObject;\n    private _barObjectV: GObject;\n    private _barMaxWidth: number = 0;\n    private _barMaxHeight: number = 0;\n    private _barMaxWidthDelta: number = 0;\n    private _barMaxHeightDelta: number = 0;\n    private _barStartX: number = 0;\n    private _barStartY: number = 0;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GProgressBar\";\n        this._titleType = ProgressTitleType.Percent;\n        this._value = 50;\n        this._max = 100;\n    }\n\n    public get titleType(): ProgressTitleType {\n        return this._titleType;\n    }\n\n    public set titleType(value: ProgressTitleType) {\n        if (this._titleType != value) {\n            this._titleType = value;\n            this.update(this._value);\n        }\n    }\n\n    public get min(): number {\n        return this._min;\n    }\n\n    public set min(value: number) {\n        if (this._min != value) {\n            this._min = value;\n            this.update(this._value);\n        }\n    }\n\n    public get max(): number {\n        return this._max;\n    }\n\n    public set max(value: number) {\n        if (this._max != value) {\n            this._max = value;\n            this.update(this._value);\n        }\n    }\n\n    public get value(): number {\n        return this._value;\n    }\n\n    public set value(value: number) {\n\n        if (this._value != value) {\n            GTween.kill(this, false, this.update);\n\n            this._value = value;\n            this.update(value);\n        }\n    }\n\n    public tweenValue(value: number, duration: number): GTweener {\n        var oldValule: number;\n\n        var tweener: GTweener = GTween.getTween(this, this.update);\n        if (tweener) {\n            oldValule = tweener.value.x;\n            tweener.kill();\n        }\n        else\n            oldValule = this._value;\n\n        this._value = value;\n        return GTween.to(oldValule, this._value, duration).setTarget(this, this.update).setEase(EaseType.Linear);\n    }\n\n    public update(newValue: number): void {\n        var percent: number = math.clamp01((newValue - this._min) / (this._max - this._min));\n        if (this._titleObject) {\n            switch (this._titleType) {\n                case ProgressTitleType.Percent:\n                    this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                    break;\n\n                case ProgressTitleType.ValueAndMax:\n                    this._titleObject.text = Math.floor(newValue) + \"/\" + Math.floor(this._max);\n                    break;\n\n                case ProgressTitleType.Value:\n                    this._titleObject.text = \"\" + Math.floor(newValue);\n                    break;\n\n                case ProgressTitleType.Max:\n                    this._titleObject.text = \"\" + Math.floor(this._max);\n                    break;\n            }\n        }\n\n        var fullWidth: number = this.width - this._barMaxWidthDelta;\n        var fullHeight: number = this.height - this._barMaxHeightDelta;\n        if (!this._reverse) {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, percent))\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, percent))\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n            }\n        }\n        else {\n            if (this._barObjectH) {\n                if (!this.setFillAmount(this._barObjectH, 1 - percent)) {\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n                }\n\n            }\n            if (this._barObjectV) {\n                if (!this.setFillAmount(this._barObjectV, 1 - percent)) {\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n                }\n            }\n        }\n        if (this._aniObject)\n            this._aniObject.setProp(ObjectPropID.Frame, Math.floor(percent * 100));\n    }\n\n    private setFillAmount(bar: GObject, percent: number): boolean {\n        if (((bar instanceof GImage) || (bar instanceof GLoader)) && bar.fillMethod != FillMethod.None) {\n            bar.fillAmount = percent;\n            return true;\n        }\n        else\n            return false;\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._titleType = buffer.readByte();\n        this._reverse = buffer.readBool();\n\n        this._titleObject = this.getChild(\"title\");\n        this._barObjectH = this.getChild(\"bar\");\n        this._barObjectV = this.getChild(\"bar_v\");\n        this._aniObject = this.getChild(\"ani\");\n\n        if (this._barObjectH) {\n            this._barMaxWidth = this._barObjectH.width;\n            this._barMaxWidthDelta = this.width - this._barMaxWidth;\n            this._barStartX = this._barObjectH.x;\n        }\n        if (this._barObjectV) {\n            this._barMaxHeight = this._barObjectV.height;\n            this._barMaxHeightDelta = this.height - this._barMaxHeight;\n            this._barStartY = this._barObjectV.y;\n        }\n    }\n\n    protected handleSizeChanged(): void {\n        super.handleSizeChanged();\n\n        if (this._barObjectH)\n            this._barMaxWidth = this.width - this._barMaxWidthDelta;\n        if (this._barObjectV)\n            this._barMaxHeight = this.height - this._barMaxHeightDelta;\n        if (!this._underConstruct)\n            this.update(this._value);\n    }\n\n    public setup_afterAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_afterAdd(buffer, beginPos);\n\n        if (!buffer.seek(beginPos, 6)) {\n            this.update(this._value);\n            return;\n        }\n\n        if (buffer.readByte() != this.packageItem.objectType) {\n            this.update(this._value);\n            return;\n        }\n\n        this._value = buffer.readInt();\n        this._max = buffer.readInt();\n        if (buffer.version >= 2)\n            this._min = buffer.readInt();\n\n        this.update(this._value);\n    }\n}","import { Vec2 } from \"cc\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { GComponent } from \"./GComponent\";\nimport { GObject } from \"./GObject\";\nimport { ScrollPane } from \"./ScrollPane\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GScrollBar extends GComponent {\n    private _grip: GObject;\n    private _arrowButton1: GObject;\n    private _arrowButton2: GObject;\n    private _bar: GObject;\n    private _target: ScrollPane;\n\n    private _vertical: boolean;\n    private _scrollPerc: number;\n    private _fixedGripSize: boolean;\n\n    private _dragOffset: Vec2;\n    private _gripDragging: boolean;\n\n    public constructor() {\n        super();\n\n        this._node.name = \"GScrollBar\";\n        this._dragOffset = new Vec2();\n        this._scrollPerc = 0;\n    }\n\n    public setScrollPane(target: ScrollPane, vertical: boolean): void {\n        this._target = target;\n        this._vertical = vertical;\n    }\n\n    public setDisplayPerc(value: number) {\n        if (this._vertical) {\n            if (!this._fixedGripSize)\n                this._grip.height = Math.floor(value * this._bar.height);\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n\n        }\n        else {\n            if (!this._fixedGripSize)\n                this._grip.width = Math.floor(value * this._bar.width);\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n        }\n        this._grip.visible = value != 0 && value != 1;\n    }\n\n    public setScrollPerc(val: number) {\n        this._scrollPerc = val;\n        if (this._vertical)\n            this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n        else\n            this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n    }\n\n    public get minSize(): number {\n        if (this._vertical)\n            return (this._arrowButton1 ? this._arrowButton1.height : 0) + (this._arrowButton2 ? this._arrowButton2.height : 0);\n        else\n            return (this._arrowButton1 ? this._arrowButton1.width : 0) + (this._arrowButton2 ? this._arrowButton2.width : 0);\n    }\n\n    public get gripDragging(): boolean {\n        return this._gripDragging;\n    }\n\n    protected constructExtension(buffer: ByteBuffer): void {\n        buffer.seek(0, 6);\n\n        this._fixedGripSize = buffer.readBool();\n\n        this._grip = this.getChild(\"grip\");\n        if (!this._grip) {\n            console.error(\"需要定义grip\");\n            return;\n        }\n\n        this._bar = this.getChild(\"bar\");\n        if (!this._bar) {\n            console.error(\"需要定义bar\");\n            return;\n        }\n\n        this._arrowButton1 = this.getChild(\"arrow1\");\n        this._arrowButton2 = this.getChild(\"arrow2\");\n\n        this._grip.on(FUIEvent.TOUCH_BEGIN, this.onGripTouchDown, this);\n        this._grip.on(FUIEvent.TOUCH_MOVE, this.onGripTouchMove, this);\n        this._grip.on(FUIEvent.TOUCH_END, this.onGripTouchEnd, this);\n\n        if (this._arrowButton1)\n            this._arrowButton1.on(FUIEvent.TOUCH_BEGIN, this.onClickArrow1, this);\n        if (this._arrowButton2)\n            this._arrowButton2.on(FUIEvent.TOUCH_BEGIN, this.onClickArrow2, this);\n\n        this.on(FUIEvent.TOUCH_BEGIN, this.onBarTouchBegin, this);\n    }\n\n    private onGripTouchDown(evt: FUIEvent): void {\n        evt.propagationStopped = true;\n        evt.captureTouch();\n\n        this._gripDragging = true;\n        this._target.updateScrollBarVisible();\n\n        this.globalToLocal(evt.pos.x, evt.pos.y, this._dragOffset);\n        this._dragOffset.x -= this._grip.x;\n        this._dragOffset.y -= this._grip.y;\n    }\n\n    private onGripTouchMove(evt: FUIEvent): void {\n        if (!this.onStage)\n            return;\n\n        var pt: Vec2 = this.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n        if (this._vertical) {\n            var curY: number = pt.y - this._dragOffset.y;\n            this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\n        }\n        else {\n            var curX: number = pt.x - this._dragOffset.x;\n            this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\n        }\n    }\n\n    private onGripTouchEnd(evt: FUIEvent): void {\n        if (!this.onStage)\n            return;\n\n        this._gripDragging = false;\n        this._target.updateScrollBarVisible();\n    }\n\n    private onClickArrow1(evt: FUIEvent): void {\n        evt.propagationStopped = true;\n\n        if (this._vertical)\n            this._target.scrollUp();\n        else\n            this._target.scrollLeft();\n    }\n\n    private onClickArrow2(evt: FUIEvent): void {\n        evt.propagationStopped = true;\n\n        if (this._vertical)\n            this._target.scrollDown();\n        else\n            this._target.scrollRight();\n    }\n\n    private onBarTouchBegin(evt: FUIEvent): void {\n        var pt: Vec2 = this._grip.globalToLocal(evt.pos.x, evt.pos.y, s_vec2);\n        if (this._vertical) {\n            if (pt.y < 0)\n                this._target.scrollUp(4);\n            else\n                this._target.scrollDown(4);\n        }\n        else {\n            if (pt.x < 0)\n                this._target.scrollLeft(4);\n            else\n                this._target.scrollRight(4);\n        }\n    }\n}\n\nvar s_vec2: Vec2 = new Vec2();","import { GComponent } from \"./GComponent\";\nimport { GTree } from \"./GTree\";\n\nexport class GTreeNode {\n    public data?: any;\n\n    private _parent: GTreeNode;\n    private _children: Array<GTreeNode>;\n    private _expanded: boolean;\n    private _level: number = 0;\n    private _tree: GTree;\n\n    public _cell: GComponent;\n    public _resURL?: string;\n\n    constructor(hasChild?: boolean, resURL?: string) {\n        this._resURL = resURL;\n        if (hasChild)\n            this._children = new Array<GTreeNode>();\n    }\n\n    public set expanded(value: boolean) {\n        if (this._children == null)\n            return;\n\n        if (this._expanded != value) {\n            this._expanded = value;\n            if (this._tree) {\n                if (this._expanded)\n                    this._tree._afterExpanded(this);\n                else\n                    this._tree._afterCollapsed(this);\n            }\n        }\n    }\n\n    public get expanded(): boolean {\n        return this._expanded;\n    }\n\n    public get isFolder(): boolean {\n        return this._children != null;\n    }\n\n    public get parent(): GTreeNode {\n        return this._parent;\n    }\n\n    public get text(): string | null {\n        if (this._cell)\n            return this._cell.text;\n        else\n            return null;\n    }\n\n    public set text(value: string | null) {\n        if (this._cell)\n            this._cell.text = value;\n    }\n\n    public get icon(): string | null {\n        if (this._cell)\n            return this._cell.icon;\n        else\n            return null;\n    }\n\n    public set icon(value: string | null) {\n        if (this._cell)\n            this._cell.icon = value;\n    }\n\n    public get cell(): GComponent {\n        return this._cell;\n    }\n\n    public get level(): number {\n        return this._level;\n    }\n\n    public _setLevel(value: number): void {\n        this._level = value;\n    }\n\n    public addChild(child: GTreeNode): GTreeNode {\n        this.addChildAt(child, this._children.length);\n        return child;\n    }\n\n    public addChildAt(child: GTreeNode, index: number): GTreeNode {\n        if (!child)\n            throw new Error(\"child is null\");\n\n        var numChildren: number = this._children.length;\n\n        if (index >= 0 && index <= numChildren) {\n            if (child._parent == this) {\n                this.setChildIndex(child, index);\n            }\n            else {\n                if (child._parent)\n                    child._parent.removeChild(child);\n\n                var cnt: number = this._children.length;\n                if (index == cnt)\n                    this._children.push(child);\n                else\n                    this._children.splice(index, 0, child);\n\n                child._parent = this;\n                child._level = this._level + 1;\n                child._setTree(this._tree);\n                if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n                    this._tree._afterInserted(child);\n            }\n\n            return child;\n        }\n        else {\n            throw new RangeError(\"Invalid child index\");\n        }\n    }\n\n    public removeChild(child: GTreeNode): GTreeNode {\n        var childIndex: number = this._children.indexOf(child);\n        if (childIndex != -1) {\n            this.removeChildAt(childIndex);\n        }\n        return child;\n    }\n\n    public removeChildAt(index: number): GTreeNode {\n        if (index >= 0 && index < this.numChildren) {\n            var child: GTreeNode = this._children[index];\n            this._children.splice(index, 1);\n\n            child._parent = null;\n            if (this._tree) {\n                child._setTree(null);\n                this._tree._afterRemoved(child);\n            }\n\n            return child;\n        }\n        else {\n            throw \"Invalid child index\";\n        }\n    }\n\n    public removeChildren(beginIndex?: number, endIndex?: number): void {\n        beginIndex = beginIndex || 0;\n        if (endIndex == null) endIndex = -1;\n        if (endIndex < 0 || endIndex >= this.numChildren)\n            endIndex = this.numChildren - 1;\n\n        for (var i: number = beginIndex; i <= endIndex; ++i)\n            this.removeChildAt(beginIndex);\n    }\n\n    public getChildAt(index: number): GTreeNode {\n        if (index >= 0 && index < this.numChildren)\n            return this._children[index];\n        else\n            throw \"Invalid child index\";\n    }\n\n    public getChildIndex(child: GTreeNode): number {\n        return this._children.indexOf(child);\n    }\n\n    public getPrevSibling(): GTreeNode {\n        if (this._parent == null)\n            return null;\n\n        var i: number = this._parent._children.indexOf(this);\n        if (i <= 0)\n            return null;\n\n        return this._parent._children[i - 1];\n    }\n\n    public getNextSibling(): GTreeNode {\n        if (this._parent == null)\n            return null;\n\n        var i: number = this._parent._children.indexOf(this);\n        if (i < 0 || i >= this._parent._children.length - 1)\n            return null;\n\n        return this._parent._children[i + 1];\n    }\n\n    public setChildIndex(child: GTreeNode, index: number): void {\n        var oldIndex: number = this._children.indexOf(child);\n        if (oldIndex == -1)\n            throw \"Not a child of this container\";\n\n        var cnt: number = this._children.length;\n        if (index < 0)\n            index = 0;\n        else if (index > cnt)\n            index = cnt;\n\n        if (oldIndex == index)\n            return;\n\n        this._children.splice(oldIndex, 1);\n        this._children.splice(index, 0, child);\n        if (this._tree && this == this._tree.rootNode || this._cell && this._cell.parent && this._expanded)\n            this._tree._afterMoved(child);\n    }\n\n    public swapChildren(child1: GTreeNode, child2: GTreeNode): void {\n        var index1: number = this._children.indexOf(child1);\n        var index2: number = this._children.indexOf(child2);\n        if (index1 == -1 || index2 == -1)\n            throw \"Not a child of this container\";\n        this.swapChildrenAt(index1, index2);\n    }\n\n    public swapChildrenAt(index1: number, index2: number): void {\n        var child1: GTreeNode = this._children[index1];\n        var child2: GTreeNode = this._children[index2];\n\n        this.setChildIndex(child1, index2);\n        this.setChildIndex(child2, index1);\n    }\n\n    public get numChildren(): number {\n        return this._children.length;\n    }\n\n    public expandToRoot(): void {\n        var p: GTreeNode = this;\n        while (p) {\n            p.expanded = true;\n            p = p.parent;\n        }\n    }\n\n    public get tree(): GTree {\n        return this._tree;\n    }\n\n    public _setTree(value: GTree): void {\n        this._tree = value;\n        if (this._tree && this._tree.treeNodeWillExpand && this._expanded)\n            this._tree.treeNodeWillExpand(this, true);\n\n        if (this._children) {\n            var cnt: number = this._children.length;\n            for (var i: number = 0; i < cnt; i++) {\n                var node: GTreeNode = this._children[i];\n                node._level = this._level + 1;\n                node._setTree(value);\n            }\n        }\n    }\n}","import { Node } from \"cc\";\nimport { Controller } from \"./Controller\";\nimport { Event as FUIEvent } from \"./event/Event\";\nimport { GComponent } from \"./GComponent\";\nimport { GList } from \"./GList\";\nimport { GObject } from \"./GObject\";\nimport { GTreeNode } from \"./GTreeNode\";\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\n\nexport class GTree extends GList {\n\n    public treeNodeRender: (node: GTreeNode, obj: GComponent) => void;\n    public treeNodeWillExpand: (node: GTreeNode, expanded: boolean) => void;\n\n    private _indent: number;\n    private _clickToExpand: number;\n    private _rootNode: GTreeNode;\n    private _expandedStatusInEvt: boolean;\n\n    constructor() {\n        super();\n\n        this._indent = 15;\n\n        this._rootNode = new GTreeNode(true);\n        this._rootNode._setTree(this);\n        this._rootNode.expanded = true;\n    }\n\n    public get rootNode(): GTreeNode {\n        return this._rootNode;\n    }\n\n    public get indent(): number {\n        return this._indent;\n    }\n\n    public set indent(value: number) {\n        this._indent = value;\n    }\n\n    public get clickToExpand(): number {\n        return this._clickToExpand;\n    }\n\n    public set clickToExpand(value: number) {\n        this._clickToExpand = value;\n    }\n\n    public getSelectedNode(): GTreeNode {\n        if (this.selectedIndex != -1)\n            return this.getChildAt(this.selectedIndex)._treeNode;\n        else\n            return null;\n    }\n\n    public getSelectedNodes(result?: Array<GTreeNode>): Array<GTreeNode> {\n        if (!result)\n            result = new Array<GTreeNode>();\n\n        s_list.length = 0;\n        super.getSelection(s_list);\n        var cnt: number = s_list.length;\n        var ret: Array<GTreeNode> = new Array<GTreeNode>();\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = this.getChildAt(s_list[i])._treeNode;\n            ret.push(node);\n        }\n        return ret;\n    }\n\n    public selectNode(node: GTreeNode, scrollItToView?: boolean): void {\n        var parentNode: GTreeNode = node.parent;\n        while (parentNode && parentNode != this._rootNode) {\n            parentNode.expanded = true;\n            parentNode = parentNode.parent;\n        }\n\n        if (!node._cell)\n            return;\n\n        this.addSelection(this.getChildIndex(node._cell), scrollItToView);\n    }\n\n    public unselectNode(node: GTreeNode): void {\n        if (!node._cell)\n            return;\n\n        this.removeSelection(this.getChildIndex(node._cell));\n    }\n\n    public expandAll(folderNode?: GTreeNode): void {\n        if (!folderNode)\n            folderNode = this._rootNode;\n\n        folderNode.expanded = true;\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.expandAll(node);\n        }\n    }\n\n    public collapseAll(folderNode?: GTreeNode): void {\n        if (!folderNode)\n            folderNode = this._rootNode;\n\n        if (folderNode != this._rootNode)\n            folderNode.expanded = false;\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node.isFolder)\n                this.collapseAll(node);\n        }\n    }\n\n    private createCell(node: GTreeNode): void {\n        var child: GObject = this.getFromPool(node._resURL);\n        if (!(child instanceof GComponent))\n            throw new Error(\"cannot create tree node object.\");\n\n        child._treeNode = node;\n        node._cell = child;\n\n        var indentObj: GObject = child.getChild(\"indent\");\n        if (indentObj)\n            indentObj.width = (node.level - 1) * this._indent;\n\n        var cc: Controller;\n\n        cc = child.getController(\"expanded\");\n        if (cc) {\n            cc.on(FUIEvent.STATUS_CHANGED, this.__expandedStateChanged, this);\n            cc.selectedIndex = node.expanded ? 1 : 0;\n        }\n\n        cc = child.getController(\"leaf\");\n        if (cc)\n            cc.selectedIndex = node.isFolder ? 0 : 1;\n\n        if (node.isFolder)\n            node._cell.on(FUIEvent.TOUCH_BEGIN, this.__cellMouseDown, this);\n\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, child);\n    }\n\n    public _afterInserted(node: GTreeNode): void {\n        if (!node._cell)\n            this.createCell(node);\n\n        var index: number = this.getInsertIndexForNode(node);\n        this.addChildAt(node._cell, index);\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n\n        if (node.isFolder && node.expanded)\n            this.checkChildren(node, index);\n    }\n\n    private getInsertIndexForNode(node: GTreeNode): number {\n        var prevNode: GTreeNode = node.getPrevSibling();\n        if (prevNode == null)\n            prevNode = node.parent;\n        var insertIndex: number = this.getChildIndex(prevNode._cell) + 1;\n        var myLevel: number = node.level;\n        var cnt: number = this.numChildren;\n        for (var i: number = insertIndex; i < cnt; i++) {\n            var testNode: GTreeNode = this.getChildAt(i)._treeNode;\n            if (testNode.level <= myLevel)\n                break;\n\n            insertIndex++;\n        }\n\n        return insertIndex;\n    }\n\n    public _afterRemoved(node: GTreeNode): void {\n        this.removeNode(node);\n    }\n\n    public _afterExpanded(node: GTreeNode): void {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n\n        if (this.treeNodeWillExpand != null)\n            this.treeNodeWillExpand(node, true);\n\n        if (node._cell == null)\n            return;\n\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n\n        var cc: Controller = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 1;\n\n        if (node._cell.parent)\n            this.checkChildren(node, this.getChildIndex(node._cell));\n    }\n\n    public _afterCollapsed(node: GTreeNode): void {\n        if (node == this._rootNode) {\n            this.checkChildren(this._rootNode, 0);\n            return;\n        }\n\n        if (this.treeNodeWillExpand)\n            this.treeNodeWillExpand(node, false);\n\n        if (node._cell == null)\n            return;\n\n        if (this.treeNodeRender)\n            this.treeNodeRender(node, node._cell);\n\n        var cc: Controller = node._cell.getController(\"expanded\");\n        if (cc)\n            cc.selectedIndex = 0;\n\n        if (node._cell.parent)\n            this.hideFolderNode(node);\n    }\n\n    public _afterMoved(node: GTreeNode): void {\n        var startIndex: number = this.getChildIndex(node._cell);\n        var endIndex: number;\n        if (node.isFolder)\n            endIndex = this.getFolderEndIndex(startIndex, node.level);\n        else\n            endIndex = startIndex + 1;\n        var insertIndex: number = this.getInsertIndexForNode(node);\n        var i: number;\n        var cnt: number = endIndex - startIndex;\n        var obj: GObject;\n        if (insertIndex < startIndex) {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex + i);\n                this.setChildIndex(obj, insertIndex + i);\n            }\n        }\n        else {\n            for (i = 0; i < cnt; i++) {\n                obj = this.getChildAt(startIndex);\n                this.setChildIndex(obj, insertIndex);\n            }\n        }\n    }\n\n    private getFolderEndIndex(startIndex: number, level: number): number {\n        var cnt: number = this.numChildren;\n        for (var i: number = startIndex + 1; i < cnt; i++) {\n            var node: GTreeNode = this.getChildAt(i)._treeNode;\n            if (node.level <= level)\n                return i;\n        }\n\n        return cnt;\n    }\n\n    private checkChildren(folderNode: GTreeNode, index: number): number {\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            index++;\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node._cell == null)\n                this.createCell(node);\n\n            if (!node._cell.parent)\n                this.addChildAt(node._cell, index);\n\n            if (node.isFolder && node.expanded)\n                index = this.checkChildren(node, index);\n        }\n\n        return index;\n    }\n\n    private hideFolderNode(folderNode: GTreeNode): void {\n        var cnt: number = folderNode.numChildren;\n        for (var i: number = 0; i < cnt; i++) {\n            var node: GTreeNode = folderNode.getChildAt(i);\n            if (node._cell)\n                this.removeChild(node._cell);\n            if (node.isFolder && node.expanded)\n                this.hideFolderNode(node);\n        }\n    }\n\n    private removeNode(node: GTreeNode): void {\n        if (node._cell) {\n            if (node._cell.parent)\n                this.removeChild(node._cell);\n            this.returnToPool(node._cell);\n            node._cell._treeNode = null;\n            node._cell = null;\n        }\n\n        if (node.isFolder) {\n            var cnt: number = node.numChildren;\n            for (var i: number = 0; i < cnt; i++) {\n                var node2: GTreeNode = node.getChildAt(i);\n                this.removeNode(node2);\n            }\n        }\n    }\n\n    private __cellMouseDown(evt: FUIEvent): void {\n        var node: GTreeNode = GObject.cast(<Node>evt.currentTarget)._treeNode;\n        this._expandedStatusInEvt = node.expanded;\n    }\n\n    private __expandedStateChanged(cc: Controller): void {\n        var node: GTreeNode = cc.parent._treeNode;\n        node.expanded = cc.selectedIndex == 1;\n    }\n\n    protected dispatchItemEvent(item: GObject, evt: FUIEvent): void {\n        if (this._clickToExpand != 0) {\n            var node: GTreeNode = item._treeNode;\n            if (node && this._expandedStatusInEvt == node.expanded) {\n                if (this._clickToExpand == 2) {\n                    //if (evt.clickCount == 2)\n                    // node.expanded = !node.expanded;\n                }\n                else\n                    node.expanded = !node.expanded;\n            }\n        }\n\n        super.dispatchItemEvent(item, evt);\n    }\n\n    public setup_beforeAdd(buffer: ByteBuffer, beginPos: number): void {\n        super.setup_beforeAdd(buffer, beginPos);\n\n        buffer.seek(beginPos, 9);\n\n        this._indent = buffer.readInt();\n        this._clickToExpand = buffer.readByte();\n    }\n\n    protected readItems(buffer: ByteBuffer): void {\n        var cnt: number;\n        var i: number;\n        var nextPos: number;\n        var str: string;\n        var isFolder: boolean;\n        var lastNode: GTreeNode;\n        var level: number;\n        var prevLevel: number = 0;\n\n        cnt = buffer.readShort();\n        for (i = 0; i < cnt; i++) {\n            nextPos = buffer.readShort();\n            nextPos += buffer.position;\n\n            str = buffer.readS();\n            if (str == null) {\n                str = this.defaultItem;\n                if (!str) {\n                    buffer.position = nextPos;\n                    continue;\n                }\n            }\n\n            isFolder = buffer.readBool();\n            level = buffer.readByte();\n\n            var node: GTreeNode = new GTreeNode(isFolder, str);\n            node.expanded = true;\n            if (i == 0)\n                this._rootNode.addChild(node);\n            else {\n                if (level > prevLevel)\n                    lastNode.addChild(node);\n                else if (level < prevLevel) {\n                    for (var j: number = level; j <= prevLevel; j++)\n                        lastNode = lastNode.parent;\n                    lastNode.addChild(node);\n                }\n                else\n                    lastNode.parent.addChild(node);\n            }\n            lastNode = node;\n            prevLevel = level;\n\n            this.setupItem(buffer, node.cell);\n\n            buffer.position = nextPos;\n        }\n    }\n}\n\nvar s_list: Array<number> = new Array<number>();","import { Controller } from \"./Controller\";\r\nimport { Event as FUIEvent } from \"./event/Event\";\r\nimport { RelationType, PopupDirection } from \"./FieldTypes\";\r\nimport { GButton } from \"./GButton\";\r\nimport { GComponent } from \"./GComponent\";\r\nimport { GList } from \"./GList\";\r\nimport { GObject } from \"./GObject\";\r\nimport { GRoot } from \"./GRoot\";\r\nimport { UIConfig } from \"./UIConfig\";\r\nimport { UIPackage } from \"./UIPackage\";\r\n\r\nexport class PopupMenu {\r\n\r\n    protected _contentPane: GComponent;\r\n    protected _list: GList;\r\n\r\n    public constructor(url?: string) {\r\n        if (!url) {\r\n            url = UIConfig.popupMenu;\r\n            if (!url)\r\n                throw \"UIConfig.popupMenu not defined\";\r\n        }\r\n        this._contentPane = <GComponent>UIPackage.createObjectFromURL(url);\r\n        this._contentPane.on(FUIEvent.DISPLAY, this.onDisplay, this);\r\n        this._list = <GList>(this._contentPane.getChild(\"list\"));\r\n        this._list.removeChildrenToPool();\r\n        this._list.addRelation(this._contentPane, RelationType.Width);\r\n        this._list.removeRelation(this._contentPane, RelationType.Height);\r\n        this._contentPane.addRelation(this._list, RelationType.Height);\r\n        this._list.on(FUIEvent.CLICK_ITEM, this.onClickItem, this);\r\n    }\r\n\r\n    public dispose(): void {\r\n        this._contentPane.dispose();\r\n    }\r\n\r\n    public addItem(caption: string, callback?: (item?: GObject, evt?: Event) => void): GButton {\r\n        var item: GButton = <GButton>this._list.addItemFromPool();\r\n        item.title = caption;\r\n        item.data = callback;\r\n        item.grayed = false;\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            c.selectedIndex = 0;\r\n        return item;\r\n    }\r\n\r\n    public addItemAt(caption: string, index: number, callback?: (item?: GObject, evt?: Event) => void): GButton {\r\n        var item: GButton = <GButton>this._list.getFromPool();\r\n        this._list.addChildAt(item, index);\r\n        item.title = caption;\r\n        item.data = callback;\r\n        item.grayed = false;\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            c.selectedIndex = 0;\r\n        return item;\r\n    }\r\n\r\n    public addSeperator() {\r\n        if (UIConfig.popupMenu_seperator == null)\r\n            throw \"UIConfig.popupMenu_seperator not defined\";\r\n        this.list.addItemFromPool(UIConfig.popupMenu_seperator);\r\n    }\r\n\r\n    public getItemName(index: number): string {\r\n        var item: GObject = this._list.getChildAt(index);\r\n        return item.name;\r\n    }\r\n\r\n    public setItemText(name: string, caption: string) {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        item.title = caption;\r\n    }\r\n\r\n    public setItemVisible(name: string, visible: boolean) {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        if (item.visible != visible) {\r\n            item.visible = visible;\r\n            this._list.setBoundsChangedFlag();\r\n        }\r\n    }\r\n\r\n    public setItemGrayed(name: string, grayed: boolean) {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        item.grayed = grayed;\r\n    }\r\n\r\n    public setItemCheckable(name: string, checkable: boolean) {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c) {\r\n            if (checkable) {\r\n                if (c.selectedIndex == 0)\r\n                    c.selectedIndex = 1;\r\n            }\r\n            else\r\n                c.selectedIndex = 0;\r\n        }\r\n    }\r\n\r\n    public setItemChecked(name: string, checked: boolean) {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            c.selectedIndex = checked ? 2 : 1;\r\n    }\r\n\r\n    public isItemChecked(name: string): boolean {\r\n        var item: GButton = <GButton>this._list.getChild(name);\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c)\r\n            return c.selectedIndex == 2;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    public removeItem(name: string): boolean {\r\n        var item: GObject = this._list.getChild(name);\r\n        if (item) {\r\n            var index: number = this._list.getChildIndex(item);\r\n            this._list.removeChildToPoolAt(index);\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    public clearItems() {\r\n        this._list.removeChildrenToPool();\r\n    }\r\n\r\n    public get itemCount(): number {\r\n        return this._list.numChildren;\r\n    }\r\n\r\n    public get contentPane(): GComponent {\r\n        return this._contentPane;\r\n    }\r\n\r\n    public get list(): GList {\r\n        return this._list;\r\n    }\r\n\r\n    public show(target: GObject = null, dir?: PopupDirection | boolean) {\r\n        GRoot.inst.showPopup(this.contentPane, (target instanceof GRoot) ? null : target, dir);\r\n    }\r\n\r\n    private onClickItem(item: GObject, evt: FUIEvent): void {\r\n        this._list._partner.callLater((dt: number) => {\r\n            this.onClickItem2(item, evt);\r\n        }, 0.1);\r\n    }\r\n\r\n    private onClickItem2(item: GObject, evt: FUIEvent): void {\r\n        if (!(item instanceof GButton))\r\n            return;\r\n\r\n        if (item.grayed) {\r\n            this._list.selectedIndex = -1;\r\n            return;\r\n        }\r\n        var c: Controller = item.getController(\"checked\");\r\n        if (c && c.selectedIndex != 0) {\r\n            if (c.selectedIndex == 1)\r\n                c.selectedIndex = 2;\r\n            else\r\n                c.selectedIndex = 1;\r\n        }\r\n        var r: GRoot = <GRoot>(this._contentPane.parent);\r\n        r.hidePopup(this.contentPane);\r\n        if (item.data instanceof Function)\r\n            item.data(item, evt);\r\n    }\r\n\r\n    private onDisplay() {\r\n        this._list.selectedIndex = -1;\r\n        this._list.resizeToFit(100000, 10);\r\n    }\r\n\r\n}","import { ObjectType, PackageItemType } from \"./FieldTypes\";\nimport { GButton } from \"./GButton\";\nimport { GComboBox } from \"./GComboBox\";\nimport { GComponent } from \"./GComponent\";\nimport { GGraph } from \"./GGraph\";\nimport { GGroup } from \"./GGroup\";\nimport { GImage } from \"./GImage\";\nimport { GLabel } from \"./GLabel\";\nimport { GList } from \"./GList\";\nimport { GLoader } from \"./GLoader\";\nimport { GLoader3D } from \"./GLoader3D\";\nimport { GMovieClip } from \"./GMovieClip\";\nimport { GObject } from \"./GObject\";\nimport { GProgressBar } from \"./GProgressBar\";\nimport { GRichTextField } from \"./GRichTextField\";\nimport { GScrollBar } from \"./GScrollBar\";\nimport { GSlider } from \"./GSlider\";\nimport { GTextField } from \"./GTextField\";\nimport { GTextInput } from \"./GTextInput\";\nimport { GTree } from \"./GTree\";\nimport { PackageItem } from \"./PackageItem\";\nimport { Decls, UIPackage } from \"./UIPackage\";\n\nexport class UIObjectFactory {\n    public static counter: number = 0;\n\n    public static extensions: { [index: string]: new () => GComponent } = {};\n    public static loaderType: new () => GLoader;\n\n    public constructor() {\n    }\n\n    public static setExtension(url: string, type: new () => GComponent): void {\n        if (url == null)\n            throw new Error(\"Invaild url: \" + url);\n\n        var pi: PackageItem = UIPackage.getItemByURL(url);\n        if (pi)\n            pi.extensionType = type;\n\n        UIObjectFactory.extensions[url] = type;\n    }\n\n    public static setLoaderExtension(type: new () => GLoader): void {\n        UIObjectFactory.loaderType = type;\n    }\n\n    public static resolveExtension(pi: PackageItem): void {\n        var extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.id + pi.id];\n        if (!extensionType)\n            extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\n        if (extensionType)\n            pi.extensionType = extensionType;\n    }\n\n    public static newObject(type: number | PackageItem, userClass?: new () => GObject): GObject {\n        var obj: GObject;\n        UIObjectFactory.counter++;\n\n        if (typeof type === 'number') {\n            switch (type) {\n                case ObjectType.Image:\n                    return new GImage();\n\n                case ObjectType.MovieClip:\n                    return new GMovieClip();\n\n                case ObjectType.Component:\n                    return new GComponent();\n\n                case ObjectType.Text:\n                    return new GTextField();\n\n                case ObjectType.RichText:\n                    return new GRichTextField();\n\n                case ObjectType.InputText:\n                    return new GTextInput();\n\n                case ObjectType.Group:\n                    return new GGroup();\n\n                case ObjectType.List:\n                    return new GList();\n\n                case ObjectType.Graph:\n                    return new GGraph();\n\n                case ObjectType.Loader:\n                    if (UIObjectFactory.loaderType)\n                        return new UIObjectFactory.loaderType();\n                    else\n                        return new GLoader();\n\n                case ObjectType.Button:\n                    return new GButton();\n\n                case ObjectType.Label:\n                    return new GLabel();\n\n                case ObjectType.ProgressBar:\n                    return new GProgressBar();\n\n                case ObjectType.Slider:\n                    return new GSlider();\n\n                case ObjectType.ScrollBar:\n                    return new GScrollBar();\n\n                case ObjectType.ComboBox:\n                    return new GComboBox();\n\n                case ObjectType.Tree:\n                    return new GTree();\n\n                case ObjectType.Loader3D:\n                    return new GLoader3D();\n\n                default:\n                    return null;\n            }\n        }\n        else {\n            if (type.type == PackageItemType.Component) {\n                if (userClass)\n                    obj = new userClass();\n                else if (type.extensionType)\n                    obj = new type.extensionType();\n                else\n                    obj = UIObjectFactory.newObject(type.objectType);\n            }\n            else\n                obj = UIObjectFactory.newObject(type.objectType);\n\n            if (obj)\n                obj.packageItem = type;\n        }\n\n        return obj;\n    }\n}\n\nDecls.UIObjectFactory = UIObjectFactory;","import { Vec2 } from \"cc\";\r\nimport { Event as FUIEvent } from \"./event/Event\";\r\nimport { AlignType, VertAlignType } from \"./FieldTypes\";\r\nimport { GLoader } from \"./GLoader\";\r\nimport { GObject } from \"./GObject\";\r\nimport { GRoot } from \"./GRoot\";\r\n\r\nexport class DragDropManager {\r\n\r\n    private _agent: GLoader;\r\n    private _sourceData: any;\r\n\r\n    private static _inst: DragDropManager;\r\n    public static get inst(): DragDropManager {\r\n        if (!DragDropManager._inst)\r\n            DragDropManager._inst = new DragDropManager();\r\n        return DragDropManager._inst;\r\n    }\r\n\r\n    public constructor() {\r\n        this._agent = new GLoader();\r\n        this._agent.draggable = true;\r\n        this._agent.touchable = false;//important\r\n        this._agent.setSize(100, 100);\r\n        this._agent.setPivot(0.5, 0.5, true);\r\n        this._agent.align = AlignType.Center;\r\n        this._agent.verticalAlign = VertAlignType.Middle;\r\n        this._agent.sortingOrder = 1000000;\r\n        this._agent.on(FUIEvent.DRAG_END, this.onDragEnd, this);\r\n    }\r\n\r\n    public get dragAgent(): GObject {\r\n        return this._agent;\r\n    }\r\n\r\n    public get dragging(): boolean {\r\n        return this._agent.parent != null;\r\n    }\r\n\r\n    public startDrag(source: GObject, icon: string | null, sourceData?: any, touchId?: number): void {\r\n        if (this._agent.parent)\r\n            return;\r\n\r\n        this._sourceData = sourceData;\r\n        this._agent.url = icon;\r\n        GRoot.inst.addChild(this._agent);\r\n        let pt: Vec2 = GRoot.inst.getTouchPosition(touchId);\r\n        pt = GRoot.inst.globalToLocal(pt.x, pt.y);\r\n        this._agent.setPosition(pt.x, pt.y);\r\n        this._agent.startDrag(touchId);\r\n    }\r\n\r\n    public cancel(): void {\r\n        if (this._agent.parent) {\r\n            this._agent.stopDrag();\r\n            GRoot.inst.removeChild(this._agent);\r\n            this._sourceData = null;\r\n        }\r\n    }\r\n\r\n    private onDragEnd(): void {\r\n        if (!this._agent.parent) //cancelled\r\n            return;\r\n\r\n        GRoot.inst.removeChild(this._agent);\r\n\r\n        var sourceData: any = this._sourceData;\r\n        this._sourceData = null;\r\n\r\n        var obj: GObject = GRoot.inst.touchTarget;\r\n        while (obj) {\r\n            if (obj.node.hasEventListener(FUIEvent.DROP)) {\r\n                obj.requestFocus();\r\n                obj.node.emit(FUIEvent.DROP, obj, sourceData);\r\n                return;\r\n            }\r\n\r\n            obj = obj.parent;\r\n        }\r\n    }\r\n}","import { Component, director, game, Node } from \"cc\";\r\nimport { PackageItemType, ObjectType } from \"./FieldTypes\";\r\nimport { GComponent } from \"./GComponent\";\r\nimport { GList } from \"./GList\";\r\nimport { constructingDepth, GObject } from \"./GObject\";\r\nimport { PackageItem } from \"./PackageItem\";\r\nimport { UIConfig } from \"./UIConfig\";\r\nimport { UIObjectFactory } from \"./UIObjectFactory\";\r\nimport { UIPackage } from \"./UIPackage\";\r\nimport { ByteBuffer } from \"./utils/ByteBuffer\";\r\n\r\nexport class AsyncOperation {\r\n    public callback: (obj: GObject) => void;\r\n\r\n    private _node: Node;\r\n\r\n    public createObject(pkgName: string, resName: string): void {\r\n        if (this._node)\r\n            throw 'Already running';\r\n\r\n        var pkg: UIPackage = UIPackage.getByName(pkgName);\r\n        if (pkg) {\r\n            var pi: PackageItem = pkg.getItemByName(resName);\r\n            if (!pi)\r\n                throw new Error(\"resource not found: \" + resName);\r\n\r\n            this.internalCreateObject(pi);\r\n        }\r\n        else\r\n            throw new Error(\"package not found: \" + pkgName);\r\n    }\r\n\r\n    public createObjectFromURL(url: string): void {\r\n        if (this._node)\r\n            throw 'Already running';\r\n\r\n        var pi: PackageItem = UIPackage.getItemByURL(url);\r\n        if (pi)\r\n            this.internalCreateObject(pi);\r\n        else\r\n            throw new Error(\"resource not found: \" + url);\r\n    }\r\n\r\n    public cancel(): void {\r\n        if (this._node) {\r\n            this._node.destroy();\r\n            this._node = null;\r\n        }\r\n    }\r\n\r\n    private internalCreateObject(item: PackageItem): void {\r\n        this._node = new Node(\"[AsyncCreating:\" + item.name + \"]\");\r\n        game.addPersistRootNode(this._node);\r\n        this._node.on(\"#\", this.completed, this);\r\n        this._node.addComponent(AsyncOperationRunner).init(item);\r\n    }\r\n\r\n    private completed(result: GObject): void {\r\n        this.cancel();\r\n\r\n        if (this.callback)\r\n            this.callback(result);\r\n    }\r\n}\r\n\r\nclass AsyncOperationRunner extends Component {\r\n\r\n    private _itemList: Array<DisplayListItem>;\r\n    private _objectPool: Array<GObject>;\r\n    private _index: number;\r\n\r\n    public constructor() {\r\n        super();\r\n\r\n        this._itemList = new Array<DisplayListItem>();\r\n        this._objectPool = new Array<GObject>();\r\n    }\r\n\r\n    public init(item: PackageItem): void {\r\n        this._itemList.length = 0;\r\n        this._objectPool.length = 0;\r\n\r\n        var di: DisplayListItem = { pi: item, type: item.objectType };\r\n        di.childCount = this.collectComponentChildren(item);\r\n        this._itemList.push(di);\r\n\r\n        this._index = 0;\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        this._itemList.length = 0;\r\n        var cnt: number = this._objectPool.length;\r\n        if (cnt > 0) {\r\n            for (var i: number = 0; i < cnt; i++)\r\n                this._objectPool[i].dispose();\r\n            this._objectPool.length = 0;\r\n        }\r\n    }\r\n\r\n    private collectComponentChildren(item: PackageItem): number {\r\n        var buffer: ByteBuffer = item.rawData;\r\n        buffer.seek(0, 2);\r\n\r\n        var di: DisplayListItem;\r\n        var pi: PackageItem;\r\n        var i: number;\r\n        var dataLen: number;\r\n        var curPos: number;\r\n        var pkg: UIPackage;\r\n\r\n        var dcnt: number = buffer.readShort();\r\n        for (i = 0; i < dcnt; i++) {\r\n            dataLen = buffer.readShort();\r\n            curPos = buffer.position;\r\n\r\n            buffer.seek(curPos, 0);\r\n\r\n            var type: number = buffer.readByte();\r\n            var src: string = buffer.readS();\r\n            var pkgId: string = buffer.readS();\r\n\r\n            buffer.position = curPos;\r\n\r\n            if (src != null) {\r\n                if (pkgId != null)\r\n                    pkg = UIPackage.getById(pkgId);\r\n                else\r\n                    pkg = item.owner;\r\n\r\n                pi = pkg != null ? pkg.getItemById(src) : null;\r\n                di = { pi: pi, type: type };\r\n\r\n                if (pi && pi.type == PackageItemType.Component)\r\n                    di.childCount = this.collectComponentChildren(pi);\r\n            }\r\n            else {\r\n                di = { type: type };\r\n                if (type == ObjectType.List) //list\r\n                    di.listItemCount = this.collectListChildren(buffer);\r\n            }\r\n\r\n            this._itemList.push(di);\r\n            buffer.position = curPos + dataLen;\r\n        }\r\n\r\n        return dcnt;\r\n    }\r\n\r\n    private collectListChildren(buffer: ByteBuffer): number {\r\n        buffer.seek(buffer.position, 8);\r\n\r\n        var listItemCount: number = 0;\r\n        var i: number;\r\n        var nextPos: number;\r\n        var url: string;\r\n        var pi: PackageItem;\r\n        var di: DisplayListItem;\r\n        var defaultItem: string = buffer.readS();\r\n        var itemCount: number = buffer.readShort();\r\n\r\n        for (i = 0; i < itemCount; i++) {\r\n            nextPos = buffer.readShort();\r\n            nextPos += buffer.position;\r\n\r\n            url = buffer.readS();\r\n            if (url == null)\r\n                url = defaultItem;\r\n            if (url) {\r\n                pi = UIPackage.getItemByURL(url);\r\n                if (pi) {\r\n                    di = { pi: pi, type: pi.objectType };\r\n                    if (pi.type == PackageItemType.Component)\r\n                        di.childCount = this.collectComponentChildren(pi);\r\n\r\n                    this._itemList.push(di);\r\n                    listItemCount++;\r\n                }\r\n            }\r\n            buffer.position = nextPos;\r\n        }\r\n\r\n        return listItemCount;\r\n    }\r\n\r\n    protected update(): void {\r\n        var obj: GObject;\r\n        var di: DisplayListItem;\r\n        var poolStart: number;\r\n        var k: number;\r\n        var t: number = director.getTotalTime() / 1000;\r\n        var frameTime: number = UIConfig.frameTimeForAsyncUIConstruction;\r\n        var totalItems: number = this._itemList.length;\r\n\r\n        while (this._index < totalItems) {\r\n            di = this._itemList[this._index];\r\n            if (di.pi) {\r\n                obj = UIObjectFactory.newObject(di.pi);\r\n                this._objectPool.push(obj);\r\n\r\n                constructingDepth.n++;\r\n                if (di.pi.type == PackageItemType.Component) {\r\n                    poolStart = this._objectPool.length - di.childCount - 1;\r\n\r\n                    (<GComponent>obj).constructFromResource2(this._objectPool, poolStart);\r\n\r\n                    this._objectPool.splice(poolStart, di.childCount);\r\n                }\r\n                else {\r\n                    obj.constructFromResource();\r\n                }\r\n                constructingDepth.n--;\r\n            }\r\n            else {\r\n                obj = UIObjectFactory.newObject(di.type);\r\n                this._objectPool.push(obj);\r\n\r\n                if (di.type == ObjectType.List && di.listItemCount > 0) {\r\n                    poolStart = this._objectPool.length - di.listItemCount - 1;\r\n\r\n                    for (k = 0; k < di.listItemCount; k++) //把他们都放到pool里，这样GList在创建时就不需要创建对象了\r\n                        (<GList>obj).itemPool.returnObject(this._objectPool[k + poolStart]);\r\n\r\n                    this._objectPool.splice(poolStart, di.listItemCount);\r\n                }\r\n            }\r\n\r\n            this._index++;\r\n            if ((this._index % 5 == 0) && director.getTotalTime() / 1000 - t >= frameTime)\r\n                return;\r\n        }\r\n\r\n        var result: GObject = this._objectPool[0];\r\n        this._itemList.length = 0;\r\n        this._objectPool.length = 0;\r\n\r\n        this.node.emit(\"#\", result);\r\n    }\r\n}\r\n\r\ninterface DisplayListItem {\r\n    type: ObjectType;\r\n    pi?: PackageItem;\r\n    childCount?: number;\r\n    listItemCount?: number;\r\n}\r\n"],"names":["CCEvent","s_vec2","FUIEvent","Decls","s_vec3","s_rect"],"mappings":"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"}